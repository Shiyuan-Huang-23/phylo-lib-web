(this["webpackJsonpphylo-lib-web"]=this["webpackJsonpphylo-lib-web"]||[]).push([[0],{171:function(e,t,n){e.exports=n(258)},176:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(32),c=n.n(o),i=(n(176),n(116)),l=n(53),u=n(24),s=(n(65),n(264)),f=n(266),m=n(261),v=n(262),d=n(263),h=m.a.Content;function p(){return console.log("/phylo-lib-web"),r.a.createElement("div",{className:"wrapper main"},r.a.createElement(h,{justify:"center"},r.a.createElement(v.a,{className:"intro",justify:"center"},r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to PhyloML"),r.a.createElement("h2",null,"A phylogenetic library written in OCaml."),r.a.createElement("h2",null,"Inferring Evolutionary History through modern genetic similarity."))),r.a.createElement(v.a,{justify:"center",gutter:[16,40]},r.a.createElement(d.a,{lg:7,md:10,sm:12},r.a.createElement(l.b,{className:"offset",to:"/generate"},"Generate Phylogenetic Trees")),r.a.createElement(d.a,{lg:7,md:10,sm:12},r.a.createElement(l.b,{className:"offset",to:"/visualize"},"Visualize Phylogenetic Trees")),r.a.createElement(d.a,{lg:7,md:10,sm:12},r.a.createElement(l.b,{className:"offset",to:"/pairwise"},"Visualize Pairwise DNA Alignments")))))}var g=n(122),b=n.n(g),y=n(146),E=n(27),w=n(260),x=n(125),N=n(259),_=n(265),j=n(20),A=n(22),k=n(15),S=n(7),O=n(25),C=n(3);O.b("Dna-PhyloLibWeb.Empty");function T(e,t){var n=k.h(e);return k.f((function(e){if(function(e){var t=e-84|0;if(!(t>11||t<0))return t>10||t<1;switch(t){case-18:case-16:case-15:case-14:return!1;case-19:case-17:case-13:return!0;default:return!1}}(e))return j.a(t,e)}),n)}function z(e){var t=j.d(128);return T(e,t),t}var F=j.e;function B(e,t){try{return j.f(e,t)}catch(n){return}}var L=j.f;function P(e,t,n){var a=n-t|0;return j.g(e,t,a)}j.c;var H=n(18),D=n(19),M=n(1),V=n(11),U=n(13);O.b("Tree-PhyloLibWeb.UnknownClade");function G(e){return e.tag?0:[e[0],D.b(D.g(G,e[1]))]}function R(e){return function(e){var t=G(e);return V.a(D.l(U.f,t),D.k(U.f,t))}(e)?e:S.f("clade_ids not unique")}var I={contents:0},W=(I.contents=I.contents+1|0,I.contents),X=M.a(0,[W,0,void 0,void 0,void 0,void 0]);function q(e){return!e.tag&&0===e[1]&&void 0===e[2]&&void 0===e[3]&&void 0===e[4]&&void 0===e[5]}function J(e,t,n){return M.a(1,[e,t,n])}function $(e){return M.a(1,[e,void 0,void 0])}function K(e){return X.tag?S.f("Representation invariant broken"):R(M.a(0,[(I.contents=I.contents+1|0,I.contents),e,void 0,void 0,void 0,void 0]))}var Q={contents:!0},Y={contents:""};function Z(e){return Q.contents?S.p(e):void(Y.contents=Y.contents+H.b(e))}function ee(e){return Q.contents?S.s(e):void(Y.contents=Y.contents+e)}function te(e){return Q.contents?void console.log(e):ee(e+"\n")}function ne(e){for(var t=1;t<=e;++t)Z(32)}function ae(e,t,n){for(;;){var a=t,r=e;if(!r)return;var o=r[1],c=r[0];ne(c===a&&0!==c?1:((c-a|0)<<1)+(0===c||0===a?0:1)|0),0===o?ee(n):Z(124),t=c+1|0,e=o}}function re(e){return ae(D.i(e),0,"|"),te("")}function oe(e){return e?ae(D.i(e),0,"o-"):S.i("ds")}function ce(e,t,n){for(;;){var a=e;if(!a)return;var r=a[1],o=a[0];if(o.tag){0!==n?re(n):S.r(void 0),0!==n&&oe(n);var c=o[2];void 0!==c&&"Unnamed"===o[0]?te(c):te(o[0]),e=r}else{var i=0!==r?[t,n]:n?[t,n[1]]:[t,0];0!==n&&re(n),0!==n&&oe(n),ee("C\n"),ce(o[1],t+1|0,i),e=r}}}function ie(e){return Y.contents="",Q.contents=!1,ce([e,0],0,0),Y.contents}var le=n(17),ue=n(4),se=n(14);var fe=n(43),me=n(23);function ve(e,t,n){return V.c(V.c(e,t),n)}function de(e,t,n,a,r,o,c,i){return[a.contents<1?-1e9:i+ue.c(ue.c(r,n.contents),a.contents-1|0)|0,n.contents<1?-1e9:i+ue.c(ue.c(r,n.contents-1|0),a.contents)|0,n.contents<1||a.contents<1?-1e9:ue.c(ue.c(r,n.contents-1|0),a.contents-1|0)+(V.a(B(e,(0>n.contents?0:n.contents)-1|0),B(t,(0>a.contents?0:a.contents)-1|0))?o:c)|0]}function he(e,t,n,a,r,o,c){for(var i=function(e,t,n,a,r){for(var o=fe.d(a,r,-1e9),c=0;c<a;++c)ue.d(ue.c(o,c),0,me.b(c,n));for(var i=0;i<r;++i)ue.d(ue.c(o,0),i,me.b(i,n));return o}(0,0,r,o,c),l=1;l<o;++l)for(var u=1;u<c;++u){var s=de(e,t,{contents:l},{contents:u},i,n,a,r);ue.d(ue.c(i,l),u,ve(s[0],s[1],s[2]))}return i}function pe(e,t,n,a,r,o){for(var c={contents:F(e)},i={contents:F(t)},l="",u="";c.contents>0||i.contents>0;){var s=de(e,t,c,i,n,a,r,o),f=ue.c(ue.c(n,c.contents),i.contents);f===s[2]?(l=H.b(L(e,c.contents-1|0))+l,u=H.b(L(t,i.contents-1|0))+u,c.contents=c.contents-1|0,i.contents=i.contents-1|0):f===s[0]?(l="_"+l,u=H.b(L(t,i.contents-1|0))+u,i.contents=i.contents-1|0):f===s[1]?(u="_"+u,l=H.b(L(e,c.contents-1|0))+l,c.contents=c.contents-1|0):S.f("This should not happen")}return[z(l),z(u)]}function ge(e,t,n,a,r){for(var o=pe(e,t,he(e,t,n,a,r,F(e)+1|0,F(t)+1|0),n,a,r),c=ue.c(o,0),i=ue.c(o,1),l=F(c),u=0,s=0;s<l;++s)V.a(B(c,s),95)||V.a(B(i,s),95)?u=u-r|0:V.e(B(c,s),B(i,s))&&(u=u+1|0);return u}var be={contents:!0},ye={contents:""};function Ee(e){return be.contents?S.p(e):void(ye.contents=ye.contents+H.b(e))}function we(e){return be.contents?void console.log(e):void(ye.contents=ye.contents+(e+"\n"))}function xe(e,t){for(var n=F(e),a=0,r=(n-1|0)/80|0;a<=r;++a){we(P(e,me.b(80,a),U.h(n,me.b(80,a+1|0))));for(var o=me.b(80,a),c=U.h(n-1|0,me.b(80,a+1|0)-1|0);o<=c;++o)V.a(B(e,o),B(t,o))?Ee(42):V.a(B(e,o),95)||V.a(B(t,o),95)?Ee(32):Ee(124);we(""),we(P(t,me.b(80,a),U.h(n,me.b(80,a+1|0)))),we("")}}function Ne(e,t,n,a){for(var r=e.length,o=le.b(void 0,r),c=0;c<r;++c)for(var i=c+1|0;i<r;++i)le.a(o,[c,i],ge(ue.c(e,c),ue.c(e,i),t,n,a));return o}function _e(e){if(0===le.f(e))return[[0,0],0];var t=[[0,0],S.j];return le.e((function(e,t,n){return t<n[1]?[e,t]:n}),e,t)}function je(e){return _e(e)[0]}function Ae(e,t,n){return le.d(n,[V.d(e,t),V.c(e,t)])}function ke(e,t,n){return e>=t?S.f("invalid input"):function(e,t,n){le.c((function(t,a){return t[0]===e?(a+Ae(t[1],e,n))/2:t[1]!==e?a:(a+Ae(t[0],e,n))/2}),n)}(e,0,n),function(e,t){le.c((function(t,n){return V.a(t[0],e)||V.a(t[1],e)?void 0:se.a(n)}),t)}(t,n),n}function Se(e){return 0===le.f(e)}function Oe(e,t,n,a){var r=ue.c(e,t),o=ue.c(e,n),c=D.a(t,a),i=D.a(n,a);if(void 0!==c){if(void 0!==i){var l=D.h(n,D.h(t,a));return[[t<n?t:n,K([c,[i,0]])],l]}var u=D.h(t,a);return[[t<n?t:n,K([$(o),[c,0]])],u]}if(void 0===i)return[[t<n?t:n,K([$(r),[$(o),0]])],a];var s=D.h(n,a);return[[t<n?t:n,K([$(r),[i,0]])],s]}function Ce(e,t){var n=t.length;if(0===n)return X;if(1===n)return $(ue.c(t,0));for(var a=e,r=0;;){var o=r,c=a;if(Se(c)){var i=D.j((function(e){return e[1]}),o);return 1===D.f(i)?D.e(i):D.f(i)>1?K(i):S.f("Precondition violated in upgma_help")}var l=je(c),u=l[1],s=l[0];r=Oe(t,s,u,o),a=ke(s,u,c)}}var Te=n(2),ze=n(167),Fe={contents:!0},Be={contents:""},Le={contents:S.v};function Pe(e){return Fe.contents?Te.a(ze.a(Le.contents,[M.a(2,[0,0]),"%s"]),e):void(Be.contents=Be.contents+e)}function He(e){for(var t=1;t<=e;++t)Pe("  ")}function De(e,t,n,a){return He(n),Pe("<"+e),function(e){for(;;){var t=e;if(!t)return;var n=t[1],a=t[0],r=0!==n;Pe(a[0]+'="'+a[1]+'"'+(r?" ":"")),e=n}}(t),Pe(a?">\n":">")}function Me(e,t){return He(t),Pe("</"+e+">\n")}function Ve(e,t,n){return He(t),Pe("<"+e+">"),Pe(n),Me(e,0)}function Ue(e,t,n){if(void 0!==n)return Ve(e,t,n)}function Ge(e){return De("phyloxml",0,0,!0),De("phylogeny",0,1,!0),0!==e.name.length&&Ve("name",2,e.name),0!==e.description.length&&Ve("description",2,e.description),q(e.tree)||function e(t,n){if(t.tag)return De("clade",0,n,!0),Ue("name",n+1|0,t[2]),""===t[0]&&void 0===t[1]||(De("taxonomy",0,n+1|0,!0),""!==t[0]&&Ve("scientific_name",n+2|0,t[0]),Ue("id",n+2|0,t[1]),Me("taxonomy",n+1|0)),Me("clade",n);De("clade",0,n,!0),Ue("name",n+1|0,t[5]);var a=t[2];return Ue("confidence",n+1|0,void 0!==a?S.x(a):void 0),void 0===t[3]&&void 0===t[4]||(De("taxonomy",0,n+1|0,!0),Ue("id",n+2|0,t[4]),Ue("rank",n+2|0,t[3]),Me("taxonomy",n+1|0)),function(t,n){for(;;){var a=t;if(!a)return;e(a[0],n),t=a[1]}}(t[1],n+1|0),Me("clade",n)}(e.tree,2),Me("phylogeny",1),Me("phyloxml",0)}var Re=m.a.Content;function Ie(){var e=Object(a.useState)(""),t=Object(E.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(!1),i=Object(E.a)(c,2),l=i[0],u=i[1],s=Object(a.useState)([]),f=Object(E.a)(s,2),m=f[0],d=f[1],h=Object(a.useState)([]),p=Object(E.a)(h,2),g=p[0],j=p[1],A=Object(a.useState)(void 0),k=Object(E.a)(A,2),S=k[0],O=k[1],C=function(e,t){d((function(t){return t.concat(e)})),j((function(e){return e.concat(t)}))},T=function(){var e=Object(y.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(a=new FileReader).onload=function(){var e=z(a.result);C(e,n)},a.readAsText(t)}catch(r){console.log(r),console.log("File printing failed")}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F={accept:".FASTA, .txt, .fasta",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",headers:{authorization:"authorization-text"},multiple:!0,transformFile:function(e){var t=e.name.split(".").slice(0,-1).join(".").toUpperCase();T(e,t)}};return r.a.createElement("div",{className:"wrapper"},r.a.createElement(Re,{justify:"center"},r.a.createElement(v.a,{className:"page",justify:"center"},r.a.createElement("div",null,r.a.createElement("h1",null,"Generate a Phylogenetic Tree"),r.a.createElement("h2",null,"By computing similarity scores for DNA samples of species, we can infer their species' evolutionary history through time. Begin by uploading .FASTA files that contain DNA sequences, or use our example DNA sequences."))),r.a.createElement(v.a,{className:"horizontally-centered"},r.a.createElement(w.a,F,r.a.createElement(x.a,null,r.a.createElement(_.a,null)," Upload .FASTA files")),r.a.createElement(x.a,{onClick:function(){var e=ie(Ce(Ne(m,1,-1,-1),g));console.log(e),o(e),u(!0)}},"Generate tree"),r.a.createElement("div",null,r.a.createElement(x.a,{onClick:function(){if(m.length<1)alert("At least one FASTA file must be uploaded for tree generation.");else{var e=function(e){return Fe.contents=!1,Be.contents="",Ge({name:"",description:"",tree:e}),Be.contents}(Ce(Ne(m,1,-1,-1),g)),t=r.a.createElement("a",{href:"data:text/xml;charset=utf-8,"+encodeURIComponent(e),download:"tree.xml"},"Click to Download");O(t)}}},"Save tree as phyloXML"),void 0!==S?r.a.createElement(v.a,{className:"centered-content"},S):null))),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement("p",{className:"example-text"}," See our examples: ")),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement(N.default.Group,{onChange:function(e){switch(e.target.value){case"Influenza A Viruses":u(!0),o("\n\nC\n|\no-SARS\n|\no-C\n  |\n  o-C\n  | |\n  | o-H6N1\n  | |\n  | o-C\n  |   |\n  |   o-H5N1\n  |   |\n  |   o-C\n  |     |\n  |     o-H3N2\n  |     |\n  |     o-C\n  |       |\n  |       o-H7N9\n  |       |\n  |       o-C\n  |         |\n  |         o-H1N1\n  |         |\n  |         o-H7N7\n  |\n  o-C\n    |\n    o-C\n    | |\n    | o-H2N3\n    | |\n    | o-H10N7\n    |\n    o-C\n      |\n      o-H3N1\n      |\n      o-H3N8\n\n")}}},r.a.createElement(N.default.Button,{value:"Coronaviruses"},"Coronaviruses"),r.a.createElement(N.default.Button,{value:"Influenza A Viruses"},"Influenza A Viruses"),r.a.createElement(N.default.Button,{value:"Example 1"},"Apaf-1 Gene Family Tree"),r.a.createElement(N.default.Button,{value:"Example 2"},"Alcohol Dehydrogenases"))),l?r.a.createElement(v.a,{justify:"center"},r.a.createElement("div",{className:"ascii-phylo-container"},r.a.createElement("p",{className:"ascii-phylo"},n))):null)}var We=n(16),Xe=n(26);function qe(e){return"number"!==typeof e||(e>=14?e<17:e<9)}function Je(e){if("number"!==typeof e)return e.tag?e[0]:String(e[0]);switch(e){case 0:return"phylogeny";case 1:return"name";case 2:return"description";case 3:return"clade";case 4:return"rank";case 5:return"confidence";case 6:return"taxonomy";case 7:return"scientific_name";case 8:return"id";case 9:return"<";case 10:return"</";case 11:return">";case 12:return"quote";case 13:return"=";case 14:return".";case 15:return"true";case 16:return"false";case 17:return"EOF";case 18:return"Unit"}}var $e=le.b(void 0,16);function Ke(e,t){var n;if(t){var a=S.k(e);n=A.b((function(e){try{return S.h(a)}catch(i){if(i===C.c)return;throw i}}))}else{var r=A.f(e);n=A.b((function(e){try{return function(e,t){for(;;){var n=t,a=A.g(e);if(void 0===a){if(""===n)throw C.c;return n}if(A.d(e),10===a)return n;if(13===a)return n;t=n+H.b(a)}}(r,"")}catch(i){if(i===C.c)return;throw i}}))}var o,c=A.g(n);if(void 0===c)return n;try{o=k.g(c,0,5)}catch(l){var i=Xe.a(l);if(i[0]===C.e)return n;throw i}return"<?xml"!==o||A.d(n),n}function Qe(e,t){var n=A.g(e);if(void 0!==n){var a;try{a=n}catch(r){if(r===A.a)return Ye(t);throw r}return 32!==a?le.g($e,t)?le.d($e,t):function(e){return e>=60?e<63:34===e}(n)?M.a(1,[t]):(A.d(e),Qe(e,t+H.b(n))):Ye(t)}return Ye(t)}function Ye(e){return le.g($e,e)?le.d($e,e):M.a(1,[e])}function Ze(e){return!(e>57||e<48)}function et(e,t){for(;;){var n=t,a=A.g(e);if(void 0===a)return M.a(0,[We.i(n)]);if(!Ze(a))return M.a(0,[We.i(n)]);A.d(e),t=n+H.b(a)}}function tt(e){var t;try{t=function(e){var t;try{t=A.e(e)}catch(n){if(n===A.a)throw C.c;throw n}return A.f(t)}(e)}catch(l){if(l===C.c)return[17,0];throw l}for(var n=0;;){var a,r=n,o=0;try{a=A.e(t),o=1}catch(u){if(u===A.a)return D.i(r);if(u===C.c)return[17,0];throw u}if(1===o){var c=0;if(a>=32){if(46===a){n=[14,r];continue}if(a>=60)if(a>=63)c=2;else switch(a-60|0){case 0:var i=A.g(t);if(void 0===i)return D.i([9,r]);if(47===i){A.d(t),n=[10,r];continue}n=[9,r];continue;case 1:n=[13,r];continue;case 2:n=[11,r];continue}else if(a>=35)c=2;else switch(a-32|0){case 0:continue;case 1:c=2;break;case 2:n=[12,r];continue}}else if(a>=11){if(13===a)continue;c=2}else{if(a>=9)continue;c=2}if(2===c){if(Ze(a)){n=[et(t,H.b(a)),r];continue}n=[Qe(t,H.b(a)),r];continue}}}}le.a($e,"phylogeny",0),le.a($e,"name",1),le.a($e,"description",2),le.a($e,"clade",3),le.a($e,"rank",4),le.a($e,"confidence",5),le.a($e,"taxonomy",6),le.a($e,"scientific_name",7),le.a($e,"id",8),le.a($e,"true",15),le.a($e,"false",16);var nt=O.b("Phylo_parser-PhyloLibWeb.SyntaxError"),at={name:"",description:"",tree:X},rt={name:void 0,rank:void 0,confidence:void 0,taxonomy:void 0};var ot={contents:function(e){return 17}},ct={contents:function(e){return 17}};function it(e){var t=Te.a(ot.contents,void 0);if(!V.a(t,e))throw Je(e),Je(t),nt;Te.a(ct.contents,void 0)}function lt(e){for(;;){var t=e,n=Te.a(ot.contents,void 0);if("number"===typeof n){switch(n){case 1:case 2:case 3:case 4:case 5:case 6:case 8:case 14:case 15:break;default:return t}it(n),e=""===t?Je(n):t+" "+Je(n)}else{if(n.tag){var a=n[0];if(it(M.a(1,[a])),""!==t){e=t+" "+a;continue}e=a;continue}var r=n[0];if(it(M.a(0,[r])),""!==t){e=t+" "+String(r);continue}e=String(r)}}}function ut(e,t){return void 0!==e?[t,e]:[t,0]}function st(e){return it(10),it(e),it(11)}function ft(e,t){var n=Te.a(ot.contents,void 0);if("number"===typeof n){if(12===n){it(12);var a,r=Te.a(ot.contents,void 0);if("number"===typeof r)if(15!==r){if(16!==r)throw nt;it(16),a={tag_name:e.tag_name,str_attr:e.str_attr,num_attr:e.num_attr,bool_attr:ut(e.bool_attr,[t,!1])}}else it(15),a={tag_name:e.tag_name,str_attr:e.str_attr,num_attr:e.num_attr,bool_attr:ut(e.bool_attr,[t,!0])};else{var o=lt("");a={tag_name:e.tag_name,str_attr:ut(e.str_attr,[t,o]),num_attr:e.num_attr,bool_attr:e.bool_attr}}return it(12),a}throw nt}if(n.tag)throw nt;var c=n[0];return it(M.a(0,[c])),{tag_name:e.tag_name,str_attr:e.str_attr,num_attr:ut(e.num_attr,[t,c]),bool_attr:e.bool_attr}}function mt(e){it(9);var t=Te.a(ot.contents,void 0);if(!function(e){if("number"!==typeof e)return 1===e.tag;switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:return!0;default:return!1}}(t))throw nt;it(t);for(var n={tag_name:t,str_attr:void 0,num_attr:void 0,bool_attr:void 0};;){var a=n,r=Te.a(ot.contents,void 0);if(!qe(r)){if("number"===typeof r){if(11!==r)throw nt;return it(11),a}throw nt}it(r),it(13),n=ft(a,Je(r))}}function vt(e){for(;;){var t=Te.a(ot.contents,void 0);if("number"!==typeof t)it(t);else{if(9!==t){if(10===t)return st(e);it(t);continue}vt(mt().tag_name)}}}function dt(e){if("number"===typeof Te.a(ot.contents,void 0))throw nt;var t=lt("");return st(1),t}function ht(e){if("number"===typeof Te.a(ot.contents,void 0))throw nt;var t=lt("");return st(2),t}function pt(e){it(14);var t=Te.a(ot.contents,void 0);if("number"===typeof t)return st(5),0;if(t.tag)return st(5),0;var n=t[0],a=We.a(String(e)+"."+String(n));return it(M.a(0,[n])),st(5),a}function gt(e){var t=Te.a(ot.contents,void 0);if("number"===typeof t){if(14===t)return pt(0);throw nt}if(t.tag)throw nt;var n=t[0];return it(M.a(0,[n])),14===Te.a(ot.contents,void 0)?pt(n):(st(5),n)}function bt(e){if("number"===typeof Te.a(ot.contents,void 0))throw nt;var t=lt("");return st(8),t}function yt(e){if("number"===typeof Te.a(ot.contents,void 0))throw nt;var t=lt("");return st(7),t}function Et(e){for(;;){var t=e,n=Te.a(ot.contents,void 0);if("number"!==typeof n)throw nt;if(9!==n){if(10!==n)throw nt;return st(6),t}var a=mt().tag_name;if("number"!==typeof a)vt(a);else{if(7!==a){if(8!==a){vt(a);continue}e={id:bt(),scientific_name:t.scientific_name};continue}e={id:t.id,scientific_name:yt()}}}}function wt(e,t){var n=Te.a(ot.contents,void 0);if("number"===typeof n){if(9!==n){if(10!==n)throw nt;if(st(3),q(e)){var a=t.taxonomy;if(void 0!==a)return J(a.scientific_name,a.id,t.name);var r=t.name;return void 0!==r?J(r,void 0,r):$("Unnamed")}if(e.tag)return e;var o=t.taxonomy,c=void 0!==o?o.id:void 0;return M.a(0,[e[0],e[1],t.confidence,t.rank,c,t.name])}var i=mt().tag_name;if("number"===typeof i)switch(i){case 1:return wt(e,{name:dt(),rank:t.rank,confidence:t.confidence,taxonomy:t.taxonomy});case 3:if(q(e))return wt(wt(e,rt),t);var l=wt(X,rt);return wt(K([e,[l,0]]),t);case 5:return wt(e,{name:t.name,rank:t.rank,confidence:gt(),taxonomy:t.taxonomy});case 6:return wt(e,{name:t.name,rank:t.rank,confidence:t.confidence,taxonomy:Et({id:void 0,scientific_name:"Unnamed"})})}return vt(i),wt(e,t)}throw nt}function xt(e){var t=function(e){var t={contents:tt(e)},n={contents:function(e,t){return 17}};return n.contents=function(a){return a?function(a){var r=t.contents;return r?r[0]:(t.contents=tt(e),Te.b(n.contents,!0,void 0))}:function(n){var a=t.contents;return a?(t.contents=a[1],18):(t.contents=tt(e),18)}},n.contents}(e);ot.contents=Te.a(t,!0),ct.contents=Te.a(t,!1);var n=Te.a(ot.contents,void 0);if("number"===typeof n){if(9===n){var a=mt().tag_name;if("number"===typeof a)throw nt;if(1===a.tag){if("phyloxml"===a[0]){var r=mt().tag_name;if("number"===typeof r){if(0!==r)throw nt;var o=function(e){for(;;){var t=e,n=Te.a(ot.contents,void 0);if("number"!==typeof n)throw nt;if(9!==n){if(10!==n)throw nt;return st(0),t}var a=mt().tag_name;if("number"===typeof a)if(a>=4)vt(a);else switch(a){case 0:vt(a);continue;case 1:e={name:dt(),description:t.description,tree:t.tree};continue;case 2:e={name:t.name,description:ht(),tree:t.tree};continue;case 3:e={name:t.name,description:t.description,tree:wt(t.tree,rt)};continue}else vt(a)}}(at);return st(M.a(1,["phyloxml"])),o}throw nt}throw nt}throw nt}if(17===n)return at;throw nt}throw nt}function Nt(e){return xt(function(e){return Ke(e,!1)}(e))}var _t=m.a.Content;function jt(){var e=Object(a.useState)(!1),t=Object(E.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),i=Object(E.a)(c,2),l=i[0],u=i[1],m=Object(a.useState)(""),d=Object(E.a)(m,2),h=d[0],p=d[1],g=Object(a.useState)([]),b=Object(E.a)(g,2),y=b[0],j=b[1],A=Object(a.useState)(void 0),k=Object(E.a)(A,2),S=k[0],O=k[1],C=new FileReader,T=function(e){try{C.onload=function(){var e=ie(Nt(C.result).tree);u(e),o(!0)},C.readAsText(e)}catch(t){console.log(t),console.log("File printing failed")}},z={accept:".xml",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:y,headers:{authorization:"authorization-text"},onChange:function(e){j(e.fileList)},transformFile:function(e){j([e]),O(e)}};return r.a.createElement("div",{className:"wrapper"},r.a.createElement(_t,{justify:"center"},r.a.createElement(v.a,{className:"page",justify:"center",gutter:[16,16]},r.a.createElement("div",null,r.a.createElement("h1",null,"Visualize PhyloXML"),r.a.createElement("h2",null,"Visualize an existing phylogenetic tree. Begin by uploading a phyloXML file, or use our example files."))),r.a.createElement(v.a,{className:"horizontally-centered"},r.a.createElement(w.a,z,r.a.createElement(x.a,null,r.a.createElement(_.a,null),"Upload PhyloXML Files")),r.a.createElement(x.a,{onClick:function(){y.length<1?alert("At least one phyloXML file must be uploaded for tree visualization."):T(S)}},"Visualize")),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement("p",{className:"example-text"}," See our examples: ")),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement(N.default.Group,{onChange:function(e){var t="/phylo-lib-web/examples/phyloXML/"+e.target.value+".xml";p(e.target.value),fetch(t).then((function(e){return e.blob()})).then((function(e){return T(e)}))}},r.a.createElement(N.default.Button,{value:"amphi_frost"},"Amphibian Phylogeny"),r.a.createElement(N.default.Button,{value:"tol_156"},"The Tree of Life"),r.a.createElement(N.default.Button,{value:"apaf"},"Apaf-1 Gene Family Tree"),r.a.createElement(N.default.Button,{value:"adh"},"Alcohol Dehydrogenases")),r.a.createElement(s.a,{content:r.a.createElement("p",null,"Example files obtained from"," ",r.a.createElement("a",{href:"http://phyloxml.org/",target:"_blank",rel:"noopener noreferrer"},"phyloxml.org"),".",""!==h?r.a.createElement("p",null,"See the phyloXML source for the current tree"," ",r.a.createElement("a",{href:"adh"!==h?"http://phyloxml.org/archaeopteryx-js/phyloxml_trees/"+h+".xml":"http://www.phyloxml.org/examples/adh.xml",target:"_blank",rel:"noopener noreferrer"},"here"),"."):null),title:"Credits",trigger:"click"},r.a.createElement("div",{className:"example-credits"},r.a.createElement(f.a,null)))),n?r.a.createElement(v.a,{justify:"center"},r.a.createElement("div",{className:"ascii-phylo-container"},r.a.createElement("p",{className:"ascii-phylo"},l))):null))}var At=m.a.Content;function kt(){var e=Object(a.useState)(!1),t=Object(E.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),i=Object(E.a)(c,2),l=i[0],u=i[1],m=Object(a.useState)([]),d=Object(E.a)(m,2),h=d[0],p=d[1],g=Object(a.useState)([]),b=Object(E.a)(g,2),y=b[0],j=b[1],A=Object(a.useState)([]),k=Object(E.a)(A,2),S=k[0],O=k[1],C=Object(a.useState)([]),T=Object(E.a)(C,2),B=T[0],L=T[1],P=function(e,t,n){try{var a=new FileReader;a.onload=function(){t.push(z(a.result)),B.length>2&&L(B.slice(-2)),2===t.length&&n&&H(t)},a.readAsText(e)}catch(r){console.log(r),console.log("File printing failed")}},H=function(e){if(e.length<2)alert("Not enough DNA sequences to perform pairwise alignment");else{var t=function(e,t,n,a,r){var o=F(e)+1|0,c=F(t)+1|0,i=he(e,t,n,a,r,o,c),l=ue.c(ue.c(i,o-1|0),c-1|0);return[pe(e,t,i,n,a,r),l]}(e[0],e[1],1,-1,-1),n=Object(E.a)(t,1)[0],a=(r=n[0],c=n[1],ye.contents="",be.contents=!1,xe(r,c),ye.contents);u(a.trim()),o(!0)}var r,c},D={accept:".FASTA, .fasta, .txt",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:S,onChange:function(e){O(e.fileList)},headers:{authorization:"authorization-text"},multiple:!0,onRemove:function(e){B.splice(S.indexOf(e)),L(B)},transformFile:function(e){P(e,B,!1),S.push(e),O(S.slice(-2))}};return r.a.createElement("div",{className:"wrapper"},r.a.createElement(At,{justify:"center"},r.a.createElement(v.a,{className:"page",justify:"center",gutter:[16,16]},r.a.createElement("div",null,r.a.createElement("h1",null,"Visualize Pairwise DNA Alignments"),r.a.createElement("h2",null,"Visualize an alignment of two DNA sequences. Begin by uploading two .FASTA files, or use our example files."))),r.a.createElement(v.a,{className:"horizontally-centered"},r.a.createElement(w.a,D,r.a.createElement(x.a,null,r.a.createElement(_.a,null),"Upload .FASTA Files")),r.a.createElement(x.a,{onClick:function(){H(B),B.length>=2&&(p([]),j([]))}},"Display Alignment")),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement("p",{className:"example-text"}," See our examples: ")),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement(N.default.Group,{onChange:function(e){p([]);var t=e.target.value.split(",");j(t),t.map((function(e){fetch("/phylo-lib-web/examples/FASTA/"+e+".fasta").then((function(e){return e.blob()})).then((function(e){return P(e,h,!0)}))}))}},r.a.createElement(N.default.Button,{value:"h1n1,h3n2"},"H1N1 vs H3N2"),r.a.createElement(N.default.Button,{value:"h5n1,h7n7"},"H5N1 vs H7N7"),r.a.createElement(N.default.Button,{value:"mers,h7n9"},"MERS vs H7N9")),r.a.createElement(s.a,{content:r.a.createElement("div",null,r.a.createElement("p",null,"The pairwise alignment shown is a globally optimum alignment obtained via the Needleman-Wunch algorithm."),r.a.createElement("p",null,"Base pair matches, mismatches and gaps are visualized. A star indicates a pair match, a bar indicates a mismatch, and a blank space indicates a gap."),r.a.createElement("p",null,"Example files obtained from"," ",r.a.createElement("a",{href:"https://www.ncbi.nlm.nih.gov/nuccore/",target:"_blank",rel:"noopener noreferrer"},"NCBI Nucleotide"),".",2===y.length?r.a.createElement("p",null,"See the sources for the current alignment:"," ",r.a.createElement("a",{href:"/phylo-lib-web/examples/FASTA/"+y[0]+".fasta",target:"_blank",rel:"noopener noreferrer"},y[0]+".fasta")," ","and"," ",r.a.createElement("a",{href:"/phylo-lib-web/examples/FASTA/"+y[1]+".fasta",target:"_blank",rel:"noopener noreferrer"},y[1]+".fasta"),"."):null)),title:"Information and Credits",trigger:"click"},r.a.createElement("div",{className:"example-credits"},r.a.createElement(f.a,null)))),n?r.a.createElement(v.a,{justify:"center"},r.a.createElement("div",{className:"ascii-phylo-container"},r.a.createElement("p",{className:"ascii-phylo"},l))):null))}var St=function(){var e,t=r.a.createElement("div",null,r.a.createElement("p",null,"A"," ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Phylogenetic_tree"},"phylogenetic tree")," ","is a tree that shows the evolutionary relationships between species. The structure of these trees can be stored in"," ",r.a.createElement("a",{href:"http://www.phyloxml.org/"},"XML")," files. To see visualizations of such trees, you can click Visualize Phylogenetic Trees."),r.a.createElement("p",null," ","We can also try to predict the structure of phylogenetic trees by looking at the similarities in the DNAs of different species. To know more, you can click Generate Phylogenetic Trees."));return r.a.createElement("header",{className:"site-header"},r.a.createElement(l.b,{className:"site-title",to:"/"},"PhyloML"),r.a.createElement(s.a,(e={className:"clickable",content:t},Object(i.a)(e,"className","tooltip"),Object(i.a)(e,"trigger","click"),e),r.a.createElement("a",{className:"tooltip"}," ",r.a.createElement(f.a,{style:{paddingRight:"0.5em"}}),"Confused by all the terms?")))};function Ot(){return r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(St,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/generate",exact:!0,component:function(){return r.a.createElement(Ie,null)}}),r.a.createElement(u.a,{path:"/visualize",exact:!0,component:function(){return r.a.createElement(jt,null)}}),r.a.createElement(u.a,{path:"/pairwise",exact:!0,component:function(){return r.a.createElement(kt,null)}}),r.a.createElement(u.a,{path:"/",exact:!0,component:function(){return r.a.createElement(p,null)}}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,t,n){}},[[171,1,2]]]);
//# sourceMappingURL=main.08000ad8.chunk.js.map