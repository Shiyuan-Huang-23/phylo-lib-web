(this["webpackJsonpphylo-lib-web"]=this["webpackJsonpphylo-lib-web"]||[]).push([[0],{114:function(e,t,n){e.exports=n(188)},119:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(23),i=n.n(o),c=(n(119),n(112)),u=(n(52),n(194)),s=n(196),l=n(197),f=a.a.createContext(),m=n(191),v=n(192),d=n(193),h=m.a.Content;function p(){var e=a.a.useContext(f),t=e.goVisualizePhylo,n=e.goGeneratePhylo;return a.a.createElement("div",{class:"wrapper main"},a.a.createElement(h,{justify:"center"},a.a.createElement(v.a,{className:"intro",justify:"center",gutter:[16,16]},a.a.createElement("div",null,a.a.createElement("h1",null,"Welcome to PhyloCaml"),a.a.createElement("h2",null,"A phylogenetic library written in OCaml."),a.a.createElement("h2",null,"Inferring Evolutionary History through modern genetic similarity."))),a.a.createElement(v.a,{justify:"center",gutter:[16,40]},a.a.createElement(d.a,{lg:7,md:10,sm:12},a.a.createElement("div",{className:"wrap"},a.a.createElement("button",{className:"offset",onClick:n},"Work with .FASTA files"))),a.a.createElement(d.a,{lg:7,md:10,sm:12},a.a.createElement("div",{className:"wrap"},a.a.createElement("button",{className:"offset",onClick:t},"Work with PhyloXML files"))))))}var y=n(44),g=n.n(y),w=n(55),b=n(189),E=n(81),_=n(195),k=n(35),x=n(16),P=n(30),A=n(9),N=n(19),C=n(1);N.b("Dna-PhyloLibWeb.Empty");function S(e,t){var n=P.e(e);return P.c((function(e){if(function(e){var t=e-84|0;if(!(t>11||t<0))return t>10||t<1;switch(t){case-18:case-16:case-15:case-14:return!1;case-19:case-17:case-13:return!0;default:return!1}}(e))return k.a(t,e)}),n)}function O(e){var t=k.c(128);return S(e,t),t}k.d;k.e;var L=k.b,F=m.a.Content,H=new FileReader,j=function(){var e=Object(w.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{H.onload=function(){console.log(L(O(H.result)))},H.readAsText(t)}catch(n){console.log(n),console.log("File printing failed")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T={accept:".FASTA, .text, .fasta",multiple:!0,transformFile:function(e){j(e)}};function M(){return a.a.createElement("div",{class:"wrapper"},a.a.createElement(F,{justify:"center"},a.a.createElement(v.a,{className:"page",justify:"center"},a.a.createElement("div",null,a.a.createElement("h1",null,"Generate a Phylogenetic Tree"),a.a.createElement("h2",null,"By computing similarity scores for DNA samples of species, we can infer their species' evolutionary history through time. Begin by uploading .FASTA files that contain DNA sequences, or use our example DNA sequences."))),a.a.createElement(v.a,{className:"upload"},a.a.createElement(b.a,T,a.a.createElement(E.a,null,a.a.createElement(_.a,null)," Upload .FASTA files")))))}var U=n(20),W=n(24),B=n(4),R=n(10),z=n(12);N.b("Tree-PhyloLibWeb.UnknownClade");function I(e){return e.tag?0:[e[0],W.a(W.d(I,e[1]))]}function V(e){return function(e){var t=I(e);return R.a(W.g(z.f,t),W.f(z.f,t))}(e)?e:A.c("clade_ids not unique")}var G={contents:0},q=(G.contents=G.contents+1|0,G.contents),D=B.a(0,[q,0,void 0,void 0,void 0,void 0]);function X(e){return!e.tag&&0===e[1]&&void 0===e[2]&&void 0===e[3]&&void 0===e[4]&&void 0===e[5]}function Y(e,t,n){return B.a(1,[e,t,n])}var J={contents:""};function Z(e){J.contents=J.contents+U.b(e)}function $(e){J.contents=J.contents+e}function K(e){for(var t=1;t<=e;++t)Z(32)}function Q(e,t,n){for(;;){var r=t,a=e;if(!a)return;var o=a[1],i=a[0];K(i===r&&0!==i?1:((i-r|0)<<1)+(0===i||0===r?0:1)|0),0===o?$(n):Z(124),t=i+1|0,e=o}}function ee(e){return Q(W.e(e),0,"|"),$("\n")}function te(e){return e?Q(W.e(e),0,"o-"):A.f("ds")}function ne(e){return J.contents="",function e(t,n,r){for(;;){var a=t;if(!a)return;var o=a[1],i=a[0];if(i.tag)0!==r?ee(r):A.l(void 0),0!==r&&te(r),$(i[0]+"\n"),t=o;else{var c=0!==o?[n,r]:r?[n,r[1]]:[n,0];0!==r&&ee(r),0!==r&&te(r),$("C\n"),e(i[1],n+1|0,c),t=o}}}([e,0],0,0),J.contents}var re=n(2),ae=n(15),oe=n(21),ie=n(26);function ce(e){return"number"!==typeof e||(e>=14?e<17:e<9)}function ue(e){if("number"!==typeof e)return e.tag?e[0]:String(e[0]);switch(e){case 0:return"phylogeny";case 1:return"name";case 2:return"description";case 3:return"clade";case 4:return"rank";case 5:return"confidence";case 6:return"taxonomy";case 7:return"scientific_name";case 8:return"id";case 9:return"<";case 10:return"</";case 11:return">";case 12:return"quote";case 13:return"=";case 14:return".";case 15:return"true";case 16:return"false";case 17:return"EOF";case 18:return"Unit"}}var se=oe.b(void 0,16);function le(e,t){var n=x.g(e);if(void 0!==n){var r;try{r=n}catch(a){if(a===x.a)return fe(t);throw a}return 32!==r?oe.d(se,t)?oe.c(se,t):function(e){return e>=60?e<63:34===e}(n)?B.a(1,[t]):(x.d(e),le(e,t+U.b(n))):fe(t)}return fe(t)}function fe(e){return oe.d(se,e)?oe.c(se,e):B.a(1,[e])}function me(e){return!(e>57||e<48)}function ve(e,t){for(;;){var n=t,r=x.g(e);if(void 0===r)return B.a(0,[ae.f(n)]);if(!me(r))return B.a(0,[ae.f(n)]);x.d(e),t=n+U.b(r)}}function de(e){var t;try{t=function(e){var t;try{t=x.e(e)}catch(n){if(n===x.a)throw C.c;throw n}return x.f(t)}(e)}catch(u){if(u===C.c)return[17,0];throw u}for(var n=0;;){var r,a=n,o=0;try{r=x.e(t),o=1}catch(s){if(s===x.a)return W.e(a);if(s===C.c)return[17,0];throw s}if(1===o){var i=0;if(r>=32){if(46===r){n=[14,a];continue}if(r>=60)if(r>=63)i=2;else switch(r-60|0){case 0:var c=x.g(t);if(void 0===c)return W.e([9,a]);if(47===c){x.d(t),n=[10,a];continue}n=[9,a];continue;case 1:n=[13,a];continue;case 2:n=[11,a];continue}else if(r>=35)i=2;else switch(r-32|0){case 0:continue;case 1:i=2;break;case 2:n=[12,a];continue}}else if(r>=11){if(13===r)continue;i=2}else{if(r>=9)continue;i=2}if(2===i){if(me(r)){n=[ve(t,U.b(r)),a];continue}n=[le(t,U.b(r)),a];continue}}}}oe.a(se,"phylogeny",0),oe.a(se,"name",1),oe.a(se,"description",2),oe.a(se,"clade",3),oe.a(se,"rank",4),oe.a(se,"confidence",5),oe.a(se,"taxonomy",6),oe.a(se,"scientific_name",7),oe.a(se,"id",8),oe.a(se,"true",15),oe.a(se,"false",16);var he=N.b("Phylo_parser-PhyloLibWeb.SyntaxError"),pe={name:"",description:"",tree:D},ye={name:void 0,rank:void 0,confidence:void 0,taxonomy:void 0};var ge={contents:function(e){return 17}},we={contents:function(e){return 17}};function be(e){var t=re.a(ge.contents,void 0);if(!R.a(t,e))throw ue(e),ue(t),he;re.a(we.contents,void 0)}function Ee(e){for(;;){var t=e,n=re.a(ge.contents,void 0);if("number"===typeof n){switch(n){case 1:case 2:case 3:case 4:case 5:case 6:case 8:case 14:case 15:break;default:return t}be(n),e=""===t?ue(n):t+" "+ue(n)}else{if(n.tag){var r=n[0];if(be(B.a(1,[r])),""!==t){e=t+" "+r;continue}e=r;continue}var a=n[0];if(be(B.a(0,[a])),""!==t){e=t+" "+String(a);continue}e=String(a)}}}function _e(e,t){return void 0!==e?[t,e]:[t,0]}function ke(e){return be(10),be(e),be(11)}function xe(e,t){var n=re.a(ge.contents,void 0);if("number"===typeof n){if(12===n){be(12);var r,a=re.a(ge.contents,void 0);if("number"===typeof a)if(15!==a){if(16!==a)throw he;be(16),r={tag_name:e.tag_name,str_attr:e.str_attr,num_attr:e.num_attr,bool_attr:_e(e.bool_attr,[t,!1])}}else be(15),r={tag_name:e.tag_name,str_attr:e.str_attr,num_attr:e.num_attr,bool_attr:_e(e.bool_attr,[t,!0])};else{var o=Ee("");r={tag_name:e.tag_name,str_attr:_e(e.str_attr,[t,o]),num_attr:e.num_attr,bool_attr:e.bool_attr}}return be(12),r}throw he}if(n.tag)throw he;var i=n[0];return be(B.a(0,[i])),{tag_name:e.tag_name,str_attr:e.str_attr,num_attr:_e(e.num_attr,[t,i]),bool_attr:e.bool_attr}}function Pe(e){be(9);var t=re.a(ge.contents,void 0);if(!function(e){if("number"!==typeof e)return 1===e.tag;switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:return!0;default:return!1}}(t))throw he;be(t);for(var n={tag_name:t,str_attr:void 0,num_attr:void 0,bool_attr:void 0};;){var r=n,a=re.a(ge.contents,void 0);if(!ce(a)){if("number"===typeof a){if(11!==a)throw he;return be(11),r}throw he}be(a),be(13),n=xe(r,ue(a))}}function Ae(e){for(;;){var t=re.a(ge.contents,void 0);if("number"!==typeof t)be(t);else{if(9!==t){if(10===t)return ke(e);be(t);continue}Ae(Pe().tag_name)}}}function Ne(e){if("number"===typeof re.a(ge.contents,void 0))throw he;var t=Ee("");return ke(1),t}function Ce(e){if("number"===typeof re.a(ge.contents,void 0))throw he;var t=Ee("");return ke(2),t}function Se(e){be(14);var t=re.a(ge.contents,void 0);if("number"===typeof t)return ke(5),0;if(t.tag)return ke(5),0;var n=t[0],r=ae.a(String(e)+"."+String(n));return be(B.a(0,[n])),ke(5),r}function Oe(e){var t=re.a(ge.contents,void 0);if("number"===typeof t){if(14===t)return Se(0);throw he}if(t.tag)throw he;var n=t[0];return be(B.a(0,[n])),14===re.a(ge.contents,void 0)?Se(n):(ke(5),n)}function Le(e){if("number"===typeof re.a(ge.contents,void 0))throw he;var t=Ee("");return ke(8),t}function Fe(e){if("number"===typeof re.a(ge.contents,void 0))throw he;var t=Ee("");return ke(7),t}function He(e){for(;;){var t=e,n=re.a(ge.contents,void 0);if("number"!==typeof n)throw he;if(9!==n){if(10!==n)throw he;return ke(6),t}var r=Pe().tag_name;if("number"!==typeof r)Ae(r);else{if(7!==r){if(8!==r){Ae(r);continue}e={id:Le(),scientific_name:t.scientific_name};continue}e={id:t.id,scientific_name:Fe()}}}}function je(e,t){var n,r,a=re.a(ge.contents,void 0);if("number"===typeof a){if(9!==a){if(10!==a)throw he;if(ke(3),X(e)){var o=t.taxonomy;if(void 0!==o)return Y(o.scientific_name,o.id,t.name);var i=t.name;return void 0!==i?Y(i,void 0,i):(r="Unnamed",B.a(1,[r,void 0,void 0]))}if(e.tag)return e;var c=t.taxonomy,u=void 0!==c?c.id:void 0;return B.a(0,[e[0],e[1],t.confidence,t.rank,u,t.name])}var s=Pe().tag_name;if("number"===typeof s)switch(s){case 1:return je(e,{name:Ne(),rank:t.rank,confidence:t.confidence,taxonomy:t.taxonomy});case 3:if(X(e))return je(je(e,ye),t);var l=je(D,ye);return je((n=[e,[l,0]],D.tag?A.c("Representation invariant broken"):V(B.a(0,[(G.contents=G.contents+1|0,G.contents),n,void 0,void 0,void 0,void 0]))),t);case 5:return je(e,{name:t.name,rank:t.rank,confidence:Oe(),taxonomy:t.taxonomy});case 6:return je(e,{name:t.name,rank:t.rank,confidence:t.confidence,taxonomy:He({id:void 0,scientific_name:"Unnamed"})})}return Ae(s),je(e,t)}throw he}function Te(e){var t=function(e){var t={contents:de(e)},n={contents:function(e,t){return 17}};return n.contents=function(r){return r?function(r){var a=t.contents;return a?a[0]:(t.contents=de(e),re.b(n.contents,!0,void 0))}:function(n){var r=t.contents;return r?(t.contents=r[1],18):(t.contents=de(e),18)}},n.contents}(function(e){var t,n=x.b((function(t){try{return e}catch(a){if(a===C.c)return;throw a}})),r=x.g(n);if(void 0===r)return n;try{t=P.d(r,0,5)}catch(o){var a=ie.a(o);if(a[0]===C.e)return n;throw a}return"<?xml"!==t||x.d(n),n}(e));ge.contents=re.a(t,!0),we.contents=re.a(t,!1);var n=re.a(ge.contents,void 0);if("number"===typeof n){if(9===n){var r=Pe().tag_name;if("number"===typeof r)throw he;if(1===r.tag){if("phyloxml"===r[0]){var a=Pe().tag_name;if("number"===typeof a){if(0!==a)throw he;var o=function(e){for(;;){var t=e,n=re.a(ge.contents,void 0);if("number"!==typeof n)throw he;if(9!==n){if(10!==n)throw he;return ke(0),t}var r=Pe().tag_name;if("number"===typeof r)if(r>=4)Ae(r);else switch(r){case 0:Ae(r);continue;case 1:e={name:Ne(),description:t.description,tree:t.tree};continue;case 2:e={name:t.name,description:Ce(),tree:t.tree};continue;case 3:e={name:t.name,description:t.description,tree:je(t.tree,ye)};continue}else Ae(r)}}(pe);return ke(B.a(1,["phyloxml"])),o}throw he}throw he}throw he}if(17===n)return pe;throw he}throw he}var Me=m.a.Content,Ue=new FileReader,We=function(){var e=Object(w.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{Ue.onload=function(){var e=Te(Ue.result);console.log(ne(e.tree))},Ue.readAsText(t)}catch(n){console.log(n),console.log("File printing failed")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be={accept:".xml",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",headers:{authorization:"authorization-text"},transformFile:function(e){We(e)}};function Re(){return a.a.createElement("div",{class:"wrapper"},a.a.createElement(Me,{justify:"center"},a.a.createElement(v.a,{className:"page",justify:"center",gutter:[16,16]},a.a.createElement("div",null,a.a.createElement("h1",null,"Visualize PhyloXML"),a.a.createElement("h2",null,"Visualize an existing phylogenetic tree. Begin by uploading a PhyloXML file, or use our example files."))),a.a.createElement(v.a,{className:"upload"},a.a.createElement(b.a,Be,a.a.createElement(E.a,null,a.a.createElement(_.a,null),"Upload PhyloXML Files Here")))))}var ze=function(e){var t=e.useBack,n=a.a.useContext(f).goHome,r=a.a.createElement("div",null,a.a.createElement("p",null,"Content"),a.a.createElement("p",null,"Content"));return a.a.createElement("header",{className:"site-header"},a.a.createElement("button",{className:"site-title",onClick:n},t?a.a.createElement(s.a,{style:{alignSelf:"center",paddingRight:"10px"}}):null,"Phylo"),a.a.createElement(u.a,{content:r,className:"tooltip",title:"Title",trigger:"click"},a.a.createElement("a",{class:"tooltip"}," ",a.a.createElement(l.a,{style:{paddingRight:"0.5em"}}),"Confused by all the terms?")))},Ie=function(){var e=Object(r.useState)("HOME"),t=Object(c.a)(e,2),n=t[0],o=t[1],i=a.a.useMemo((function(){return{goHome:function(){o("HOME")},goVisualizePhylo:function(){o("VISUALIZE_PHYLO")},goGeneratePhylo:function(){o("GENERATE_PHYLO")}}}),[]),u=function(){switch(n){case"HOME":return a.a.createElement(p,null);case"VISUALIZE_PHYLO":return a.a.createElement(Re,null);case"GENERATE_PHYLO":return a.a.createElement(M,null);default:return null}};return a.a.createElement(f.Provider,{value:i},a.a.createElement(ze,{useBack:"HOME"!==n}),a.a.createElement(u,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.08db935f.chunk.js.map