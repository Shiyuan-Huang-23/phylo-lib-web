(this["webpackJsonpphylo-lib-web"]=this["webpackJsonpphylo-lib-web"]||[]).push([[0],{137:function(a,t,e){a.exports=e(189)},142:function(a,t,e){},189:function(a,t,e){"use strict";e.r(t);var n=e(0),c=e.n(n),r=e(38),g=e.n(r),o=(e(142),e(98)),i=e(62),l=e(26),A=(e(64),e(196)),s=e(201),u=e(199),G=e(23),T=e(193),f=e(194),m=e(195),C=e(190),h=e(191),d="\n\nC\n|\no-SARS\n|\no-C\n  |\n  o-C\n  | |\n  | o-H6N1\n  | |\n  | o-C\n  |   |\n  |   o-H5N1\n  |   |\n  |   o-C\n  |     |\n  |     o-H3N2\n  |     |\n  |     o-C\n  |       |\n  |       o-H7N9\n  |       |\n  |       o-C\n  |         |\n  |         o-H1N1\n  |         |\n  |         o-H7N7\n  |\n  o-C\n    |\n    o-C\n    | |\n    | o-H2N3\n    | |\n    | o-H10N7\n    |\n    o-C\n      |\n      o-H3N1\n      |\n      o-H3N8\n\n",E="\nC\n|\no-C\n| |\n| o-FOLSOMIA PENICULA\n| |\n| o-C\n|   |\n|   o-ANOPHELES GABONENSIS\n|   |\n|   o-C\n|     |\n|     o-BRACHYTELES HYPOXANTHUS\n|     |\n|     o-C\n|       |\n|       o-PARIDES ANCHISES\n|       |\n|       o-PARIDES NEOPHILUS\n|\no-C\n  |\n  o-C\n  | |\n  | o-CONOGETHES PUNCTIFERALIS\n  | |\n  | o-GRAPHOLITA MOLESTA\n  |\n  o-C\n    |\n    o-PARIDES PRONEUS\n    |\n    o-PYTHIUM INSIDIOSUM\n",v="\nC\n|\no-PEPPER VEINAL MOTTLE VIRUS\n|\no-C\n  |\n  o-C\n  | |\n  | o-BEAK AND FEATHER DISEASE\n  | |\n  | o-C\n  |   |\n  |   o-AVIAN NEPHRITIS VIRUS\n  |   |\n  |   o-C\n  |     |\n  |     o-C\n  |     | |\n  |     | o-C\n  |     | | |\n  |     | | o-DENGUE VIRUS\n  |     | | |\n  |     | | o-C\n  |     | |   |\n  |     | |   o-BOVINE VIRAL DIARRHEA VIRUS\n  |     | |   |\n  |     | |   o-HUMAN RHINOVIRUS\n  |     | |\n  |     | o-C\n  |     |   |\n  |     |   o-NOROVIRUS\n  |     |   |\n  |     |   o-C\n  |     |     |\n  |     |     o-FELINE IMMUNODEFICIENCY VIRUS\n  |     |     |\n  |     |     o-REDSPOTTED GROUPER NERVOUS NECROSIS VIRUS\n  |     |\n  |     o-C\n  |       |\n  |       o-HEPATITIS E\n  |       |\n  |       o-C\n  |         |\n  |         o-HEPATITIS C\n  |         |\n  |         o-NORWALK VIRUS\n  |\n  o-C\n    |\n    o-EASTERN EQUINE ENCEPHALITIS VIRUS\n    |\n    o-C\n      |\n      o-JAPANESE ENCEPHALITIS VIRUS\n      |\n      o-C\n        |\n        o-COXSACKIEVIRUS\n        |\n        o-SINDBIS VIRUS STRAIN\n",p=T.a.Content;function y(){var a=Object(n.useState)(E),t=Object(G.a)(a,2),e=t[0],r=t[1],g=Object(n.useState)(!0),o=Object(G.a)(g,2),l=o[0],A=o[1];return console.log("/phylo-lib-web"),c.a.createElement("div",{className:"wrapper main"},c.a.createElement(p,{justify:"center"},c.a.createElement(f.a,{className:"intro",justify:"center"},c.a.createElement("div",null,c.a.createElement("h1",null,"Welcome to PhyloML"),c.a.createElement("h2",null,"A phylogenetic library written in OCaml."),c.a.createElement("h2",null,"Inferring Evolutionary History through Modern Genetic Similarity."))),c.a.createElement(f.a,{justify:"center",gutter:[16,40]},c.a.createElement(m.a,{lg:7,md:10,sm:12},c.a.createElement(i.b,{className:"offset",to:"/pairwise"},"Visualize Pairwise DNA Alignments")),c.a.createElement(m.a,{lg:7,md:10,sm:12},c.a.createElement(i.b,{className:"offset",to:"/visualize"},"Visualize Phylogenetic Trees")),c.a.createElement(m.a,{lg:7,md:10,sm:12},c.a.createElement(i.b,{className:"offset",to:"/generate"},"Generate Phylogenetic Trees"))),c.a.createElement(f.a,{justify:"center"},c.a.createElement(C.a,null),c.a.createElement("h1",null," Explanations and Examples: ")),c.a.createElement(f.a,null,c.a.createElement("h2",null," About Phylogenetic Trees: "),c.a.createElement("h3",null," ","Scientists often wish to infer the evolutionary history between different organisms. In order to determine the closeness of species such as birds or fish, historically the similarity in physical characteristics was analyzed. With the advent of modern computers and DNA analysis, the field has moved towards using DNA. Two species with more similar DNA are assumed to be more closely related. By analyzing these similarities and differences in the DNA, we can generate a hypothetical evolutionary tree, called a phylogenetic tree, that estimates what the historical evolutionary tree would have looked like."),c.a.createElement("h2",null," Functionality: "),c.a.createElement("h3",null,c.a.createElement("b",null," Visualize Pairwise Alignment: "),"At the heart of constructing phylogenetic trees is the pairwise alignment, where two DNA sequences are compared. Only once the alignment scores of all DNA sequences with one another is known is it possible to determine genetic similarity and through that, evolutionary history. The pairwise Alignment is performed using the Needleman-Wunsch algorithm, a globally optimal dynamic programming algorithm that computes a loss for the most optimal alignment. Here * represents a DNA base pair match, _ a gap, often used if a DNA sequence is longer than the other, and | a mismatch."),c.a.createElement("h3",null,c.a.createElement("b",null," Visualize Phylogenetic Trees: "),"When a phylogenetic tree has already been constructed, whether through this program or other commercially available software, it is important that the user can visualize the final alignment. Here we built a tokenizer, lexer, and parser to read PhyloXML, an extension of the popular XML format designed to encode phylogenetic trees."),c.a.createElement("h3",null,c.a.createElement("b",null," Generate Phylogenetic Trees: "),"We construct phylogenetic genetic trees from DNA sequences encoded in a standard .FASTA format using two algorithms: Unweighted Pair Group Method with Arithmetic Mean (UPGMA) and Bayesian Inference, each with their respective tradeoffs regarding speed and accuracy. Each algorithm reads in the .FASTA files, constructs pairwise alignments, and then uses respective techniques to find an optimal rooted tree.")),c.a.createElement("h2",null," Examples: "),c.a.createElement("h3",null,"Examples of constructed phylogenetic trees using DNA sequences from the National Center for Biotechnology Information (NCBI)."),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement(h.default.Group,{onChange:function(a){switch(a.target.value){case"Influenza A Viruses":r(d);break;case"COXII":r(E);break;case"Virus Capsid":A(!0),console.log(v),r(v)}}},c.a.createElement(h.default.Button,{value:"Virus Capsid"},"Virus Capsid Gene"),c.a.createElement(h.default.Button,{value:"COXII"},"Cytochrome C Oxidase Subunit II"),c.a.createElement(h.default.Button,{value:"Influenza A Viruses"},"Influenza A PB-2"))),l?c.a.createElement(f.a,{justify:"center"},c.a.createElement("div",{className:"ascii-phylo-container"},c.a.createElement("p",{className:"ascii-phylo"},e))):null))}var b=e(103),w=e.n(b),_=e(117),N=e(197),I=e(192),S=e(107),k=e(86),x=e(198),R=e(200);function O(a){var t=a.content,e=a.vocab,n=a.link,r=a.linkText;return c.a.createElement(A.a,{className:"hover-vocab",content:c.a.createElement("div",null,t,c.a.createElement("p",null,"See"," ",c.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},r||"Wikipedia")," ","for more details.")),placement:"top",title:"Vocabulary",trigger:"hover"},c.a.createElement("div",null,e))}var D=e(20),j=e(50),P=e(21),X=e(24),H=e(14),B=e(7),F=e(30),U=e(13);F.b("Dna-PhyloLibWeb.Empty");function L(a){return">"===H.h(a,0,1)}function V(a,t){var e=H.i(a);return H.g((function(a){if(function(a){if(a>=72)return 84===a||95===a;if(45===a)return!0;if(a<65)return!1;switch(a-65|0){case 1:case 3:case 4:case 5:return!1;case 0:case 2:case 6:return!0}}(a)||function(a){var t=a-65|0;return t>13||t<0?!(t>25||t<15):9!==t}(a))return P.a(t,a)}),e)}var M=P.c;function z(a){var t;try{t=H.e(a,10)}catch(c){var e=U.a(c);if("Not_found"!==e.RE_EXN_ID)throw e;t=0}var n=H.h(a,0,t);return""===n||L(n)?H.h(a,t+1|0,(a.length-t|0)-1|0):a}function q(a){var t=P.d(128);return V(z(a),t),t}var W=P.e;function Y(a){var t=function(a,t){for(;;){var e=t,n=a;if(!L(n))return e;var c,r=z(n);try{c=H.e(r,62)}catch(A){var g=U.a(A);if("Not_found"!==g.RE_EXN_ID)throw g;c=r.length-1|0}var o,i=H.h(r,0,c);try{o=H.h(r,c,r.length-c|0)}catch(s){o=""}var l=P.d(128);V(i,l),t={hd:l,tl:e},a=o}}(a,0);return j.f(D.c((function(a,t){return{hd:t,tl:a}}),0,t))}function J(a,t){try{return P.f(a,t)}catch(e){return}}var K=P.f;function Q(a,t,e){var n=e-t|0;return P.g(a,t,n)}var $=e(19),Z=e(10),aa=e(16);F.b("Tree-PhyloLibWeb.UnknownClade");function ta(a){return a.TAG?0:{hd:a.clade_id,tl:D.b(D.g(ta,a.children))}}function ea(a){return function(a){var t=ta(a);return Z.a(D.l(aa.f,t),D.k(aa.f,t))}(a)?a:B.f("clade_ids not unique")}var na={contents:0},ca={TAG:0,clade_id:(na.contents=na.contents+1|0,na.contents),children:0,bootstrap:void 0,rank:void 0,id:void 0,name:void 0};function ra(a){return!a.TAG&&0===a.children&&void 0===a.bootstrap&&void 0===a.rank&&void 0===a.id&&void 0===a.name}function ga(a,t,e){return{TAG:1,scientific_name:a,id:t,name:e}}function oa(a){return{TAG:1,scientific_name:a,id:void 0,name:void 0}}function ia(a){return ca.TAG?B.f("Representation invariant broken"):ea({TAG:0,clade_id:(na.contents=na.contents+1|0,na.contents),children:a,bootstrap:void 0,rank:void 0,id:void 0,name:void 0})}var la={contents:!0},Aa={contents:""};function sa(a){return la.contents?B.p(a):void(Aa.contents=Aa.contents+$.b(a))}function ua(a){return la.contents?B.s(a):void(Aa.contents=Aa.contents+a)}function Ga(a){return la.contents?void console.log(a):ua(a+"\n")}function Ta(a){for(var t=1;t<=a;++t)sa(32)}function fa(a,t,e){for(;;){var n=t,c=a;if(!c)return;var r=c.tl,g=c.hd;Ta(g===n&&0!==g?1:((g-n|0)<<1)+(0===g||0===n?0:1)|0),0===r?ua(e):sa(124),t=g+1|0,a=r}}function ma(a){return fa(D.i(a),0,"|"),Ga("")}function Ca(a){return a?fa(D.i(a),0,"o-"):B.i("ds")}function ha(a,t,e){for(;;){var n=a;if(!n)return;var c=n.tl,r=n.hd;if(r.TAG){0!==e?ma(e):B.r(void 0),0!==e&&Ca(e);var g=r.name;void 0!==g&&"Unnamed"===r.scientific_name?Ga(g):Ga(r.scientific_name),a=c}else{var o=0!==c?{hd:t,tl:e}:e?{hd:t,tl:e.tl}:{hd:t,tl:0};0!==e&&ma(e),0!==e&&Ca(e),ua("C\n"),ha(r.children,t+1|0,o),a=c}}}function da(a){return Aa.contents="",la.contents=!1,ha({hd:a,tl:0},0,0),Aa.contents}var Ea=e(18),va=e(2),pa=e(15);function ya(a,t,e){var n=J(va.c(e,a),t);return void 0!==n?n:B.f("Index out of bounds")}function ba(a,t,e){return Z.b(Z.b(a,t),e)}function wa(a,t,e,n,c,r,g,o){return[n.contents<1?-1e9:o+va.c(va.c(c,e.contents),n.contents-1|0)|0,e.contents<1?-1e9:o+va.c(va.c(c,e.contents-1|0),n.contents)|0,e.contents<1||n.contents<1?-1e9:va.c(va.c(c,e.contents-1|0),n.contents-1|0)+(Z.a(J(a,(0>e.contents?0:e.contents)-1|0),J(t,(0>n.contents?0:n.contents)-1|0))?r:g)|0]}function _a(a,t,e,n,c,r,g){for(var o=function(a,t,e,n,c){for(var r=j.d(n,c,-1e9),g=0;g<n;++g)va.d(va.c(r,g),0,Math.imul(g,e));for(var o=0;o<c;++o)va.d(va.c(r,0),o,Math.imul(o,e));return r}(0,0,c,r,g),i=1;i<r;++i)for(var l=1;l<g;++l){var A=wa(a,t,{contents:i},{contents:l},o,e,n,c);va.d(va.c(o,i),l,ba(A[0],A[1],A[2]))}return o}function Na(a,t,e,n,c,r){for(var g={contents:W(a)},o={contents:W(t)},i="",l="";g.contents>0||o.contents>0;){var A=wa(a,t,g,o,e,n,c,r),s=va.c(va.c(e,g.contents),o.contents);s===A[2]?(i=$.b(K(a,g.contents-1|0))+i,l=$.b(K(t,o.contents-1|0))+l,g.contents=g.contents-1|0,o.contents=o.contents-1|0):s===A[0]?(i="_"+i,l=$.b(K(t,o.contents-1|0))+l,o.contents=o.contents-1|0):s===A[1]?(l="_"+l,i=$.b(K(a,g.contents-1|0))+i,g.contents=g.contents-1|0):B.f("This should not happen")}return[q(i),q(l)]}function Ia(a,t,e,n,c){for(var r=Na(a,t,_a(a,t,e,n,c,W(a)+1|0,W(t)+1|0),e,n,c),g=va.c(r,0),o=va.c(r,1),i=W(g),l=0,A=0;A<i;++A)Z.a(J(g,A),95)||Z.a(J(o,A),95)?l=l-c|0:Z.d(J(g,A),J(o,A))&&(l=l+1|0);return l}var Sa={contents:!0},ka={contents:""};function xa(a){return Sa.contents?B.p(a):void(ka.contents=ka.contents+$.b(a))}function Ra(a){Sa.contents?console.log(a):ka.contents=ka.contents+(a+"\n")}function Oa(a,t){for(var e=W(a),n=0,c=(e-1|0)/80|0;n<=c;++n){Ra(Q(a,Math.imul(80,n),aa.h(e,Math.imul(80,n+1|0))));for(var r=Math.imul(80,n),g=aa.h(e-1|0,Math.imul(80,n+1|0)-1|0);r<=g;++r)Z.a(J(a,r),J(t,r))?xa(42):Z.a(J(a,r),95)||Z.a(J(t,r),95)?xa(32):xa(124);Ra(""),Ra(Q(t,Math.imul(80,n),aa.h(e,Math.imul(80,n+1|0)))),Ra("")}}function Da(a,t,e,n){for(var c=a.length,r=Ea.b(void 0,c),g=0;g<c;++g)for(var o=g+1|0;o<c;++o)Ea.a(r,[g,o],Ia(va.c(a,g),va.c(a,o),t,e,n));return r}function ja(a,t){var e=function(a){return a.length}(a);B.q(e);var n=function(a){return W(va.c(a,0))}(a);B.q(n);for(var c=Ea.b(void 0,e),r=0;r<e;++r)for(var g=0,o=r+1|0;o<e;++o){for(var i=0;i<n;++i)B.q(r),95===ya(r,i,a)||95===ya(o,i,a)?g=g+t|0:ya(r,i,a)!==ya(o,i,a)&&(g=g+1|0);Ea.a(c,[r,o],g)}return c}function Pa(a){if(0===Ea.f(a))return[[0,0],0];var t=[[0,0],B.j];return Ea.e((function(a,t,e){return t<e[1]?[a,t]:e}),a,t)}function Xa(a){return Pa(a)[0]}function Ha(a,t,e){return Ea.d(e,[Z.c(a,t),Z.b(a,t)])}function Ba(a,t,e){return a>=t?B.f("invalid input"):function(a,t,e){Ea.c((function(t,n){return t[0]===a?(n+Ha(t[1],a,e))/2:t[1]!==a?n:(n+Ha(t[0],a,e))/2}),e)}(a,0,e),function(a,t){Ea.c((function(t,e){return Z.a(t[0],a)||Z.a(t[1],a)?void 0:pa.a(e)}),t)}(t,e),e}function Fa(a){return 0===Ea.f(a)}function Ua(a,t,e,n){var c=va.c(a,t),r=va.c(a,e),g=D.a(t,n),o=D.a(e,n);if(void 0!==g){if(void 0!==o){var i=D.h(e,D.h(t,n));return{hd:[t<e?t:e,ia({hd:g,tl:{hd:o,tl:0}})],tl:i}}var l=D.h(t,n);return{hd:[t<e?t:e,ia({hd:oa(r),tl:{hd:g,tl:0}})],tl:l}}if(void 0===o)return{hd:[t<e?t:e,ia({hd:oa(c),tl:{hd:oa(r),tl:0}})],tl:n};var A=D.h(e,n);return{hd:[t<e?t:e,ia({hd:oa(c),tl:{hd:o,tl:0}})],tl:A}}function La(a,t){var e=t.length;if(0===e)return ca;if(1===e)return oa(va.c(t,0));for(var n=a,c=0;;){var r=c,g=n;if(Fa(g)){var o=D.j((function(a){return a[1]}),r);return 1===D.f(o)?D.e(o):D.f(o)>1?ia(o):B.f("Precondition violated in upgma_help")}var i=Xa(g),l=i[1],A=i[0];c=Ua(t,A,l,r),n=Ba(A,l,g)}}var Va=e(1),Ma=e(134),za={contents:!0},qa={contents:""},Wa={contents:B.v};function Ya(a){return za.contents?Va.a(Ma.a(Wa.contents,{_0:{TAG:2,_0:0,_1:0},_1:"%s"}),a):void(qa.contents=qa.contents+a)}function Ja(a){for(var t=1;t<=a;++t)Ya("  ")}function Ka(a,t,e,n){return Ja(e),Ya("<"+a),function(a){for(;;){var t=a;if(!t)return;var e=t.tl,n=t.hd,c=0!==e;Ya(n[0]+'="'+n[1]+'"'+(c?" ":"")),a=e}}(t),Ya(n?">\n":">")}function Qa(a,t){return Ja(t),Ya("</"+a+">\n")}function $a(a,t,e){return Ja(t),Ya("<"+a+">"),Ya(e),Qa(a,0)}function Za(a,t,e){if(void 0!==e)return $a(a,t,e)}function at(a){return Ka("phyloxml",0,0,!0),Ka("phylogeny",0,1,!0),0!==a.name.length&&$a("name",2,a.name),0!==a.description.length&&$a("description",2,a.description),ra(a.tree)||function a(t,e){if(t.TAG)return Ka("clade",0,e,!0),Za("name",e+1|0,t.name),""===t.scientific_name&&void 0===t.id||(Ka("taxonomy",0,e+1|0,!0),""!==t.scientific_name&&$a("scientific_name",e+2|0,t.scientific_name),Za("id",e+2|0,t.id),Qa("taxonomy",e+1|0)),Qa("clade",e);Ka("clade",0,e,!0),Za("name",e+1|0,t.name);var n=t.bootstrap;return Za("confidence",e+1|0,void 0!==n?B.x(n):void 0),void 0===t.rank&&void 0===t.id||(Ka("taxonomy",0,e+1|0,!0),Za("id",e+2|0,t.id),Za("rank",e+2|0,t.rank),Qa("taxonomy",e+1|0)),function(t,e){for(;;){var n=t;if(!n)return;a(n.hd,e),t=n.tl}}(t.children,e+1|0),Qa("clade",e)}(a.tree,2),Qa("phylogeny",1),Qa("phyloxml",0)}var tt=T.a.Content;function et(){var a=Object(n.useState)(""),t=Object(G.a)(a,2),e=t[0],r=t[1],g=Object(n.useState)(!1),o=Object(G.a)(g,2),i=o[0],l=o[1],s=Object(n.useState)(!0),T=Object(G.a)(s,2),m=T[0],C=T[1],p=Object(n.useState)([]),y=Object(G.a)(p,2),b=y[0],D=y[1],j=Object(n.useState)([]),P=Object(G.a)(j,2),X=P[0],H=P[1],B=Object(n.useState)(void 0),F=Object(G.a)(B,2),U=F[0],L=F[1],V=Object(n.useState)(!1),z=Object(G.a)(V,2),W=z[0],J=z[1],K=[">H1N1 PB-2 Genome\nATGGAGAGAATAAAAGAACTAAGAGATTTGATGTCGCAGTCTCGCACTCGCGAGATACTGACAAAAACCACTGTGGACCA\nTATGGCCATAATCAAGAAATATACGTCAGGAAGACAGGAGAAGAATCCTGCTCTTAGGATGAAATGGATGATGGCAATGA\nAATACCCGATTACAGCAGACAAAAGGATAATGGAGATGATCCCTGAGAGAAATGAGCAAGGTCAGACTCTTTGGAGCAAA\nACAAATGATGCTGGATCAGACAGAGTGATGGTATCACCTCTGGCTGTGACGTGGTGGAATAGAAATGGGCCTACGACAAG\nTACAGTCCATTATCCAAAGGTCTATAAAACCTACTTTGAAAAAGTCGAAAGGTTAAAACATGGAACCTTCGGTCCAGTTC\nACTTTCGAAATCAAGTTAAAATACGCCGCAGGGTTGACATAAACCCGGGCCATGCAGATCTCAGTGCTAAAGAAGCACAA\nGATGTCATCATGGAGGTCGTTTTCCCAAATGAGGTCGGAGCCAGGATATTGACATCAGAGTCACAGTTAACAATAACAAA\nGGAAAAGAAGGAGGAGCTTCAGGACTGTAAGATTGCTCCTTTAATGGTGGCATACATGTTGGAGAGAGAACTGGTTCGCA\nAAACCAGATTCCTACCAGTAGCTGGCGGGACAAGCAGCGTGTATATCGAGGTATTACACTTGACTCAAGGGACCTGCTGG\nGAACAAATGTACACACCGGGAGGGGAGGTGAGAAATGATGATGTTGATCAGAGTTTAATTATTGCTGCCAGAAATATTGT\nTAGGAGAGCGACAGTATCAGCAGACCCGTTGGCTTCGCTCTTGGAGATGTGCCATAGTACACAAATTGGCGGGATAAGAA\nTGGTAGACATCCTTAGACAAAACCCAACAGAAGAGCAAGCTGTGGATATATGCAAAGCAGCAATGGGTCTAAGGATCAGT\nTCATCCTTCAGTTTTGGAGGTTTCACTTTCAAAAGGACAAGTGGGTCATCTGTCAAAAGAGAAGAAGAAGTGCTCACAGG\nCAACCTCCAAACATTGAAAATAAGAGTGCATGAAGGATATGAGGAATTCACAATGGTTGGGCGAAGAGCGACAGCCATTC\nTAAGGAAAGCAACCAGAAGGCTGATCCAACTGATAGTGAGTGGGAGAGACGAGCAGTCAATCGCCGAAGCAATCATAGTG\nGCAATGGTGTTCTCACAAGAGGATTGTATGATAAAAGCAGTACGAGGTGATTTGAATTTTGTCAATAGGGCGAACCAGCG\nGCTAAACCCTATGCATCAACTCCTGAGACATTTCCAAAAGGATGCAAAGGTGCTGTTTCAAAACTGGGGGATTGAACCCA\nTTGACAATGTCATGGGGATGATCGGAATATTACCTGACATGACCCCCAGCACAGAGATGTCACTAAGAGGAGTGAGAGTC\nAGCAAAACGGGAGTGGATGAATATTCCAGCACTGAGAGAGTGGTCGTGAGCATTGATCGTTTCTTGAGGGTCCGAGACCA\nGAGGGGAAACGTGCTCTTGTCTCCTGAAGAAGTTAGTGAAACACAGGGAACAGAAAAGCTGACGATAACATATTCATCGT\nCCATGATGTGGGAAATCAATGGCCCGGAATCAGTGCTAGTTAACACATATCAATGGATCATTAGAAATTGGGAGACTGTG\nAAAATTCAGTGGTCCCAAGACCCTACAATGCTATACAATAAGATGGAATTTGAGCCCTTTCAATCCTTGGTGCCTAAGGC\nTGCCAGAGGTCAGTATAGTGGATTTGTGAGGACGCTATTCCAGCAGATGCGTGATGTGCTGGGGACATTTGACACTGTCC\nAGATAATAAAGCTACTACCATTTGCAGCAGCCCCACCGGAACAGAGTAGGATGCAGTTCTCTTCTCTAACTGTGAACGTA\nAGGGGTTCAGGAATGAGAATACTTGTGAGAGGCAACTCCCCTGTGTTCAACTATAACAAGGCAACCAAGAGGCTCACAGT\nCCTTGGAAAGGATGCAGGTGCATTGACAGAAGATCCAGATGAGGGAACAGCAGGAGTGGAATCCGCGGTATTAAGAGGAT\nTTCTAATTCTGGGCAAAGAAGACAAAAGATATGGACCAGCGTTGAGCATCAACGAATTGAGCAATCTTGCAAAAGGGGAG\nAAGGCTAACGTGTTGATAGGGCAAGGAGACGTGGTGTTGGTAATGAAACGGAAACGGGACTCTAGCATACTTACTGACAG\nCCAGACAGCGACCAAAAGAATTCGGATGGCCATCAATTAG ","\n>H3N2 PB-2 Genome\nagcgaaagcaggtcaaatatattcaatatggagagaataaaagaactaagagatttgatgtcgcagtctcgcactcgcga\ngatactgacaaaaaccactgtggaccatatggccataatcaagaaatatacgtcaggaagacaggagaagaaccctgctc\nttaggatgaagtggatgatggcaatgaaatatccgattacagcagacaggaggataatggagatgatccctgaaagaaat\ngagcaaggtcagactctttggagcaaaacgaatgatgctggatcagacagagtgatggtatcgcctctggctgtgacatg\ngtggaatagaaatggaccaacgacaagtacagtccattatccgaaggtctacaaaacctactttgagaaggtcgaaaggt\ntaaagcatggaacctttggtcccgttcactttcggaatcaagttaaaatacgccgcagggttgacataaacccgggccac\ngcagacctcagtgctaaagaagcacaagatgtcatcatggaggtcgttttcccaaacgaagtaggagccaggatattaac\natcagagtcacaattaacaataacaaaagaaaaaaaggaagagctccaagactgtaagattgctcctttgatggtggcat\nacatgttggaaagagaattagttcgcaaaaccagattcctaccggtagctggtgggacaagcagcgtgtatatcgaggtg\nttgcacttgacccaggggacctgccgggaacaaatgtatacaccgggaggagaggtgagaaatgatgatattgatcagag\ntttaattattgctgctagaaatattgtcagaagagcaacagtatcagcagatccattagcttcgctcttggaaatgtgcc\natagcacacaaattggtggaataaggatggtagatattcttaggcaaaatccaacagaagagcaagctgtggatatatgc\naaagcagcaatgggtctgaggatcagttcatccttcagctttggaggtttcactttcaaaaggacaagtggatcatctgt\ncaaaagagaagaagaagtactcacaggcaaccttcagacattgaaaataagagtgcacgaaggatatgaggaatttacaa\ntggtagggcgaagagcaacagccattttaaggaaagcaaccagaaggctgattcaattaatagtgagtggaagagacgag\ncaatcaattgccgaagcaatcatagtggcaatggtgttctcacaagaggattgcatgataaaggcagtccgaggcgattt\ngaattttgtcaacagagcgaaccagcggctgaatcctatgcatcaactcctgaggcacttccagaaggatgcaaaggtgc\ntatttcaaaactggggagttgaacccattgacaatgtcatggggatgatcggaatattacctgacatgacccccagcaca\ngaaatgtcactaaggggagtaagggtcagtaaaatgggagtggatgaatattccagtactgagagagtggtgtgagcat\ntgaccgtttcttgagggtccgagaccagaggggaaatgtgctcttgtctcctgaagaagttagtgaaacacagggaacag\naaaagctgacaataacatattcatcgtccatgatgtgggaaatcaatggcccggaatcagtgctggtcaacacatatcag\ntggatcattagaaactgggaaactgtgaagatccagtggtcccaagaccctacaatgctatacaataagatgaaatttga\ngccttttcaatctttagtgcctaaggctgccagaggccagtatagcggctttgtgaggacgctatttcagcaaatgcgtg\natgtgctgggaacatttgacactgtccagataataaagctactaccatttgcagcagccccgccagaacagagtagaatg\ncagttctcttctctaactgtgaacgtaaggggttcaggaatgagaatacttgtgagaggtaattctcctgtgttcaatta\ntaacaaggcaaccaagaggctcacaatccttggaaaggacgcaggtgcactgactgaagatccagatgaaggaacagcag\ngagtggagtctgcagtattaagaggatttctaattctgggcaaagaagacaaaagatatggaccagcattgagcatcaac\ngaattgagcaatcttgcgaaaggggagaaggctaatgtgttgatagggcaaggagacgtggtgttggtaatgaaacggaa\nacgggactctagcatacttactgacagccagacagcgaccaaaagaattcggatggccatcaattagtgtcgaattgttt\naaaaacgaccttgtttctact\n","\n>H5N1 PB-2 Genome\natggagagaataaaagaattacgagatctaatgtcacagtcccgcactcgcgagatactaacaaaaaccactgtggacca\ntatggccataatcaagaaatacacatcaggaagacaagagaagaaccctgctctcagaatgaaatggatgatggcaatga\naatatccaatcacagcggacaagagaataatagagatgattcctgaaaggaatgaacaagggcagacgctctggagcaag\nacaaatgatgctggatcggacagggtgatggtgtctcccctagctgtaacttggtggaacaggaatgggccggcgacaag\ntgcagttcattatccaaaggtttacaaaacatactttgagaaggttgaaaggttaaaacatggaacctttggtcccgttc\natttccgaaaccaagttaaaatacgccgccgagttgatataaatcctggccatgcagatctcagtgctaaagaagcacaa\ngatgtcatcatggaggtcgttttcccaaatgaagtgggagccagaatattgacatcagagtcgcaattgacaataacgaa\nagagaagaaagaagagctccaagattgtaagattgctcccttaatggttgcatacatgttggaaagggaactagtccgca\naaaccagattcctaccggtagcaggcggaacaagcagtgtgtacattgaggtattgcatttgactcaagggacctgctgg\ngaacagatgtacactccaggcggagaagtgagaaatgacgatgttgaccagagtttgatcatcgctgccagaaacattgt\ntaggagagcaacggtatcagcggatccactggcatcactgctggagatgtgtcacagcacacaaattggtgggataagga\ntggtggacatccttaggcaaaatccaactgaggaacaagctgtggatatatgcaaagcagcaataggtctgaggatcagt\ntcttcctttagctttggaggcttcactttcaaaagaacaagtggatcatccgtcaagaaggaagaggaagtgcttacagg\ncaacctccaaacattgaaaataagagtacatgaggggtatgaggaattcacaatggttgggcggagggcaacagctatcc\ntgaggaaagcaactagaaggctgattcagttgatagtaagtggaagagacgaacaatcaatcgctgaggcaatcattgta\ngcaatggtgttctcacaggaggattgcatgataaaggcagtccgaggcgatctgaatttcgtaaacagagcaaaccaaag\nattaaaccccatgcatcaactcctgagacattttcaaaaggatgcaaaagtgctatttcagaattggggaattgaaccca\nttgataatgtcatggggatgatcggaatattacctgacatgactcccagcacagaaatgtcactgagaggagtaagagtt\nagtaaaatgggagtggatgaatattccagcactgagagagtagttgtaagtattgaccgtttcttaagggttcgagatca\ngcgggggaacgtactcttgtctcccgaagaggtcagcgaaacccagggaacagagaaattgacaataacatattcatcat\ncaatgatgtgggaaatcaacggtcctgagtcagtgcttgttaacacttatcagtggatcatcagaaactgggagactgtg\naagattcaatggtctcaagaccccacgatgctgtacaataagatggagtttgaaccgttccaatccttggtacccaaggc\ntgccagaggtcaatacagtggatttgtgagaacattattccaacaaatgcgtgacgtactggggacatttgatactgtcc\nagataataaagctgctaccatttgcagcagccccaccgaagcagagcagaatgcagttttcttctttaactgtgaatgtg\nagaggctcaggaatgagaatactcgtaaggggcaattcccctgtattcaactataataaggcaaccaaaaggcttaccgt\ntcttggaaaggacgcaggtgcattaacagaggatccagatgaggggacagccggagtggaatctgcagtactgaggggat\ntcttaattctaggcaaggaggacaaaaggtatgggccagcattgagcatcaatgaactgagcaatcttgcgaagggggag\naaagctaatgtgctgatagggcaaggagacgtggtgttggtaatgaaacggaaacgggactctagcatacttactgacag\nccagacagcgaccaaaagaattcggatggccatcaattag "],Q=["H1N1","H3N2","H5N1"],$=[{uid:"1",name:"h1n1.fasta",status:"done",url:"/phylo-lib-web/examples/FASTA/h1n1.fasta"},{uid:"2",name:"h3n2.fasta",status:"done",url:"/phylo-lib-web/examples/FASTA/h3n2.fasta"},{uid:"3",name:"h5n1.fasta",status:"done",url:"/phylo-lib-web/examples/FASTA/h5n1.fasta"}],Z=function(a,t){D((function(t){return t.concat(a)})),H((function(a){return a.concat(t)}))},aa=function(){var a=Object(_.a)(w.a.mark((function a(t,e){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{(n=new FileReader).onload=function(){var a=q(n.result);Z(a,e)},n.readAsText(t)}catch(c){console.log(c),console.log("File printing failed")}case 1:case"end":return a.stop()}}),a)})));return function(t,e){return a.apply(this,arguments)}}(),ta=function(a){return a.split(".").slice(0,-1).join(".").toUpperCase()},ea={accept:".FASTA, .txt, .fasta",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",defaultFileList:$,headers:{authorization:"authorization-text"},multiple:!0,transformFile:function(a){for(J(!0);$.length>0;)$.pop();var t=ta(a.name);aa(a,t)},onRemove:function(a){var t=ta(a.name);console.log(t);var e=X.indexOf(t);console.log(e),b.splice(e,1),X.splice(e,1),D(b),H(X)}};return c.a.createElement("div",{className:"wrapper"},c.a.createElement(tt,{justify:"center"},c.a.createElement(f.a,{className:"page",justify:"center"},c.a.createElement("div",null,c.a.createElement("h1",null,"Generate a Phylogenetic Tree"),c.a.createElement("h2",null,"By computing similarity scores for DNA samples of species, we can infer their species' evolutionary history through time."),c.a.createElement("h2",null,"Begin by uploading"," ",c.a.createElement(O,{content:c.a.createElement("p",null,"The FASTA format is a way of representing nucleotide sequences."),vocab:".FASTA",link:"https://en.wikipedia.org/wiki/FASTA_format"})," ","files that contain DNA sequences, or use our example DNA sequences."))),c.a.createElement(f.a,{className:"horizontally-centered"},c.a.createElement(N.a,{checkedChildren:"Clustal",unCheckedChildren:"UPGMA",className:"generate-toggle",defaultChecked:!0,onChange:function(a,t){C(a)}}),c.a.createElement(I.a,ea,c.a.createElement(S.a,null,c.a.createElement(x.a,null)," Upload .FASTA files")),c.a.createElement(S.a,{onClick:function(){var a=W?X:Q;if(!m){var t=da(La(Da(W?b:K,1,-1,-1),a));return r(t),void l(!0)}var e="",n=new URLSearchParams;n.append("email","vg222@cornell.edu");for(var c="",g=0;g<b.length;g++)c+=">",c+=X[g].split(" ").join("_"),c+="\n",c+=M(b[g]),c+="\n";n.append("sequence",c),n.append("outfmt","fa"),fetch("https://www.ebi.ac.uk/Tools/services/rest/clustalo/run",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n,redirect:"follow"}).then((function(a){return a.text()})).then((function(t){e=t,console.log(e),function t(n){fetch("https://www.ebi.ac.uk/Tools/services/rest/clustalo/status/"+e,{method:"GET",redirect:"follow"}).then((function(a){return a.text()})).then((function(c){if("FINISHED"!==c&&n<50)setTimeout(t(n+1),1e3);else{if("FINISHED"!==c)return;console.log(c),fetch("https://www.ebi.ac.uk/Tools/services/rest/clustalo/result/"+e+"/aln-fasta",{method:"GET",redirect:"follow"}).then((function(a){return a.text()})).then((function(t){var e=da(La(ja(Y(t),1),a));r(e),l(!0)})).catch((function(a){return console.log("error",a)}))}})).catch((function(a){return console.log("error",a)}))}(0)})).catch((function(a){return console.log("error",a)}))}},"Generate tree"),c.a.createElement(A.a,{content:c.a.createElement("p",null,"Information on Clustal and UPGMA"),title:"Info",trigger:"click"},c.a.createElement("div",{className:"generate-info"},c.a.createElement(u.a,null)))),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement(S.a,{onClick:function(){if(W&&b.length<1)alert("At least one FASTA file must be uploaded for tree generation.");else{var a=W?X:Q,t=function(a){return za.contents=!1,qa.contents="",at({name:"",description:"",tree:a}),qa.contents}(La(Da(W?b:K,1,-1,-1),a)),e=c.a.createElement("a",{href:"data:text/xml;charset=utf-8,"+encodeURIComponent(t),download:"tree.xml"},"Click to Download");L(e)}}},"Save tree as phyloXML")),void 0!==U?c.a.createElement(f.a,{className:"centered-content"},U,c.a.createElement(S.a,{onClick:function(){return L(void 0)},className:"hide-download"},c.a.createElement(k.a,{title:"Hide Download Link"},c.a.createElement(R.a,{style:{color:"firebrick"}})))):null),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement("p",{className:"example-text"}," See our examples: ")),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement(h.default.Group,{onChange:function(a){switch(a.target.value){case"Influenza A Viruses":l(!0),r(d);break;case"COXII":l(!0),r(E);break;case"Virus Capsid":l(!0),console.log(v),r(v)}}},c.a.createElement(h.default.Button,{value:"Virus Capsid"},"Virus Capsid Gene"),c.a.createElement(h.default.Button,{value:"COXII"},"Cytochrome C Oxidase Subunit II"),c.a.createElement(h.default.Button,{value:"Influenza A Viruses"},"Influenza A PB-2"))),i?c.a.createElement(f.a,{justify:"center"},c.a.createElement("div",{className:"ascii-phylo-container"},c.a.createElement("p",{className:"ascii-phylo"},e))):null)}var nt=e(17);function ct(a){return"number"!==typeof a||(a>=14?a<17:a<9)}function rt(a){if("number"!==typeof a)return a.TAG?a._0:String(a._0);switch(a){case 0:return"phylogeny";case 1:return"name";case 2:return"description";case 3:return"clade";case 4:return"rank";case 5:return"confidence";case 6:return"taxonomy";case 7:return"scientific_name";case 8:return"id";case 9:return"<";case 10:return"</";case 11:return">";case 12:return"quote";case 13:return"=";case 14:return".";case 15:return"true";case 16:return"false";case 17:return"EOF";case 18:return"Unit"}}var gt=Ea.b(void 0,16);function ot(a,t){var e;if(t){var n=B.k(a);e=X.b((function(a){try{return B.h(n)}catch(e){var t=U.a(e);if("End_of_file"===t.RE_EXN_ID)return;throw t}}))}else{var c=X.f(a);e=X.b((function(a){try{return function(a,t){for(;;){var e=t,n=X.g(a);if(void 0===n){if(""===e)throw{RE_EXN_ID:"End_of_file",Error:new Error};return e}if(X.d(a),10===n)return e;if(13===n)return e;t=e+$.b(n)}}(c,"")}catch(e){var t=U.a(e);if("End_of_file"===t.RE_EXN_ID)return;throw t}}))}var r,g=X.g(e);if(void 0===g)return e;try{r=H.h(g,0,5)}catch(i){var o=U.a(i);if("Invalid_argument"===o.RE_EXN_ID)return e;throw o}return"<?xml"!==r||X.d(e),e}function it(a,t){var e=X.g(a);if(void 0!==e){var n;try{n=e}catch(r){var c=U.a(r);if(c.RE_EXN_ID===X.a)return lt(t);throw c}return 32!==n?Ea.g(gt,t)?Ea.d(gt,t):function(a){return a>=60?a<63:34===a}(e)?{TAG:1,_0:t}:(X.d(a),it(a,t+$.b(e))):lt(t)}return lt(t)}function lt(a){return Ea.g(gt,a)?Ea.d(gt,a):{TAG:1,_0:a}}function At(a){return!(a>57||a<48)}function st(a,t){for(;;){var e=t,n=X.g(a);if(void 0===n)return{TAG:0,_0:nt.i(e)};if(!At(n))return{TAG:0,_0:nt.i(e)};X.d(a),t=e+$.b(n)}}function ut(a){var t;try{t=function(a){var t;try{t=X.e(a)}catch(n){var e=U.a(n);if(e.RE_EXN_ID===X.a)throw{RE_EXN_ID:"End_of_file",Error:new Error};throw e}return X.f(t)}(a)}catch(A){var e=U.a(A);if("End_of_file"===e.RE_EXN_ID)return{hd:17,tl:0};throw e}for(var n=0;;){var c,r=n,g=0;try{c=X.e(t),g=1}catch(s){var o=U.a(s);if(o.RE_EXN_ID===X.a)return D.i(r);if("End_of_file"===o.RE_EXN_ID)return{hd:17,tl:0};throw o}if(1===g){var i=0;if(c>=32){if(46===c){n={hd:14,tl:r};continue}if(c>=60)if(c>=63)i=2;else switch(c-60|0){case 0:var l=X.g(t);if(void 0===l)return D.i({hd:9,tl:r});if(47===l){X.d(t),n={hd:10,tl:r};continue}n={hd:9,tl:r};continue;case 1:n={hd:13,tl:r};continue;case 2:n={hd:11,tl:r};continue}else if(c>=35)i=2;else switch(c-32|0){case 0:continue;case 1:i=2;break;case 2:n={hd:12,tl:r};continue}}else if(c>=11){if(13===c)continue;i=2}else{if(c>=9)continue;i=2}if(2===i){if(At(c)){n={hd:st(t,$.b(c)),tl:r};continue}n={hd:it(t,$.b(c)),tl:r};continue}}}}Ea.a(gt,"phylogeny",0),Ea.a(gt,"name",1),Ea.a(gt,"description",2),Ea.a(gt,"clade",3),Ea.a(gt,"rank",4),Ea.a(gt,"confidence",5),Ea.a(gt,"taxonomy",6),Ea.a(gt,"scientific_name",7),Ea.a(gt,"id",8),Ea.a(gt,"true",15),Ea.a(gt,"false",16);var Gt=F.b("Phylo_parser-PhyloLibWeb.SyntaxError"),Tt={name:"",description:"",tree:ca},ft={name:void 0,rank:void 0,confidence:void 0,taxonomy:void 0};var mt={contents:function(a){return 17}},Ct={contents:function(a){return 17}};function ht(a){var t=Va.a(mt.contents,void 0);if(!Z.a(t,a))throw rt(a),rt(t),{RE_EXN_ID:Gt,Error:new Error};Va.a(Ct.contents,void 0)}function dt(a){for(;;){var t=a,e=Va.a(mt.contents,void 0);if("number"===typeof e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 8:case 14:case 15:break;default:return t}ht(e),a=""===t?rt(e):t+" "+rt(e)}else{if(e.TAG){var n=e._0;if(ht({TAG:1,_0:n}),""!==t){a=t+" "+n;continue}a=n;continue}var c=e._0;if(ht({TAG:0,_0:c}),""!==t){a=t+" "+String(c);continue}a=String(c)}}}function Et(a,t){return void 0!==a?{hd:t,tl:a}:{hd:t,tl:0}}function vt(a){return ht(10),ht(a),ht(11)}function pt(a,t){var e=Va.a(mt.contents,void 0);if("number"===typeof e){if(12===e){ht(12);var n,c=Va.a(mt.contents,void 0);if("number"===typeof c)if(15!==c){if(16!==c)throw{RE_EXN_ID:Gt,Error:new Error};ht(16),n={tag_name:a.tag_name,str_attr:a.str_attr,num_attr:a.num_attr,bool_attr:Et(a.bool_attr,[t,!1])}}else ht(15),n={tag_name:a.tag_name,str_attr:a.str_attr,num_attr:a.num_attr,bool_attr:Et(a.bool_attr,[t,!0])};else{var r=dt("");n={tag_name:a.tag_name,str_attr:Et(a.str_attr,[t,r]),num_attr:a.num_attr,bool_attr:a.bool_attr}}return ht(12),n}throw{RE_EXN_ID:Gt,Error:new Error}}if(e.TAG)throw{RE_EXN_ID:Gt,Error:new Error};var g=e._0;return ht({TAG:0,_0:g}),{tag_name:a.tag_name,str_attr:a.str_attr,num_attr:Et(a.num_attr,[t,g]),bool_attr:a.bool_attr}}function yt(a){ht(9);var t=Va.a(mt.contents,void 0);if(!function(a){if("number"!==typeof a)return 1===a.TAG;switch(a){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:return!0;default:return!1}}(t))throw{RE_EXN_ID:Gt,Error:new Error};ht(t);for(var e={tag_name:t,str_attr:void 0,num_attr:void 0,bool_attr:void 0};;){var n=e,c=Va.a(mt.contents,void 0);if(!ct(c)){if("number"===typeof c){if(11!==c)throw{RE_EXN_ID:Gt,Error:new Error};return ht(11),n}throw{RE_EXN_ID:Gt,Error:new Error}}ht(c),ht(13),e=pt(n,rt(c))}}function bt(a){for(;;){var t=Va.a(mt.contents,void 0);if("number"!==typeof t)ht(t);else{if(9!==t){if(10===t)return vt(a);ht(t);continue}bt(yt().tag_name)}}}function wt(a){if("number"===typeof Va.a(mt.contents,void 0))throw{RE_EXN_ID:Gt,Error:new Error};var t=dt("");return vt(1),t}function _t(a){if("number"===typeof Va.a(mt.contents,void 0))throw{RE_EXN_ID:Gt,Error:new Error};var t=dt("");return vt(2),t}function Nt(a){ht(14);var t=Va.a(mt.contents,void 0);if("number"===typeof t)return vt(5),0;if(t.TAG)return vt(5),0;var e=t._0,n=nt.a(String(a)+"."+String(e));return ht({TAG:0,_0:e}),vt(5),n}function It(a){var t=Va.a(mt.contents,void 0);if("number"===typeof t){if(14===t)return Nt(0);throw{RE_EXN_ID:Gt,Error:new Error}}if(t.TAG)throw{RE_EXN_ID:Gt,Error:new Error};var e=t._0;return ht({TAG:0,_0:e}),14===Va.a(mt.contents,void 0)?Nt(e):(vt(5),e)}function St(a){if("number"===typeof Va.a(mt.contents,void 0))throw{RE_EXN_ID:Gt,Error:new Error};var t=dt("");return vt(8),t}function kt(a){if("number"===typeof Va.a(mt.contents,void 0))throw{RE_EXN_ID:Gt,Error:new Error};var t=dt("");return vt(7),t}function xt(a){for(;;){var t=a,e=Va.a(mt.contents,void 0);if("number"!==typeof e)throw{RE_EXN_ID:Gt,Error:new Error};if(9!==e){if(10!==e)throw{RE_EXN_ID:Gt,Error:new Error};return vt(6),t}var n=yt().tag_name;if("number"!==typeof n)bt(n);else{if(7!==n){if(8!==n){bt(n);continue}a={id:St(),scientific_name:t.scientific_name};continue}a={id:t.id,scientific_name:kt()}}}}function Rt(a,t){var e=Va.a(mt.contents,void 0);if("number"===typeof e){if(9!==e){if(10!==e)throw{RE_EXN_ID:Gt,Error:new Error};if(vt(3),ra(a)){var n=t.taxonomy;if(void 0!==n)return ga(n.scientific_name,n.id,t.name);var c=t.name;return void 0!==c?ga(c,void 0,c):oa("Unnamed")}if(a.TAG)return a;var r=t.taxonomy,g=void 0!==r?r.id:void 0;return{TAG:0,clade_id:a.clade_id,children:a.children,bootstrap:t.confidence,rank:t.rank,id:g,name:t.name}}var o=yt().tag_name;if("number"===typeof o)switch(o){case 1:return Rt(a,{name:wt(),rank:t.rank,confidence:t.confidence,taxonomy:t.taxonomy});case 3:if(ra(a))return Rt(Rt(a,ft),t);var i=Rt(ca,ft);return Rt(ia({hd:a,tl:{hd:i,tl:0}}),t);case 5:return Rt(a,{name:t.name,rank:t.rank,confidence:It(),taxonomy:t.taxonomy});case 6:return Rt(a,{name:t.name,rank:t.rank,confidence:t.confidence,taxonomy:xt({id:void 0,scientific_name:"Unnamed"})})}return bt(o),Rt(a,t)}throw{RE_EXN_ID:Gt,Error:new Error}}function Ot(a){var t=function(a){var t={contents:ut(a)},e={contents:function(a,t){return 17}};return e.contents=function(n){return n?function(n){var c=t.contents;return c?c.hd:(t.contents=ut(a),Va.b(e.contents,!0,void 0))}:function(e){var n=t.contents;return n?(t.contents=n.tl,18):(t.contents=ut(a),18)}},e.contents}(a);mt.contents=Va.a(t,!0),Ct.contents=Va.a(t,!1);var e=Va.a(mt.contents,void 0);if("number"===typeof e){if(9===e){var n=yt().tag_name;if("number"===typeof n)throw{RE_EXN_ID:Gt,Error:new Error};if(1===n.TAG){if("phyloxml"===n._0){var c=yt().tag_name;if("number"===typeof c){if(0!==c)throw{RE_EXN_ID:Gt,Error:new Error};var r=function(a){for(;;){var t=a,e=Va.a(mt.contents,void 0);if("number"!==typeof e)throw{RE_EXN_ID:Gt,Error:new Error};if(9!==e){if(10!==e)throw{RE_EXN_ID:Gt,Error:new Error};return vt(0),t}var n=yt().tag_name;if("number"===typeof n)if(n>=4)bt(n);else switch(n){case 0:bt(n);continue;case 1:a={name:wt(),description:t.description,tree:t.tree};continue;case 2:a={name:t.name,description:_t(),tree:t.tree};continue;case 3:a={name:t.name,description:t.description,tree:Rt(t.tree,ft)};continue}else bt(n)}}(Tt);return vt({TAG:1,_0:"phyloxml"}),r}throw{RE_EXN_ID:Gt,Error:new Error}}throw{RE_EXN_ID:Gt,Error:new Error}}throw{RE_EXN_ID:Gt,Error:new Error}}if(17===e)return Tt;throw{RE_EXN_ID:Gt,Error:new Error}}throw{RE_EXN_ID:Gt,Error:new Error}}function Dt(a){return Ot(function(a){return ot(a,!1)}(a))}var jt=T.a.Content;function Pt(){var a=Object(n.useState)([]),t=Object(G.a)(a,2),e=t[0],r=t[1],g=Object(n.useState)(void 0),o=Object(G.a)(g,2),i=o[0],l=o[1],s=Object(n.useState)(!1),T=Object(G.a)(s,2),m=T[0],C=T[1],d=Object(n.useState)(""),E=Object(G.a)(d,2),v=E[0],p=E[1],y=Object(n.useState)(""),b=Object(G.a)(y,2),w=b[0],_=b[1],N=Object(n.useRef)(null),k=new FileReader,R=function(a){try{k.onload=function(){var a=da(Dt(k.result).tree);p(a),C(!0),window.scrollTo({behavior:"smooth",top:N.current.offsetTop}),N.current.scrollTo({behavior:"smooth",top:1e3})},k.readAsText(a)}catch(t){console.log(t),console.log("File printing failed")}},D={accept:".xml",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:e,headers:{authorization:"authorization-text"},onChange:function(a){r(a.fileList)},transformFile:function(a){r([a]),l(a)}};return c.a.createElement("div",{className:"wrapper"},c.a.createElement(jt,{justify:"center"},c.a.createElement(f.a,{className:"page",justify:"center",gutter:[16,16]},c.a.createElement("div",null,c.a.createElement("h1",null,"Visualize PhyloXML"),c.a.createElement("h2",null,"Visualize an existing"," ",c.a.createElement(O,{content:c.a.createElement("p",null,"A tree that displays the evolutionary relationships between various organisms."),vocab:"phylogenetic tree",link:"https://en.wikipedia.org/wiki/Phylogenetic_tree"}),". Begin by uploading a"," ",c.a.createElement(O,{content:c.a.createElement("p",null,"A tree that displays the evolutionary relationships between various organisms."),vocab:"phyloXML",link:"http://phyloxml.org/",linkText:" the phyloXML website "})," ","file, or use our example files."))),c.a.createElement(f.a,{className:"horizontally-centered"},c.a.createElement(I.a,D,c.a.createElement(S.a,null,c.a.createElement(x.a,null),"Upload PhyloXML Files")),c.a.createElement(S.a,{onClick:function(){e.length<1?alert("At least one phyloXML file must be uploaded for tree visualization."):(_(""),R(i))}},"Visualize")),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement("p",{className:"example-text"}," See our examples: ")),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement(h.default.Group,{onChange:function(a){var t="/phylo-lib-web/examples/phyloXML/"+a.target.value+".xml";_(a.target.value),fetch(t).then((function(a){return a.blob()})).then((function(a){return R(a)}))},value:w},c.a.createElement(h.default.Button,{value:"amphi_frost"},"Amphibian Phylogeny"),c.a.createElement(h.default.Button,{value:"tol_156"},"The Tree of Life"),c.a.createElement(h.default.Button,{value:"apaf"},"Apaf-1 Gene Family Tree"),c.a.createElement(h.default.Button,{value:"adh"},"Alcohol Dehydrogenases")),c.a.createElement(A.a,{content:c.a.createElement("p",null,"Example files obtained from"," ",c.a.createElement("a",{href:"http://phyloxml.org/",target:"_blank",rel:"noopener noreferrer"},"phyloxml.org"),".",""!==w?c.a.createElement("p",null,"See the phyloXML source for the current tree"," ",c.a.createElement("a",{href:"adh"!==w?"http://phyloxml.org/archaeopteryx-js/phyloxml_trees/"+w+".xml":"http://www.phyloxml.org/examples/adh.xml",target:"_blank",rel:"noopener noreferrer"},"here"),"."):null),title:"Credits",trigger:"click"},c.a.createElement("div",{className:"example-credits"},c.a.createElement(u.a,null)))),m?c.a.createElement(f.a,{justify:"center"},c.a.createElement("div",{className:"ascii-phylo-container",ref:N},c.a.createElement("p",{className:"ascii-phylo"},v))):null))}var Xt=T.a.Content;function Ht(){var a=Object(n.useState)(!1),t=Object(G.a)(a,2),e=t[0],r=t[1],g=Object(n.useState)(""),o=Object(G.a)(g,2),i=o[0],l=o[1],s=Object(n.useState)([]),T=Object(G.a)(s,2),m=T[0],C=T[1],d=Object(n.useState)([]),E=Object(G.a)(d,2),v=E[0],p=E[1],y=Object(n.useState)([]),b=Object(G.a)(y,2),w=b[0],_=b[1],N=Object(n.useState)([]),k=Object(G.a)(N,2),R=k[0],D=k[1],j=function(a,t,e){try{var n=new FileReader;n.onload=function(){t.push(q(n.result)),R.length>2&&D(R.slice(-2)),2===t.length&&e&&P(t)},n.readAsText(a)}catch(c){console.log(c),console.log("File printing failed")}},P=function(a){if(a.length<2)alert("Not enough DNA sequences to perform pairwise alignment");else{var t=function(a,t,e,n,c){var r=W(a)+1|0,g=W(t)+1|0,o=_a(a,t,e,n,c,r,g),i=va.c(va.c(o,r-1|0),g-1|0);return[Na(a,t,o,e,n,c),i]}(a[0],a[1],1,-1,-1),e=Object(G.a)(t,1)[0],n=(c=e[0],g=e[1],ka.contents="",Sa.contents=!1,Oa(c,g),ka.contents);l(n.trim()),r(!0)}var c,g},X={accept:".FASTA, .fasta, .txt",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:w,onChange:function(a){_(a.fileList)},headers:{authorization:"authorization-text"},multiple:!0,onRemove:function(a){R.splice(w.indexOf(a)),D(R)},transformFile:function(a){j(a,R,!1),w.push(a),_(w.slice(-2))}};return c.a.createElement("div",{className:"wrapper"},c.a.createElement(Xt,{justify:"center"},c.a.createElement(f.a,{className:"page",justify:"center",gutter:[16,16]},c.a.createElement("div",null,c.a.createElement("h1",null,"Visualize Pairwise DNA Alignments"),c.a.createElement("h2",null,"Visualize an"," ",c.a.createElement(O,{content:c.a.createElement("p",null,"A DNA sequence alignment arranges the DNA in such a way as to identify regions of similarity, helping reveal evolutionary relations between the sequences."),vocab:"alignment",link:"https://en.wikipedia.org/wiki/Sequence_alignment"})," ","of two DNA sequences. Begin by uploading two"," ",c.a.createElement(O,{content:c.a.createElement("p",null,"The FASTA format is a way of representing nucleotide sequences."),vocab:".FASTA",link:"https://en.wikipedia.org/wiki/FASTA_format"})," ","files, or use our example files."))),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement("h3",{className:"example-text"},"See some examples:")),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement(h.default.Group,{onChange:function(a){C([]);var t=a.target.value.split(",");p(t),t.map((function(a){fetch("/phylo-lib-web/examples/FASTA/"+a+".fasta").then((function(a){return a.blob()})).then((function(a){return j(a,m,!0)}))}))},value:v.join(","),className:"radio-button"},c.a.createElement(h.default.Button,{value:"h1n1,h3n2"},"H1N1 vs H3N2"),c.a.createElement(h.default.Button,{value:"h5n1,h7n7"},"H5N1 vs H7N7"),c.a.createElement(h.default.Button,{value:"mers,h7n9"},"MERS vs H7N9")),c.a.createElement(A.a,{content:c.a.createElement("div",null,c.a.createElement("p",null,"The pairwise alignment shown is a globally optimum alignment obtained via the Needleman-Wunch algorithm."),c.a.createElement("p",null,"Base pair matches, mismatches and gaps are visualized. A star indicates a pair match, a bar indicates a mismatch, and a blank space indicates a gap."),c.a.createElement("p",null,"Example files obtained from"," ",c.a.createElement("a",{href:"https://www.ncbi.nlm.nih.gov/nuccore/",target:"_blank",rel:"noopener noreferrer"},"NCBI Nucleotide"),".",2===v.length?c.a.createElement("p",null,"See the sources for the current alignment:"," ",c.a.createElement("a",{href:"/phylo-lib-web/examples/FASTA/"+v[0]+".fasta",target:"_blank",rel:"noopener noreferrer"},v[0]+".fasta")," ","and"," ",c.a.createElement("a",{href:"/phylo-lib-web/examples/FASTA/"+v[1]+".fasta",target:"_blank",rel:"noopener noreferrer"},v[1]+".fasta"),"."):null)),title:"Information and Credits",trigger:"hover"},c.a.createElement("div",{className:"example-credits"},c.a.createElement(u.a,null)))),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement("h3",{className:"upload-text"},"Or upload your own FASTA files:")),c.a.createElement(f.a,{className:"horizontally-centered"},c.a.createElement(I.a,X,c.a.createElement(S.a,null,c.a.createElement(x.a,null),"Upload .FASTA Files")),c.a.createElement(S.a,{onClick:function(){P(R),R.length>=2&&(C([]),p([]))},className:"action-button"},"Display Alignment")),e?c.a.createElement(f.a,{justify:"center"},c.a.createElement("div",{className:"ascii-phylo-container"},c.a.createElement("p",{className:"ascii-phylo"},i))):null))}var Bt=function(a){var t,e=a.useBack,n=c.a.createElement("div",null,c.a.createElement("p",null,"A"," ",c.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Phylogenetic_tree"},"phylogenetic tree")," ","is a tree that shows the evolutionary relationships between species. The structure of these trees can be stored in"," ",c.a.createElement("a",{href:"http://www.phyloxml.org/"},"XML")," files. To see visualizations of such trees, you can click Visualize Phylogenetic Trees."),c.a.createElement("p",null," ","We can also try to predict the structure of phylogenetic trees by looking at the similarities in the DNAs of different species. To know more, you can click Generate Phylogenetic Trees."));return c.a.createElement("header",{className:"site-header"},c.a.createElement(i.b,{className:"site-title",to:"/"},e?c.a.createElement(s.a,{style:{alignSelf:"center",paddingRight:"10px"}}):null,"PhyloML"),c.a.createElement(A.a,(t={className:"clickable",content:n},Object(o.a)(t,"className","tooltip"),Object(o.a)(t,"trigger","click"),t),c.a.createElement("a",{className:"tooltip"}," ",c.a.createElement(u.a,{style:{paddingRight:"0.5em"}}),"Confused by all the terms?")))},Ft=function(a){var t=a.useBack,e=a.body;return c.a.createElement("div",null,c.a.createElement(Bt,{useBack:t}),e)};function Ut(){return c.a.createElement(i.a,null,c.a.createElement("div",null,c.a.createElement(l.c,null,c.a.createElement(l.a,{path:"/generate",component:function(){return c.a.createElement(Ft,{useBack:!0,body:c.a.createElement(et,null)})}}),c.a.createElement(l.a,{path:"/visualize",component:function(){return c.a.createElement(Ft,{useBack:!0,body:c.a.createElement(Pt,null)})}}),c.a.createElement(l.a,{path:"/pairwise",component:function(){return c.a.createElement(Ft,{useBack:!0,body:c.a.createElement(Ht,null)})}}),c.a.createElement(l.a,{path:"/",component:function(){return c.a.createElement(Ft,{useBack:!1,body:c.a.createElement(y,null)})}}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));g.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Ut,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))},64:function(a,t,e){}},[[137,1,2]]]);
//# sourceMappingURL=main.cba8ca58.chunk.js.map