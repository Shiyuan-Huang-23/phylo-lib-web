{"version":3,"sources":["components/HomeContent.js","ocaml_src/dna.bs.js","ocaml_src/tree.bs.js","ocaml_src/pairwise.bs.js","ocaml_src/distance.bs.js","ocaml_src/phylo_algo.bs.js","ocaml_src/Examples/Influenza.js","components/Generate.js","ocaml_src/lexer.bs.js","ocaml_src/phylo_parser.bs.js","components/Visualize.js","components/DisplayPairwise.js","App.js","serviceWorker.js","index.js"],"names":["Content","Layout","HomeContents","className","justify","gutter","lg","md","sm","to","Caml_exceptions","parse_line","str","dna_seq","str$1","$$String","c","switcher","is_dna","$$Buffer","from_string","Pervasives","length","get","pos","exn","get_e","string_of_range","start_pos","end_pos","range","clade_ids","tree","tag","List","rep_ok","t","all_clade_ids","Caml_obj","Caml_primitive","clade_ids_uniq","counter","contents","empty_000","empty","Block","undefined","is_empty","info","leaf","sci_name","id","name","leaf_no_params","zip_no_params","trees","printing","print_output","print_char","Char","print_string","s","print_endline","console","log","print_spaces","n","x","print_vert_helper","_ds","_pos","end_str","ds","h","print_verts","print_branch","print_tree_helper","_t_lst","d","t_lst","new_ds","to_string","max_three","a","b","neighbors","d1","d2","r","mat","align","misalign","indel","Caml_array","Dna$PhyloLibWeb","fill_matrix","m","$$Array","Caml_int32","init_matrix","match","backtrack","acc1","acc2","cell","diff","aligned","s1","s2","len","diff$1","print_alignment_helper","i","i_finish","j","j_finish","min_pos","dist","Hashtbl","acc","k","v","min_index","avg_helper","combine","average","Caml_option","remove","is_done","add_species","species","match$1","Tree$PhyloLibWeb","r$1","r$2","Generate","useState","PhyloTree","setPhyloTree","phyloVisible","setPhyloVisible","dnaArr","setDnaArr","names","setNames","updateSeq","dna","concat","parseDNA","file","filename","reader","FileReader","onload","Dna","result","readAsText","e","fastaUploadProps","accept","action","headers","authorization","multiple","transformFile","file_name","split","slice","join","toUpperCase","UploadOutlined","onClick","output","Tree","_dist","_acc","dist$1","Distance$PhyloLibWeb","tree_list","PhyloAlgo","dnas","dist_matrix","Pairwise$PhyloLibWeb","Distance","Group","onChange","target","value","Button","is_word","String","word_token_map","make_stream_helper","is_file","stream","in_channel","Stream","param","Caml_builtin_exceptions","char_stream","get_next_line","val","s$1","raw_exn","Caml_js_exceptions","lex_keyword","lex_keyword_helper","is_special_char","is_number","lex_number","Caml_format","tokenize_next_line","stream_of_line","exit","exn$1","exit$1","$$SyntaxError","empty_phylo","description","empty_clade_attr","rank","confidence","taxonomy","peek","consume_token","consume","token","Curry","Lexer$PhyloLibWeb","parse_words","w","add_assoc","lst","attr","consume_end_tag","add_attr","return_tag","tag_name","str_attr","num_attr","bool_attr","words","x$1","parse_start_tag","is_valid_tag","_tag","ignore_tag","parse_name","parse_description","descr","parse_float","f","parse_confidence","n$1","parse_id","parse_scientific_name","parse_taxonomy","_taxonomy","scientific_name","parse_clade","taxon","taxon$1","clade","from_phylo_helper","tokenizer","tokens_in_line","token_function","phylo","parse_phylogeny","from_phylo_str","Visualize","asciiPhylo","setasciiPhylo","currPhylo","setCurrPhylo","fileList","setFileList","displayPhyloFile","PhyloParser","uploadProps","filePath","process","fetch","then","response","blob","content","href","rel","title","trigger","InfoCircleOutlined","DisplayPairwise","displayVisible","setDisplayVisible","alignment","setAlignment","exampleArr","setExampleArr","arr","displayOnFinish","push","displayAlignment","alert","score","Pairwise","pair","trim","map","Header","style","paddingRight","App","path","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.7c5cc1b1.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Row, Col, Layout } from 'antd';\nimport '../App.css';\nconst { Content } = Layout;\n\nexport default function HomeContents() {\n  return (\n    <div className=\"wrapper main\">\n      <Content justify=\"center\">\n        <Row className=\"intro\" justify=\"center\">\n          <div>\n            <h1>Welcome to PhyloML</h1>\n            <h2>A phylogenetic library written in OCaml.</h2>\n            <h2>\n              Inferring Evolutionary History through modern genetic similarity.\n            </h2>\n          </div>\n        </Row>\n        <Row justify=\"center\" gutter={[16, 40]}>\n          <Col lg={7} md={10} sm={12}>\n            <Link className=\"offset\" to=\"/phylo-lib-web/generate\">\n              Generate Phylogenetic Trees\n            </Link>\n          </Col>\n          <Col lg={7} md={10} sm={12}>\n            <Link className=\"offset\" to=\"/phylo-lib-web/visualize\">\n              Visualize Phylogenetic Trees\n            </Link>\n          </Col>\n          <Col lg={7} md={10} sm={12}>\n            <Link className=\"offset\" to=\"/phylo-lib-web/pairwise\">\n              Visualize Pairwise DNA Alignments\n            </Link>\n          </Col>\n        </Row>\n      </Content>\n    </div>\n  );\n}\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as $$Buffer from \"bs-platform/lib/es6/buffer.js\";\nimport * as Stream from \"bs-platform/lib/es6/stream.js\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Caml_exceptions from \"bs-platform/lib/es6/caml_exceptions.js\";\nimport * as Caml_builtin_exceptions from \"bs-platform/lib/es6/caml_builtin_exceptions.js\";\n\nvar Empty = Caml_exceptions.create(\"Dna-PhyloLibWeb.Empty\");\n\nfunction is_name_line(str) {\n  return $$String.sub(str, 0, 1) === \">\";\n}\n\nfunction is_dna(c) {\n  var switcher = c - 84 | 0;\n  if (!(switcher > 11 || switcher < 0)) {\n    return switcher > 10 || switcher < 1;\n  }\n  switch (switcher) {\n    case -18 :\n    case -16 :\n    case -15 :\n    case -14 :\n        return false;\n    case -19 :\n    case -17 :\n    case -13 :\n        return true;\n    default:\n      return false;\n  }\n}\n\nfunction parse_line(str, dna_seq) {\n  var str$1 = $$String.uppercase_ascii(str);\n  return $$String.iter((function (c) {\n                if (is_dna(c)) {\n                  return $$Buffer.add_char(dna_seq, c);\n                }\n                \n              }), str$1);\n}\n\nfunction parse_first_line(dna_stream) {\n  var v = Stream.peek(dna_stream);\n  if (v !== undefined) {\n    console.log(v);\n    if (is_name_line(v)) {\n      return Stream.junk(dna_stream);\n    } else {\n      return ;\n    }\n  }\n  throw Empty;\n}\n\nPervasives.failwith(\"unimplemented\");\n\nfunction from_fasta(init_sizeOpt, loc) {\n  var init_size = init_sizeOpt !== undefined ? init_sizeOpt : 16384;\n  var f = Pervasives.open_in(loc);\n  var read_line = function (i) {\n    try {\n      return Pervasives.input_line(f);\n    }\n    catch (exn){\n      if (exn === Caml_builtin_exceptions.end_of_file) {\n        return ;\n      }\n      throw exn;\n    }\n  };\n  var dna_stream = Stream.from(read_line);\n  parse_first_line(dna_stream);\n  var dna_seq = $$Buffer.create(init_size);\n  Stream.iter((function (str) {\n          return parse_line(str, dna_seq);\n        }), dna_stream);\n  return dna_seq;\n}\n\nfunction from_string(str) {\n  var dna_seq = $$Buffer.create(128);\n  parse_line(str, dna_seq);\n  return dna_seq;\n}\n\nfunction is_empty(dna_seq) {\n  return $$Buffer.length(dna_seq) === 0;\n}\n\nvar length = $$Buffer.length;\n\nfunction get(dna_seq, pos) {\n  try {\n    return $$Buffer.nth(dna_seq, pos);\n  }\n  catch (exn){\n    return ;\n  }\n}\n\nvar get_e = $$Buffer.nth;\n\nfunction string_of_range(dna_seq, start_pos, end_pos) {\n  var range = end_pos - start_pos | 0;\n  return $$Buffer.sub(dna_seq, start_pos, range);\n}\n\nvar to_string = $$Buffer.contents;\n\nexport {\n  Empty ,\n  from_fasta ,\n  from_string ,\n  is_empty ,\n  length ,\n  get ,\n  get_e ,\n  string_of_range ,\n  to_string ,\n  \n}\n/*  Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Char from \"bs-platform/lib/es6/char.js\";\nimport * as List from \"bs-platform/lib/es6/list.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Caml_obj from \"bs-platform/lib/es6/caml_obj.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Caml_exceptions from \"bs-platform/lib/es6/caml_exceptions.js\";\n\nvar UnknownClade = Caml_exceptions.create(\"Tree-PhyloLibWeb.UnknownClade\");\n\nfunction clade_ids(tree) {\n  if (tree.tag) {\n    return /* [] */0;\n  } else {\n    return /* :: */[\n            tree[/* clade_id */0],\n            List.flatten(List.map(clade_ids, tree[/* children */1]))\n          ];\n  }\n}\n\nfunction clade_ids_uniq(t) {\n  var all_clade_ids = clade_ids(t);\n  return Caml_obj.caml_equal(List.sort_uniq(Caml_primitive.caml_int_compare, all_clade_ids), List.sort(Caml_primitive.caml_int_compare, all_clade_ids));\n}\n\nfunction rep_ok(t) {\n  if (clade_ids_uniq(t)) {\n    return t;\n  } else {\n    return Pervasives.failwith(\"clade_ids not unique\");\n  }\n}\n\nvar counter = {\n  contents: 0\n};\n\nvar empty_000 = /* clade_id */(counter.contents = counter.contents + 1 | 0, counter.contents);\n\nvar empty = /* Clade */Block.__(0, [\n    empty_000,\n    /* children : [] */0,\n    /* bootstrap */undefined,\n    /* rank */undefined,\n    /* id */undefined,\n    /* name */undefined\n  ]);\n\nfunction is_empty(info) {\n  if (info.tag || !(info[/* children */1] === /* [] */0 && info[/* bootstrap */2] === undefined && info[/* rank */3] === undefined && info[/* id */4] === undefined)) {\n    return false;\n  } else {\n    return info[/* name */5] === undefined;\n  }\n}\n\nfunction leaf(sci_name, id, name) {\n  return /* Leaf */Block.__(1, [\n            /* scientific_name */sci_name,\n            /* id */id,\n            /* name */name\n          ]);\n}\n\nfunction leaf_no_params(sci_name) {\n  return /* Leaf */Block.__(1, [\n            /* scientific_name */sci_name,\n            /* id */undefined,\n            /* name */undefined\n          ]);\n}\n\nfunction size_helper(tree, size) {\n  if (tree.tag) {\n    return size + 1 | 0;\n  }\n  var match = tree[/* children */1];\n  if (match) {\n    return 1 + List.fold_left((function (acc, x) {\n                  return acc + size_helper(x, size) | 0;\n                }), 0, /* :: */[\n                match[0],\n                match[1]\n              ]) | 0;\n  } else {\n    return size;\n  }\n}\n\nfunction size(tree) {\n  return size_helper(tree, 0);\n}\n\nfunction zip(trees, bootstrap, rank, parsed_id, name) {\n  if (empty.tag) {\n    return Pervasives.failwith(\"Representation invariant broken\");\n  } else {\n    return rep_ok(/* Clade */Block.__(0, [\n                  /* clade_id */(counter.contents = counter.contents + 1 | 0, counter.contents),\n                  /* children */trees,\n                  /* bootstrap */bootstrap,\n                  /* rank */rank,\n                  /* id */parsed_id,\n                  /* name */name\n                ]));\n  }\n}\n\nfunction zip_no_params(trees) {\n  if (empty.tag) {\n    return Pervasives.failwith(\"Representation invariant broken\");\n  } else {\n    return rep_ok(/* Clade */Block.__(0, [\n                  /* clade_id */(counter.contents = counter.contents + 1 | 0, counter.contents),\n                  /* children */trees,\n                  /* bootstrap */undefined,\n                  /* rank */undefined,\n                  /* id */undefined,\n                  /* name */undefined\n                ]));\n  }\n}\n\nfunction hierarchy(a, b) {\n  if (a.tag) {\n    if (b.tag) {\n      return Caml_primitive.caml_string_compare(a[/* scientific_name */0], b[/* scientific_name */0]);\n    } else {\n      return -1;\n    }\n  } else if (b.tag) {\n    return 1;\n  } else {\n    return Caml_primitive.caml_int_compare(a[/* clade_id */0], b[/* clade_id */0]);\n  }\n}\n\nfunction is_equal(a, b) {\n  if (a.tag) {\n    if (b.tag) {\n      return a[/* scientific_name */0] === b[/* scientific_name */0];\n    } else {\n      return false;\n    }\n  }\n  if (b.tag) {\n    return false;\n  }\n  var s1 = List.sort(hierarchy, a[/* children */1]);\n  var s2 = List.sort(hierarchy, b[/* children */1]);\n  var _a = s1;\n  var _b = s2;\n  var _acc = true;\n  while(true) {\n    var acc = _acc;\n    var b$1 = _b;\n    var a$1 = _a;\n    if (acc === false) {\n      return false;\n    }\n    if (!a$1) {\n      if (b$1) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n    if (!b$1) {\n      return false;\n    }\n    _acc = is_equal(a$1[0], b$1[0]);\n    _b = b$1[1];\n    _a = a$1[1];\n    continue ;\n  };\n}\n\nfunction mem(s, t) {\n  if (t.tag) {\n    return t[/* scientific_name */0] === s;\n  } else {\n    return List.fold_left((function (acc, tree) {\n                  if (acc) {\n                    return true;\n                  } else {\n                    return mem(s, tree);\n                  }\n                }), false, t[/* children */1]);\n  }\n}\n\nvar printing = {\n  contents: true\n};\n\nvar print_output = {\n  contents: \"\"\n};\n\nfunction print_char(c) {\n  if (printing.contents) {\n    return Pervasives.print_char(c);\n  } else {\n    print_output.contents = print_output.contents + Char.escaped(c);\n    return ;\n  }\n}\n\nfunction print_string(s) {\n  if (printing.contents) {\n    return Pervasives.print_string(s);\n  } else {\n    print_output.contents = print_output.contents + s;\n    return ;\n  }\n}\n\nfunction print_endline(s) {\n  if (printing.contents) {\n    console.log(s);\n    return ;\n  } else {\n    return print_string(s + \"\\n\");\n  }\n}\n\nfunction print_spaces(n) {\n  for(var x = 1; x <= n; ++x){\n    print_char(/* \" \" */32);\n  }\n  \n}\n\nfunction print_vert_helper(_ds, _pos, end_str) {\n  while(true) {\n    var pos = _pos;\n    var ds = _ds;\n    if (!ds) {\n      return ;\n    }\n    var t = ds[1];\n    var h = ds[0];\n    if (h === pos && h !== 0) {\n      print_spaces(1);\n    } else {\n      print_spaces(((h - pos | 0) << 1) + (\n            h === 0 || pos === 0 ? 0 : 1\n          ) | 0);\n    }\n    if (t === /* [] */0) {\n      print_string(end_str);\n    } else {\n      print_char(/* \"|\" */124);\n    }\n    _pos = h + 1 | 0;\n    _ds = t;\n    continue ;\n  };\n}\n\nfunction print_verts(ds) {\n  print_vert_helper(List.rev(ds), 0, \"|\");\n  return print_endline(\"\");\n}\n\nfunction print_branch(ds) {\n  if (ds) {\n    return print_vert_helper(List.rev(ds), 0, \"o-\");\n  } else {\n    return Pervasives.invalid_arg(\"ds\");\n  }\n}\n\nfunction print_tree_helper(_t_lst, d, ds) {\n  while(true) {\n    var t_lst = _t_lst;\n    if (!t_lst) {\n      return ;\n    }\n    var t = t_lst[1];\n    var h = t_lst[0];\n    if (h.tag) {\n      if (ds !== /* [] */0) {\n        print_verts(ds);\n      } else {\n        Pervasives.print_newline(undefined);\n      }\n      if (ds !== /* [] */0) {\n        print_branch(ds);\n      }\n      var n = h[/* name */2];\n      if (n !== undefined && h[/* scientific_name */0] === \"Unnamed\") {\n        print_endline(n);\n      } else {\n        print_endline(h[/* scientific_name */0]);\n      }\n      _t_lst = t;\n      continue ;\n    }\n    var new_ds = t !== /* [] */0 ? /* :: */[\n        d,\n        ds\n      ] : (\n        ds ? /* :: */[\n            d,\n            ds[1]\n          ] : /* :: */[\n            d,\n            /* [] */0\n          ]\n      );\n    if (ds !== /* [] */0) {\n      print_verts(ds);\n    }\n    if (ds !== /* [] */0) {\n      print_branch(ds);\n    }\n    print_string(\"C\\n\");\n    print_tree_helper(h[/* children */1], d + 1 | 0, new_ds);\n    _t_lst = t;\n    continue ;\n  };\n}\n\nfunction to_string(t) {\n  print_output.contents = \"\";\n  printing.contents = false;\n  print_tree_helper(/* :: */[\n        t,\n        /* [] */0\n      ], 0, /* [] */0);\n  return print_output.contents;\n}\n\nfunction print_tree(t) {\n  printing.contents = true;\n  return print_tree_helper(/* :: */[\n              t,\n              /* [] */0\n            ], 0, /* [] */0);\n}\n\nexport {\n  UnknownClade ,\n  empty ,\n  is_empty ,\n  leaf ,\n  leaf_no_params ,\n  size ,\n  zip ,\n  zip_no_params ,\n  mem ,\n  is_equal ,\n  to_string ,\n  print_tree ,\n  \n}\n/* empty Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Char from \"bs-platform/lib/es6/char.js\";\nimport * as $$Array from \"bs-platform/lib/es6/array.js\";\nimport * as Caml_obj from \"bs-platform/lib/es6/caml_obj.js\";\nimport * as Caml_array from \"bs-platform/lib/es6/caml_array.js\";\nimport * as Caml_int32 from \"bs-platform/lib/es6/caml_int32.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Dna$PhyloLibWeb from \"./dna.bs.js\";\n\nfunction max_three(a, b, c) {\n  return Caml_obj.caml_max(Caml_obj.caml_max(a, b), c);\n}\n\nfunction init_matrix(d1, d2, indel, m, n) {\n  var mat = $$Array.make_matrix(m, n, -1000000000);\n  for(var r = 0; r < m; ++r){\n    Caml_array.caml_array_set(Caml_array.caml_array_get(mat, r), 0, Caml_int32.imul(r, indel));\n  }\n  for(var c = 0; c < n; ++c){\n    Caml_array.caml_array_set(Caml_array.caml_array_get(mat, 0), c, Caml_int32.imul(c, indel));\n  }\n  return mat;\n}\n\nfunction neighbors(d1, d2, r, c, mat, align, misalign, indel) {\n  var left = c.contents < 1 ? -1000000000 : indel + Caml_array.caml_array_get(Caml_array.caml_array_get(mat, r.contents), c.contents - 1 | 0) | 0;\n  var up = r.contents < 1 ? -1000000000 : indel + Caml_array.caml_array_get(Caml_array.caml_array_get(mat, r.contents - 1 | 0), c.contents) | 0;\n  var diagonal = r.contents < 1 || c.contents < 1 ? -1000000000 : Caml_array.caml_array_get(Caml_array.caml_array_get(mat, r.contents - 1 | 0), c.contents - 1 | 0) + (\n      Caml_obj.caml_equal(Dna$PhyloLibWeb.get(d1, (\n                0 > r.contents ? 0 : r.contents\n              ) - 1 | 0), Dna$PhyloLibWeb.get(d2, (\n                0 > c.contents ? 0 : c.contents\n              ) - 1 | 0)) ? align : misalign\n    ) | 0;\n  return /* tuple */[\n          left,\n          up,\n          diagonal\n        ];\n}\n\nfunction fill_matrix(d1, d2, align, misalign, indel, m, n) {\n  var mat = init_matrix(d1, d2, indel, m, n);\n  for(var r = 1; r < m; ++r){\n    for(var c = 1; c < n; ++c){\n      var match = neighbors(d1, d2, {\n            contents: r\n          }, {\n            contents: c\n          }, mat, align, misalign, indel);\n      Caml_array.caml_array_set(Caml_array.caml_array_get(mat, r), c, max_three(match[0], match[1], match[2]));\n    }\n  }\n  return mat;\n}\n\nfunction backtrack(d1, d2, mat, align, misalign, indel) {\n  var r = {\n    contents: Dna$PhyloLibWeb.length(d1)\n  };\n  var c = {\n    contents: Dna$PhyloLibWeb.length(d2)\n  };\n  var acc1 = \"\";\n  var acc2 = \"\";\n  while(r.contents > 0 || c.contents > 0) {\n    var match = neighbors(d1, d2, r, c, mat, align, misalign, indel);\n    var cell = Caml_array.caml_array_get(Caml_array.caml_array_get(mat, r.contents), c.contents);\n    if (cell === match[2]) {\n      acc1 = Char.escaped(Dna$PhyloLibWeb.get_e(d1, r.contents - 1 | 0)) + acc1;\n      acc2 = Char.escaped(Dna$PhyloLibWeb.get_e(d2, c.contents - 1 | 0)) + acc2;\n      r.contents = r.contents - 1 | 0;\n      c.contents = c.contents - 1 | 0;\n    } else if (cell === match[0]) {\n      acc1 = \"_\" + acc1;\n      acc2 = Char.escaped(Dna$PhyloLibWeb.get_e(d2, c.contents - 1 | 0)) + acc2;\n      c.contents = c.contents - 1 | 0;\n    } else if (cell === match[1]) {\n      acc2 = \"_\" + acc2;\n      acc1 = Char.escaped(Dna$PhyloLibWeb.get_e(d1, r.contents - 1 | 0)) + acc1;\n      r.contents = r.contents - 1 | 0;\n    } else {\n      Pervasives.failwith(\"This should not happen\");\n    }\n  };\n  return [\n          Dna$PhyloLibWeb.from_string(acc1),\n          Dna$PhyloLibWeb.from_string(acc2)\n        ];\n}\n\nfunction align_pair(d1, d2, align, misalign, indel) {\n  var m = Dna$PhyloLibWeb.length(d1) + 1 | 0;\n  var n = Dna$PhyloLibWeb.length(d2) + 1 | 0;\n  var mat = fill_matrix(d1, d2, align, misalign, indel, m, n);\n  var score = Caml_array.caml_array_get(Caml_array.caml_array_get(mat, m - 1 | 0), n - 1 | 0);\n  var alignment = backtrack(d1, d2, mat, align, misalign, indel);\n  return /* tuple */[\n          alignment,\n          score\n        ];\n}\n\nfunction diff(d1, d2, align, misalign, indel) {\n  var m = Dna$PhyloLibWeb.length(d1) + 1 | 0;\n  var n = Dna$PhyloLibWeb.length(d2) + 1 | 0;\n  var mat = fill_matrix(d1, d2, align, misalign, indel, m, n);\n  var aligned = backtrack(d1, d2, mat, align, misalign, indel);\n  var s1 = Caml_array.caml_array_get(aligned, 0);\n  var s2 = Caml_array.caml_array_get(aligned, 1);\n  var len = Dna$PhyloLibWeb.length(s1);\n  var diff$1 = 0;\n  for(var r = 0; r < len; ++r){\n    if (Caml_obj.caml_equal(Dna$PhyloLibWeb.get(s1, r), /* \"_\" */95) || Caml_obj.caml_equal(Dna$PhyloLibWeb.get(s2, r), /* \"_\" */95)) {\n      diff$1 = diff$1 - indel | 0;\n    } else if (Caml_obj.caml_notequal(Dna$PhyloLibWeb.get(s1, r), Dna$PhyloLibWeb.get(s2, r))) {\n      diff$1 = diff$1 + 1 | 0;\n    }\n    \n  }\n  return diff$1;\n}\n\nvar printing = {\n  contents: true\n};\n\nvar print_output = {\n  contents: \"\"\n};\n\nfunction print_char(c) {\n  if (printing.contents) {\n    return Pervasives.print_char(c);\n  } else {\n    print_output.contents = print_output.contents + Char.escaped(c);\n    return ;\n  }\n}\n\nfunction print_endline(s) {\n  if (printing.contents) {\n    console.log(s);\n    return ;\n  } else {\n    print_output.contents = print_output.contents + (s + \"\\n\");\n    return ;\n  }\n}\n\nfunction print_alignment_helper(d1, d2) {\n  var n = Dna$PhyloLibWeb.length(d1);\n  for(var i = 0 ,i_finish = (n - 1 | 0) / 80 | 0; i <= i_finish; ++i){\n    print_endline(Dna$PhyloLibWeb.string_of_range(d1, Caml_int32.imul(80, i), Caml_primitive.caml_int_min(n, Caml_int32.imul(80, i + 1 | 0))));\n    for(var j = Caml_int32.imul(80, i) ,j_finish = Caml_primitive.caml_int_min(n - 1 | 0, Caml_int32.imul(80, i + 1 | 0) - 1 | 0); j <= j_finish; ++j){\n      if (Caml_obj.caml_equal(Dna$PhyloLibWeb.get(d1, j), Dna$PhyloLibWeb.get(d2, j))) {\n        print_char(/* \"*\" */42);\n      } else if (Caml_obj.caml_equal(Dna$PhyloLibWeb.get(d1, j), /* \"_\" */95) || Caml_obj.caml_equal(Dna$PhyloLibWeb.get(d2, j), /* \"_\" */95)) {\n        print_char(/* \" \" */32);\n      } else {\n        print_char(/* \"|\" */124);\n      }\n    }\n    print_endline(\"\");\n    print_endline(Dna$PhyloLibWeb.string_of_range(d2, Caml_int32.imul(80, i), Caml_primitive.caml_int_min(n, Caml_int32.imul(80, i + 1 | 0))));\n    print_endline(\"\");\n  }\n  \n}\n\nfunction print_alignment(d1, d2) {\n  printing.contents = true;\n  return print_alignment_helper(d1, d2);\n}\n\nfunction to_string(d1, d2) {\n  print_output.contents = \"\";\n  printing.contents = false;\n  print_alignment_helper(d1, d2);\n  return print_output.contents;\n}\n\nexport {\n  align_pair ,\n  diff ,\n  print_alignment ,\n  to_string ,\n  \n}\n/* Dna-PhyloLibWeb Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Hashtbl from \"bs-platform/lib/es6/hashtbl.js\";\nimport * as Caml_obj from \"bs-platform/lib/es6/caml_obj.js\";\nimport * as Caml_array from \"bs-platform/lib/es6/caml_array.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Msa$PhyloLibWeb from \"./msa.bs.js\";\nimport * as Pairwise$PhyloLibWeb from \"./pairwise.bs.js\";\n\nfunction dist_dna(dnas, align, misalign, indel) {\n  var m = dnas.length;\n  var dist_matrix = Hashtbl.create(undefined, m);\n  for(var i = 0; i < m; ++i){\n    for(var j = i + 1 | 0; j < m; ++j){\n      Hashtbl.add(dist_matrix, /* tuple */[\n            i,\n            j\n          ], Pairwise$PhyloLibWeb.diff(Caml_array.caml_array_get(dnas, i), Caml_array.caml_array_get(dnas, j), align, misalign, indel));\n    }\n  }\n  return dist_matrix;\n}\n\nfunction dist_msa(msa, gap) {\n  var m = Msa$PhyloLibWeb.num_seq(msa);\n  var n = Msa$PhyloLibWeb.seq_len(msa);\n  var dist_matrix = Hashtbl.create(undefined, m);\n  for(var i = 0; i < m; ++i){\n    var diff = 0;\n    for(var j = i + 1 | 0; j < m; ++j){\n      for(var k = 0; k < n; ++k){\n        if (Msa$PhyloLibWeb.get_base(i, k, msa) === /* \"_\" */95 || Msa$PhyloLibWeb.get_base(j, k, msa) === /* \"_\" */95) {\n          diff = diff + gap | 0;\n        } else if (Msa$PhyloLibWeb.get_base(i, k, msa) !== Msa$PhyloLibWeb.get_base(j, k, msa)) {\n          diff = diff + 1 | 0;\n        }\n        \n      }\n      Hashtbl.add(dist_matrix, /* tuple */[\n            i,\n            j\n          ], diff);\n    }\n  }\n  return dist_matrix;\n}\n\nfunction min_pos(dist) {\n  if (Hashtbl.length(dist) === 0) {\n    return /* tuple */[\n            /* tuple */[\n              0,\n              0\n            ],\n            0\n          ];\n  }\n  var acc_000 = /* tuple */[\n    0,\n    0\n  ];\n  var acc = /* tuple */[\n    acc_000,\n    Pervasives.max_float\n  ];\n  return Hashtbl.fold((function (k, v, acc) {\n                if (v < acc[1]) {\n                  return /* tuple */[\n                          k,\n                          v\n                        ];\n                } else {\n                  return acc;\n                }\n              }), dist, acc);\n}\n\nfunction min_diff(dist) {\n  return min_pos(dist)[1];\n}\n\nfunction min_index(dist) {\n  return min_pos(dist)[0];\n}\n\nfunction diff(index, dist) {\n  return Hashtbl.find(dist, index);\n}\n\nfunction remove(i, dist) {\n  return Hashtbl.filter_map_inplace((function (k, v) {\n                if (Caml_obj.caml_equal(k[0], i) || Caml_obj.caml_equal(k[1], i)) {\n                  return ;\n                } else {\n                  return Caml_option.some(v);\n                }\n              }), dist);\n}\n\nfunction avg_helper(j, k, dist) {\n  return Hashtbl.find(dist, /* tuple */[\n              Caml_obj.caml_min(j, k),\n              Caml_obj.caml_max(j, k)\n            ]);\n}\n\nfunction average(i, j, dist) {\n  var avg = function (k, v) {\n    if (k[0] === i) {\n      var other = k[1];\n      var v_val = v + avg_helper(other, i, dist);\n      return v_val / 2;\n    }\n    if (k[1] !== i) {\n      return v;\n    }\n    var other$1 = k[0];\n    return (v + avg_helper(other$1, i, dist)) / 2;\n  };\n  return Hashtbl.filter_map_inplace(avg, dist);\n}\n\nfunction combine(i, j, dist) {\n  if (i >= j) {\n    Pervasives.failwith(\"invalid input\");\n  } else {\n    average(i, j, dist);\n  }\n  remove(j, dist);\n  return dist;\n}\n\nfunction dim(dist) {\n  return Hashtbl.fold((function (k, v, acc) {\n                if (k[0] === 0) {\n                  return acc + 1 | 0;\n                } else {\n                  return acc;\n                }\n              }), dist, 1);\n}\n\nfunction is_done(dist) {\n  return Hashtbl.length(dist) === 0;\n}\n\nexport {\n  dist_dna ,\n  dist_msa ,\n  min_index ,\n  min_diff ,\n  diff ,\n  combine ,\n  dim ,\n  is_done ,\n  \n}\n/* Msa-PhyloLibWeb Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as List from \"bs-platform/lib/es6/list.js\";\nimport * as Caml_array from \"bs-platform/lib/es6/caml_array.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Tree$PhyloLibWeb from \"./tree.bs.js\";\nimport * as Distance$PhyloLibWeb from \"./distance.bs.js\";\n\nfunction add_species(species, i, j, acc) {\n  var s1 = Caml_array.caml_array_get(species, i);\n  var s2 = Caml_array.caml_array_get(species, j);\n  var match = List.assoc_opt(i, acc);\n  var match$1 = List.assoc_opt(j, acc);\n  if (match !== undefined) {\n    if (match$1 !== undefined) {\n      var r = List.remove_assoc(j, List.remove_assoc(i, acc));\n      return /* :: */[\n              /* tuple */[\n                i < j ? i : j,\n                Tree$PhyloLibWeb.zip_no_params(/* :: */[\n                      match,\n                      /* :: */[\n                        match$1,\n                        /* [] */0\n                      ]\n                    ])\n              ],\n              r\n            ];\n    }\n    var r$1 = List.remove_assoc(i, acc);\n    return /* :: */[\n            /* tuple */[\n              i < j ? i : j,\n              Tree$PhyloLibWeb.zip_no_params(/* :: */[\n                    Tree$PhyloLibWeb.leaf_no_params(s2),\n                    /* :: */[\n                      match,\n                      /* [] */0\n                    ]\n                  ])\n            ],\n            r$1\n          ];\n  }\n  if (match$1 === undefined) {\n    return /* :: */[\n            /* tuple */[\n              i < j ? i : j,\n              Tree$PhyloLibWeb.zip_no_params(/* :: */[\n                    Tree$PhyloLibWeb.leaf_no_params(s1),\n                    /* :: */[\n                      Tree$PhyloLibWeb.leaf_no_params(s2),\n                      /* [] */0\n                    ]\n                  ])\n            ],\n            acc\n          ];\n  }\n  var r$2 = List.remove_assoc(j, acc);\n  return /* :: */[\n          /* tuple */[\n            i < j ? i : j,\n            Tree$PhyloLibWeb.zip_no_params(/* :: */[\n                  Tree$PhyloLibWeb.leaf_no_params(s1),\n                  /* :: */[\n                    match$1,\n                    /* [] */0\n                  ]\n                ])\n          ],\n          r$2\n        ];\n}\n\nfunction upgma(dist, species) {\n  var match = species.length;\n  if (match !== 0) {\n    if (match !== 1) {\n      var _dist = dist;\n      var _acc = /* [] */0;\n      while(true) {\n        var acc = _acc;\n        var dist$1 = _dist;\n        if (Distance$PhyloLibWeb.is_done(dist$1)) {\n          var tree_list = List.rev_map((function (x) {\n                  return x[1];\n                }), acc);\n          if (List.length(tree_list) === 1) {\n            return List.hd(tree_list);\n          } else if (List.length(tree_list) > 1) {\n            return Tree$PhyloLibWeb.zip_no_params(tree_list);\n          } else {\n            return Pervasives.failwith(\"Precondition violated in upgma_help\");\n          }\n        }\n        var match$1 = Distance$PhyloLibWeb.min_index(dist$1);\n        var j = match$1[1];\n        var i = match$1[0];\n        var t = add_species(species, i, j, acc);\n        var d = Distance$PhyloLibWeb.combine(i, j, dist$1);\n        _acc = t;\n        _dist = d;\n        continue ;\n      };\n    } else {\n      return Tree$PhyloLibWeb.leaf_no_params(Caml_array.caml_array_get(species, 0));\n    }\n  } else {\n    return Tree$PhyloLibWeb.empty;\n  }\n}\n\nexport {\n  upgma ,\n  \n}\n/* Tree-PhyloLibWeb Not a pure module */\n","const influenza = `\n\nC\n|\no-SARS\n|\no-C\n  |\n  o-C\n  | |\n  | o-H6N1\n  | |\n  | o-C\n  |   |\n  |   o-H5N1\n  |   |\n  |   o-C\n  |     |\n  |     o-H3N2\n  |     |\n  |     o-C\n  |       |\n  |       o-H7N9\n  |       |\n  |       o-C\n  |         |\n  |         o-H1N1\n  |         |\n  |         o-H7N7\n  |\n  o-C\n    |\n    o-C\n    | |\n    | o-H2N3\n    | |\n    | o-H10N7\n    |\n    o-C\n      |\n      o-H3N1\n      |\n      o-H3N8\n\n`\n\nexport default influenza ","import React, { useState } from 'react';\nimport { Button, Radio, Row, Layout, Upload } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons';\nimport * as Dna from '../ocaml_src/dna.bs';\nimport * as Tree from '../ocaml_src/tree.bs';\nimport * as Distance from '../ocaml_src/distance.bs';\nimport * as PhyloAlgo from '../ocaml_src/phylo_algo.bs';\nimport influenza from '../ocaml_src/Examples/Influenza.js'\n\n\nimport '../App.css';\n\nconst { Content } = Layout;\n\nexport default function Generate() {\n\n  const [PhyloTree, setPhyloTree] = useState('');\n  const [phyloVisible, setPhyloVisible] = useState(false);\n  const [dnaArr, setDnaArr] = useState([]);\n  const [names, setNames] = useState([]);\n\n  const updateSeq = (dna, name) => {\n\n    setDnaArr(dnaArr => dnaArr.concat(dna));\n    setNames(names => names.concat(name));\n  }\n\n  const parseDNA = async (file, filename) => {\n    try {\n      const reader = new FileReader();\n      reader.onload = () => {\n        const dna = Dna.from_string(reader.result);\n        console.log(reader.result);\n        updateSeq(dna, filename)\n      };\n      reader.readAsText(file);\n    } catch (e) {\n      console.log(e);\n      console.log('File printing failed');\n    }\n  };\n\n  const changeGenerateExamples = (e) => {\n\n    switch (e.target.value) {\n\n      case \"Influenza A Viruses\":\n        setPhyloVisible(true);\n        setPhyloTree(influenza)\n\n    }\n  };\n\n  const generateTree = () => {\n\n    const dist_matrix = Distance.dist_dna(dnaArr, 1, -1, -1);\n    const tree = PhyloAlgo.upgma(dist_matrix, names);\n    const output = Tree.to_string(tree);\n    console.log(output);\n    setPhyloTree(output);\n    setPhyloVisible(true);\n  };\n\n  const fastaUploadProps = {\n    accept: '.FASTA, .txt, .fasta',\n    action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n    headers: {\n      authorization: 'authorization-text',\n    },\n    multiple: true,\n    transformFile(file) {\n      const file_name = file.name\n        .split('.')\n        .slice(0, -1)\n        .join('.')\n        .toUpperCase();\n      parseDNA(file, file_name);\n    },\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <Content justify=\"center\">\n        <Row className=\"page\" justify=\"center\">\n          <div>\n            <h1>Generate a Phylogenetic Tree</h1>\n            <h2>\n              By computing similarity scores for DNA samples of species, we can\n              infer their species' evolutionary history through time. Begin by\n              uploading .FASTA files that contain DNA sequences, or use our\n              example DNA sequences.\n            </h2>\n          </div>\n        </Row>\n        <Row className=\"centered-content\">\n          <Upload {...fastaUploadProps}>\n            <Button>\n              <UploadOutlined /> Upload .FASTA files\n            </Button>\n          </Upload>\n          <Button onClick={generateTree}> Generate tree </Button>\n        </Row>\n      </Content>\n      <Row className=\"centered-content\">\n        <p className=\"phylo-example-text\"> See our examples: </p>\n      </Row>\n      <Row className=\"centered-content\">\n        <Radio.Group\n          onChange={changeGenerateExamples}\n\n        >\n          <Radio.Button value=\"Coronaviruses\">Coronaviruses</Radio.Button>\n          <Radio.Button value=\"Influenza A Viruses\">\n            Influenza A Viruses\n          </Radio.Button>\n          <Radio.Button value=\"Example 1\">Apaf-1 Gene Family Tree</Radio.Button>\n          <Radio.Button value=\"Example 2\">Alcohol Dehydrogenases</Radio.Button>\n        </Radio.Group>\n      </Row>\n      {phyloVisible ? (\n        <Row justify=\"center\">\n          <div className=\"ascii-phylo-container\">\n            <p className=\"ascii-phylo\">{PhyloTree}</p>\n          </div>\n        </Row>\n      ) : null}\n    </div>\n  );\n}\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Char from \"bs-platform/lib/es6/char.js\";\nimport * as List from \"bs-platform/lib/es6/list.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Stream from \"bs-platform/lib/es6/stream.js\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Hashtbl from \"bs-platform/lib/es6/hashtbl.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Caml_format from \"bs-platform/lib/es6/caml_format.js\";\nimport * as Caml_js_exceptions from \"bs-platform/lib/es6/caml_js_exceptions.js\";\nimport * as Caml_builtin_exceptions from \"bs-platform/lib/es6/caml_builtin_exceptions.js\";\n\nfunction is_word(t) {\n  if (typeof t === \"number\") {\n    if (t >= 14) {\n      return t < 17;\n    } else {\n      return t < 9;\n    }\n  } else {\n    return true;\n  }\n}\n\nfunction to_string(t) {\n  if (typeof t !== \"number\") {\n    if (t.tag) {\n      return t[0];\n    } else {\n      return String(t[0]);\n    }\n  }\n  switch (t) {\n    case /* Phylogeny */0 :\n        return \"phylogeny\";\n    case /* Name */1 :\n        return \"name\";\n    case /* Description */2 :\n        return \"description\";\n    case /* Clade */3 :\n        return \"clade\";\n    case /* Rank */4 :\n        return \"rank\";\n    case /* Confidence */5 :\n        return \"confidence\";\n    case /* Taxonomy */6 :\n        return \"taxonomy\";\n    case /* SciName */7 :\n        return \"scientific_name\";\n    case /* ID */8 :\n        return \"id\";\n    case /* LAngle */9 :\n        return \"<\";\n    case /* LAngleSlash */10 :\n        return \"</\";\n    case /* RAngle */11 :\n        return \">\";\n    case /* Quote */12 :\n        return \"quote\";\n    case /* Eq */13 :\n        return \"=\";\n    case /* Dot */14 :\n        return \".\";\n    case /* True */15 :\n        return \"true\";\n    case /* False */16 :\n        return \"false\";\n    case /* EOF */17 :\n        return \"EOF\";\n    case /* Unit */18 :\n        return \"Unit\";\n    \n  }\n}\n\nvar word_token_map = Hashtbl.create(undefined, 16);\n\nHashtbl.add(word_token_map, \"phylogeny\", /* Phylogeny */0);\n\nHashtbl.add(word_token_map, \"name\", /* Name */1);\n\nHashtbl.add(word_token_map, \"description\", /* Description */2);\n\nHashtbl.add(word_token_map, \"clade\", /* Clade */3);\n\nHashtbl.add(word_token_map, \"rank\", /* Rank */4);\n\nHashtbl.add(word_token_map, \"confidence\", /* Confidence */5);\n\nHashtbl.add(word_token_map, \"taxonomy\", /* Taxonomy */6);\n\nHashtbl.add(word_token_map, \"scientific_name\", /* SciName */7);\n\nHashtbl.add(word_token_map, \"id\", /* ID */8);\n\nHashtbl.add(word_token_map, \"true\", /* True */15);\n\nHashtbl.add(word_token_map, \"false\", /* False */16);\n\nfunction get_next_line(s, _acc) {\n  while(true) {\n    var acc = _acc;\n    var c = Stream.peek(s);\n    if (c !== undefined) {\n      Stream.junk(s);\n      if (c === 10) {\n        return acc;\n      }\n      if (c === 13) {\n        return acc;\n      }\n      _acc = acc + Char.escaped(c);\n      continue ;\n    }\n    if (acc === \"\") {\n      throw Caml_builtin_exceptions.end_of_file;\n    }\n    return acc;\n  };\n}\n\nfunction make_stream_helper(s, is_file) {\n  var stream;\n  if (is_file) {\n    var in_channel = Pervasives.open_in(s);\n    stream = Stream.from((function (param) {\n            try {\n              return Pervasives.input_line(in_channel);\n            }\n            catch (exn){\n              if (exn === Caml_builtin_exceptions.end_of_file) {\n                return ;\n              }\n              throw exn;\n            }\n          }));\n  } else {\n    var char_stream = Stream.of_string(s);\n    stream = Stream.from((function (param) {\n            try {\n              return get_next_line(char_stream, \"\");\n            }\n            catch (exn){\n              if (exn === Caml_builtin_exceptions.end_of_file) {\n                return ;\n              }\n              throw exn;\n            }\n          }));\n  }\n  var s$1 = Stream.peek(stream);\n  if (s$1 === undefined) {\n    return stream;\n  }\n  var val;\n  try {\n    val = $$String.sub(s$1, 0, 5);\n  }\n  catch (raw_exn){\n    var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n    if (exn[0] === Caml_builtin_exceptions.invalid_argument) {\n      return stream;\n    }\n    throw exn;\n  }\n  if (val !== \"<?xml\") {\n    return stream;\n  }\n  Stream.junk(stream);\n  return stream;\n}\n\nfunction stream_of_file(f) {\n  return make_stream_helper(f, true);\n}\n\nfunction stream_of_string(s) {\n  return make_stream_helper(s, false);\n}\n\nfunction stream_of_line(stream) {\n  var str;\n  try {\n    str = Stream.next(stream);\n  }\n  catch (exn){\n    if (exn === Stream.Failure) {\n      throw Caml_builtin_exceptions.end_of_file;\n    }\n    throw exn;\n  }\n  return Stream.of_string(str);\n}\n\nfunction is_special_char(c) {\n  if (c >= 60) {\n    return c < 63;\n  } else {\n    return c === 34;\n  }\n}\n\nfunction lex_keyword(stream, acc) {\n  var c = Stream.peek(stream);\n  if (c !== undefined) {\n    var val;\n    try {\n      val = c;\n    }\n    catch (exn){\n      if (exn === Stream.Failure) {\n        return lex_keyword_helper(acc);\n      }\n      throw exn;\n    }\n    if (val !== 32) {\n      if (Hashtbl.mem(word_token_map, acc)) {\n        return Hashtbl.find(word_token_map, acc);\n      } else if (is_special_char(c)) {\n        return /* Word */Block.__(1, [acc]);\n      } else {\n        Stream.junk(stream);\n        return lex_keyword(stream, acc + Char.escaped(c));\n      }\n    } else {\n      return lex_keyword_helper(acc);\n    }\n  } else {\n    return lex_keyword_helper(acc);\n  }\n}\n\nfunction lex_keyword_helper(acc) {\n  if (Hashtbl.mem(word_token_map, acc)) {\n    return Hashtbl.find(word_token_map, acc);\n  } else {\n    return /* Word */Block.__(1, [acc]);\n  }\n}\n\nfunction is_number(c) {\n  return !(c > 57 || c < 48);\n}\n\nfunction lex_number(stream, _acc) {\n  while(true) {\n    var acc = _acc;\n    var c = Stream.peek(stream);\n    if (c === undefined) {\n      return /* Num */Block.__(0, [Caml_format.caml_int_of_string(acc)]);\n    }\n    if (!is_number(c)) {\n      return /* Num */Block.__(0, [Caml_format.caml_int_of_string(acc)]);\n    }\n    Stream.junk(stream);\n    _acc = acc + Char.escaped(c);\n    continue ;\n  };\n}\n\nfunction tokenize_next_line(stream) {\n  var x;\n  try {\n    x = stream_of_line(stream);\n  }\n  catch (exn){\n    if (exn === Caml_builtin_exceptions.end_of_file) {\n      return /* :: */[\n              /* EOF */17,\n              /* [] */0\n            ];\n    }\n    throw exn;\n  }\n  var _acc = /* [] */0;\n  while(true) {\n    var acc = _acc;\n    var exit = 0;\n    var c;\n    try {\n      c = Stream.next(x);\n      exit = 1;\n    }\n    catch (exn$1){\n      if (exn$1 === Stream.Failure) {\n        return List.rev(acc);\n      }\n      if (exn$1 === Caml_builtin_exceptions.end_of_file) {\n        return /* :: */[\n                /* EOF */17,\n                /* [] */0\n              ];\n      }\n      throw exn$1;\n    }\n    if (exit === 1) {\n      var exit$1 = 0;\n      if (c >= 32) {\n        if (c !== 46) {\n          if (c >= 60) {\n            if (c >= 63) {\n              exit$1 = 2;\n            } else {\n              switch (c - 60 | 0) {\n                case 0 :\n                    var n = Stream.peek(x);\n                    if (n === undefined) {\n                      return List.rev(/* :: */[\n                                  /* LAngle */9,\n                                  acc\n                                ]);\n                    }\n                    if (n === /* \"/\" */47) {\n                      Stream.junk(x);\n                      _acc = /* :: */[\n                        /* LAngleSlash */10,\n                        acc\n                      ];\n                      continue ;\n                    }\n                    _acc = /* :: */[\n                      /* LAngle */9,\n                      acc\n                    ];\n                    continue ;\n                case 1 :\n                    _acc = /* :: */[\n                      /* Eq */13,\n                      acc\n                    ];\n                    continue ;\n                case 2 :\n                    _acc = /* :: */[\n                      /* RAngle */11,\n                      acc\n                    ];\n                    continue ;\n                \n              }\n            }\n          } else if (c >= 35) {\n            exit$1 = 2;\n          } else {\n            switch (c - 32 | 0) {\n              case 0 :\n                  continue ;\n              case 1 :\n                  exit$1 = 2;\n                  break;\n              case 2 :\n                  _acc = /* :: */[\n                    /* Quote */12,\n                    acc\n                  ];\n                  continue ;\n              \n            }\n          }\n        } else {\n          _acc = /* :: */[\n            /* Dot */14,\n            acc\n          ];\n          continue ;\n        }\n      } else if (c >= 11) {\n        if (c !== 13) {\n          exit$1 = 2;\n        } else {\n          continue ;\n        }\n      } else {\n        if (c >= 9) {\n          continue ;\n        }\n        exit$1 = 2;\n      }\n      if (exit$1 === 2) {\n        if (is_number(c)) {\n          _acc = /* :: */[\n            lex_number(x, Char.escaped(c)),\n            acc\n          ];\n          continue ;\n        }\n        _acc = /* :: */[\n          lex_keyword(x, Char.escaped(c)),\n          acc\n        ];\n        continue ;\n      }\n      \n    }\n    \n  };\n}\n\nfunction token_function_builder(stream) {\n  var tokens_in_line = {\n    contents: tokenize_next_line(stream)\n  };\n  var token_function = {\n    contents: (function (b, param) {\n        return /* EOF */17;\n      })\n  };\n  token_function.contents = (function (b) {\n      if (b) {\n        return (function (param) {\n            var match = tokens_in_line.contents;\n            if (match) {\n              return match[0];\n            } else {\n              tokens_in_line.contents = tokenize_next_line(stream);\n              return Curry._2(token_function.contents, true, undefined);\n            }\n          });\n      } else {\n        return (function (param) {\n            var match = tokens_in_line.contents;\n            if (match) {\n              tokens_in_line.contents = match[1];\n              return /* Unit */18;\n            } else {\n              tokens_in_line.contents = tokenize_next_line(stream);\n              return /* Unit */18;\n            }\n          });\n      }\n    });\n  return token_function.contents;\n}\n\nexport {\n  is_word ,\n  to_string ,\n  stream_of_file ,\n  stream_of_string ,\n  tokenize_next_line ,\n  token_function_builder ,\n  \n}\n/* word_token_map Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Caml_obj from \"bs-platform/lib/es6/caml_obj.js\";\nimport * as Caml_format from \"bs-platform/lib/es6/caml_format.js\";\nimport * as Caml_exceptions from \"bs-platform/lib/es6/caml_exceptions.js\";\nimport * as Tree$PhyloLibWeb from \"./tree.bs.js\";\nimport * as Lexer$PhyloLibWeb from \"./lexer.bs.js\";\n\nvar $$SyntaxError = Caml_exceptions.create(\"Phylo_parser-PhyloLibWeb.SyntaxError\");\n\nvar empty_phylo = {\n  name: \"\",\n  description: \"\",\n  tree: Tree$PhyloLibWeb.empty\n};\n\nvar empty_clade_attr = {\n  name: undefined,\n  rank: undefined,\n  confidence: undefined,\n  taxonomy: undefined\n};\n\nfunction empty_start_tag(t) {\n  return {\n          tag_name: t,\n          str_attr: undefined,\n          num_attr: undefined,\n          bool_attr: undefined\n        };\n}\n\nfunction print_debug(s) {\n  \n}\n\nvar peek = {\n  contents: (function (param) {\n      return /* EOF */17;\n    })\n};\n\nvar consume_token = {\n  contents: (function (param) {\n      return /* EOF */17;\n    })\n};\n\nfunction consume(token) {\n  var x = Curry._1(peek.contents, undefined);\n  if (Caml_obj.caml_equal(x, token)) {\n    Curry._1(consume_token.contents, undefined);\n    return ;\n  }\n  print_debug(\"Expected \" + (Lexer$PhyloLibWeb.to_string(token) + (\", got \" + Lexer$PhyloLibWeb.to_string(x))));\n  throw $$SyntaxError;\n}\n\nfunction is_valid_tag(t) {\n  if (typeof t !== \"number\") {\n    if (t.tag === /* Word */1) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  switch (t) {\n    case /* Phylogeny */0 :\n    case /* Name */1 :\n    case /* Description */2 :\n    case /* Clade */3 :\n    case /* Rank */4 :\n    case /* Confidence */5 :\n    case /* Taxonomy */6 :\n    case /* SciName */7 :\n    case /* ID */8 :\n        return true;\n    default:\n      return false;\n  }\n}\n\nfunction parse_words(_acc) {\n  while(true) {\n    var acc = _acc;\n    var w = Curry._1(peek.contents, undefined);\n    if (typeof w === \"number\") {\n      switch (w) {\n        case /* Name */1 :\n        case /* Description */2 :\n        case /* Clade */3 :\n        case /* Rank */4 :\n        case /* Confidence */5 :\n        case /* Taxonomy */6 :\n        case /* ID */8 :\n        case /* Dot */14 :\n        case /* True */15 :\n            break;\n        default:\n          return acc;\n      }\n    } else {\n      if (w.tag) {\n        var s = w[0];\n        consume(/* Word */Block.__(1, [s]));\n        if (acc !== \"\") {\n          _acc = acc + (\" \" + s);\n          continue ;\n        }\n        _acc = s;\n        continue ;\n      }\n      var n = w[0];\n      consume(/* Num */Block.__(0, [n]));\n      if (acc !== \"\") {\n        _acc = acc + (\" \" + String(n));\n        continue ;\n      }\n      _acc = String(n);\n      continue ;\n    }\n    consume(w);\n    if (acc !== \"\") {\n      _acc = acc + (\" \" + Lexer$PhyloLibWeb.to_string(w));\n      continue ;\n    }\n    _acc = Lexer$PhyloLibWeb.to_string(w);\n    continue ;\n  };\n}\n\nfunction add_assoc(lst, attr) {\n  if (lst !== undefined) {\n    return /* :: */[\n            attr,\n            lst\n          ];\n  } else {\n    return /* :: */[\n            attr,\n            /* [] */0\n          ];\n  }\n}\n\nfunction consume_end_tag(t) {\n  consume(/* LAngleSlash */10);\n  consume(t);\n  return consume(/* RAngle */11);\n}\n\nfunction add_attr(tag, attr) {\n  var x = Curry._1(peek.contents, undefined);\n  if (typeof x === \"number\") {\n    if (x === /* Quote */12) {\n      consume(/* Quote */12);\n      var match = Curry._1(peek.contents, undefined);\n      var return_tag;\n      if (typeof match === \"number\") {\n        if (match !== 15) {\n          if (match !== 16) {\n            print_debug(\"add_attr attribute error\");\n            throw $$SyntaxError;\n          }\n          consume(/* False */16);\n          return_tag = {\n            tag_name: tag.tag_name,\n            str_attr: tag.str_attr,\n            num_attr: tag.num_attr,\n            bool_attr: add_assoc(tag.bool_attr, /* tuple */[\n                  attr,\n                  false\n                ])\n          };\n        } else {\n          consume(/* True */15);\n          return_tag = {\n            tag_name: tag.tag_name,\n            str_attr: tag.str_attr,\n            num_attr: tag.num_attr,\n            bool_attr: add_assoc(tag.bool_attr, /* tuple */[\n                  attr,\n                  true\n                ])\n          };\n        }\n      } else {\n        var words = parse_words(\"\");\n        return_tag = {\n          tag_name: tag.tag_name,\n          str_attr: add_assoc(tag.str_attr, /* tuple */[\n                attr,\n                words\n              ]),\n          num_attr: tag.num_attr,\n          bool_attr: tag.bool_attr\n        };\n      }\n      consume(/* Quote */12);\n      return return_tag;\n    }\n    print_debug(\"add_attr match failure\");\n    throw $$SyntaxError;\n  } else {\n    if (x.tag) {\n      print_debug(\"add_attr match failure\");\n      throw $$SyntaxError;\n    }\n    var x$1 = x[0];\n    consume(/* Num */Block.__(0, [x$1]));\n    return {\n            tag_name: tag.tag_name,\n            str_attr: tag.str_attr,\n            num_attr: add_assoc(tag.num_attr, /* tuple */[\n                  attr,\n                  x$1\n                ]),\n            bool_attr: tag.bool_attr\n          };\n  }\n}\n\nfunction parse_start_tag(param) {\n  consume(/* LAngle */9);\n  var x = Curry._1(peek.contents, undefined);\n  var tmp;\n  if (is_valid_tag(x)) {\n    consume(x);\n    tmp = empty_start_tag(x);\n  } else {\n    print_debug(\"parse_start_tag error\");\n    throw $$SyntaxError;\n  }\n  var _tag = tmp;\n  while(true) {\n    var tag = _tag;\n    var x$1 = Curry._1(peek.contents, undefined);\n    if (Lexer$PhyloLibWeb.is_word(x$1)) {\n      consume(x$1);\n      consume(/* Eq */13);\n      var attr = Lexer$PhyloLibWeb.to_string(x$1);\n      _tag = add_attr(tag, attr);\n      continue ;\n    }\n    if (typeof x$1 === \"number\") {\n      if (x$1 !== 11) {\n        print_debug(\"parse_attr match failure\");\n        throw $$SyntaxError;\n      }\n      consume(/* RAngle */11);\n      return tag;\n    }\n    print_debug(\"parse_attr match failure\");\n    throw $$SyntaxError;\n  };\n}\n\nfunction ignore_tag(t) {\n  while(true) {\n    var x = Curry._1(peek.contents, undefined);\n    if (typeof x === \"number\") {\n      if (x !== 9) {\n        if (x === 10) {\n          return consume_end_tag(t);\n        }\n        consume(x);\n        continue ;\n      }\n      var tag = parse_start_tag(undefined);\n      ignore_tag(tag.tag_name);\n      continue ;\n    }\n    consume(x);\n    continue ;\n  };\n}\n\nfunction parse_name(param) {\n  var match = Curry._1(peek.contents, undefined);\n  if (typeof match === \"number\") {\n    print_debug(\"Name not word/number\");\n    throw $$SyntaxError;\n  }\n  var name = parse_words(\"\");\n  consume_end_tag(/* Name */1);\n  return name;\n}\n\nfunction parse_description(param) {\n  var match = Curry._1(peek.contents, undefined);\n  if (typeof match === \"number\") {\n    print_debug(\"Description not word/number\");\n    throw $$SyntaxError;\n  }\n  var descr = parse_words(\"\");\n  consume_end_tag(/* Description */2);\n  return descr;\n}\n\nfunction parse_float(n) {\n  consume(/* Dot */14);\n  var x = Curry._1(peek.contents, undefined);\n  if (typeof x === \"number\") {\n    print_debug(\"Warning: confidence not valid. Set to default 0.0\");\n    consume_end_tag(/* Confidence */5);\n    return 0.0;\n  }\n  if (x.tag) {\n    print_debug(\"Warning: confidence not valid. Set to default 0.0\");\n    consume_end_tag(/* Confidence */5);\n    return 0.0;\n  }\n  var x$1 = x[0];\n  var f = Caml_format.caml_float_of_string(String(n) + (\".\" + String(x$1)));\n  consume(/* Num */Block.__(0, [x$1]));\n  consume_end_tag(/* Confidence */5);\n  return f;\n}\n\nfunction parse_confidence(param) {\n  var n = Curry._1(peek.contents, undefined);\n  if (typeof n === \"number\") {\n    if (n === /* Dot */14) {\n      return parse_float(0);\n    }\n    print_debug(\"Confidence not a number\");\n    throw $$SyntaxError;\n  } else {\n    if (n.tag) {\n      print_debug(\"Confidence not a number\");\n      throw $$SyntaxError;\n    }\n    var n$1 = n[0];\n    consume(/* Num */Block.__(0, [n$1]));\n    if (Curry._1(peek.contents, undefined) === /* Dot */14) {\n      return parse_float(n$1);\n    } else {\n      consume_end_tag(/* Confidence */5);\n      return n$1;\n    }\n  }\n}\n\nfunction parse_id(param) {\n  var match = Curry._1(peek.contents, undefined);\n  if (typeof match === \"number\") {\n    print_debug(\"ID not word/number\");\n    throw $$SyntaxError;\n  }\n  var name = parse_words(\"\");\n  consume_end_tag(/* ID */8);\n  return name;\n}\n\nfunction parse_scientific_name(param) {\n  var match = Curry._1(peek.contents, undefined);\n  if (typeof match === \"number\") {\n    print_debug(\"Scientific name not word/number\");\n    throw $$SyntaxError;\n  }\n  var name = parse_words(\"\");\n  consume_end_tag(/* SciName */7);\n  return name;\n}\n\nfunction parse_taxonomy(_taxonomy) {\n  while(true) {\n    var taxonomy = _taxonomy;\n    var match = Curry._1(peek.contents, undefined);\n    if (typeof match === \"number\") {\n      if (match !== 9) {\n        if (match !== 10) {\n          print_debug(\"Unexpected token encountered when parsing taxonomy\");\n          throw $$SyntaxError;\n        }\n        consume_end_tag(/* Taxonomy */6);\n        return taxonomy;\n      }\n      var tag = parse_start_tag(undefined);\n      var x = tag.tag_name;\n      if (typeof x === \"number\") {\n        if (x !== 7) {\n          if (x !== 8) {\n            ignore_tag(x);\n            continue ;\n          }\n          _taxonomy = {\n            id: parse_id(undefined),\n            scientific_name: taxonomy.scientific_name\n          };\n          continue ;\n        }\n        _taxonomy = {\n          id: taxonomy.id,\n          scientific_name: parse_scientific_name(undefined)\n        };\n        continue ;\n      }\n      ignore_tag(x);\n      continue ;\n    }\n    print_debug(\"Unexpected token encountered when parsing taxonomy\");\n    throw $$SyntaxError;\n  };\n}\n\nfunction parse_clade(acc, attr) {\n  var match = Curry._1(peek.contents, undefined);\n  if (typeof match === \"number\") {\n    if (match !== 9) {\n      if (match !== 10) {\n        print_debug(\"parse_clade match failure\");\n        throw $$SyntaxError;\n      }\n      consume_end_tag(/* Clade */3);\n      if (Tree$PhyloLibWeb.is_empty(acc)) {\n        var taxon = attr.taxonomy;\n        if (taxon !== undefined) {\n          return Tree$PhyloLibWeb.leaf(taxon.scientific_name, taxon.id, attr.name);\n        }\n        var n = attr.name;\n        if (n !== undefined) {\n          return Tree$PhyloLibWeb.leaf(n, undefined, n);\n        } else {\n          print_debug(\"Warning: no name provided\");\n          return Tree$PhyloLibWeb.leaf_no_params(\"Unnamed\");\n        }\n      } else {\n        if (acc.tag) {\n          return acc;\n        }\n        var taxon$1 = attr.taxonomy;\n        var id = taxon$1 !== undefined ? taxon$1.id : undefined;\n        return /* Clade */Block.__(0, [\n                  /* clade_id */acc[/* clade_id */0],\n                  /* children */acc[/* children */1],\n                  /* bootstrap */attr.confidence,\n                  /* rank */attr.rank,\n                  /* id */id,\n                  /* name */attr.name\n                ]);\n      }\n    }\n    var tag = parse_start_tag(undefined);\n    var x = tag.tag_name;\n    if (typeof x === \"number\") {\n      switch (x) {\n        case /* Name */1 :\n            return parse_clade(acc, {\n                        name: parse_name(undefined),\n                        rank: attr.rank,\n                        confidence: attr.confidence,\n                        taxonomy: attr.taxonomy\n                      });\n        case /* Clade */3 :\n            if (Tree$PhyloLibWeb.is_empty(acc)) {\n              return parse_clade(parse_clade(acc, empty_clade_attr), attr);\n            }\n            var clade = parse_clade(Tree$PhyloLibWeb.empty, empty_clade_attr);\n            return parse_clade(Tree$PhyloLibWeb.zip_no_params(/* :: */[\n                            acc,\n                            /* :: */[\n                              clade,\n                              /* [] */0\n                            ]\n                          ]), attr);\n        case /* Confidence */5 :\n            return parse_clade(acc, {\n                        name: attr.name,\n                        rank: attr.rank,\n                        confidence: parse_confidence(undefined),\n                        taxonomy: attr.taxonomy\n                      });\n        case /* Taxonomy */6 :\n            return parse_clade(acc, {\n                        name: attr.name,\n                        rank: attr.rank,\n                        confidence: attr.confidence,\n                        taxonomy: parse_taxonomy({\n                              id: undefined,\n                              scientific_name: \"Unnamed\"\n                            })\n                      });\n        case /* Phylogeny */0 :\n        case /* Description */2 :\n        case /* Rank */4 :\n        case /* SciName */7 :\n        case /* ID */8 :\n        case /* LAngle */9 :\n        case /* LAngleSlash */10 :\n        case /* RAngle */11 :\n        case /* Quote */12 :\n        case /* Eq */13 :\n        case /* Dot */14 :\n        case /* True */15 :\n        case /* False */16 :\n        case /* EOF */17 :\n        case /* Unit */18 :\n            break;\n        \n      }\n    }\n    ignore_tag(x);\n    return parse_clade(acc, attr);\n  }\n  print_debug(\"parse_clade match failure\");\n  throw $$SyntaxError;\n}\n\nfunction parse_phylogeny(_acc) {\n  while(true) {\n    var acc = _acc;\n    var match = Curry._1(peek.contents, undefined);\n    if (typeof match === \"number\") {\n      if (match !== 9) {\n        if (match !== 10) {\n          print_debug(\"parse_phylogeny match failure\");\n          throw $$SyntaxError;\n        }\n        consume_end_tag(/* Phylogeny */0);\n        return acc;\n      }\n      var tag = parse_start_tag(undefined);\n      var x = tag.tag_name;\n      if (typeof x === \"number\") {\n        if (x >= 4) {\n          ignore_tag(x);\n          continue ;\n        }\n        switch (x) {\n          case /* Phylogeny */0 :\n              ignore_tag(x);\n              continue ;\n          case /* Name */1 :\n              _acc = {\n                name: parse_name(undefined),\n                description: acc.description,\n                tree: acc.tree\n              };\n              continue ;\n          case /* Description */2 :\n              _acc = {\n                name: acc.name,\n                description: parse_description(undefined),\n                tree: acc.tree\n              };\n              continue ;\n          case /* Clade */3 :\n              _acc = {\n                name: acc.name,\n                description: acc.description,\n                tree: parse_clade(acc.tree, empty_clade_attr)\n              };\n              continue ;\n          \n        }\n      } else {\n        ignore_tag(x);\n        continue ;\n      }\n    } else {\n      print_debug(\"parse_phylogeny match failure\");\n      throw $$SyntaxError;\n    }\n  };\n}\n\nfunction from_phylo_helper(f) {\n  var tokenizer = Lexer$PhyloLibWeb.token_function_builder(f);\n  peek.contents = Curry._1(tokenizer, true);\n  consume_token.contents = Curry._1(tokenizer, false);\n  var match = Curry._1(peek.contents, undefined);\n  if (typeof match === \"number\") {\n    if (match === 9) {\n      var tag = parse_start_tag(undefined);\n      var s = tag.tag_name;\n      if (typeof s === \"number\") {\n        print_debug(\"parse_phylo_tag error 2\");\n        throw $$SyntaxError;\n      }\n      if (s.tag === /* Word */1) {\n        if (s[0] === \"phyloxml\") {\n          var tag$1 = parse_start_tag(undefined);\n          var match$1 = tag$1.tag_name;\n          if (typeof match$1 === \"number\") {\n            if (match$1 !== 0) {\n              print_debug(\"parse_phylo_tag error 1\");\n              throw $$SyntaxError;\n            }\n            var phylo = parse_phylogeny(empty_phylo);\n            consume_end_tag(/* Word */Block.__(1, [\"phyloxml\"]));\n            return phylo;\n          }\n          print_debug(\"parse_phylo_tag error 1\");\n          throw $$SyntaxError;\n        }\n        print_debug(\"parse_phylo_tag error 2\");\n        throw $$SyntaxError;\n      }\n      print_debug(\"parse_phylo_tag error 2\");\n      throw $$SyntaxError;\n    }\n    if (match === 17) {\n      return empty_phylo;\n    }\n    print_debug(\"from_phylo_helper error\");\n    throw $$SyntaxError;\n  }\n  print_debug(\"from_phylo_helper error\");\n  throw $$SyntaxError;\n}\n\nfunction from_phylo_str(s) {\n  return from_phylo_helper(Lexer$PhyloLibWeb.stream_of_string(s));\n}\n\nfunction from_phylo(f) {\n  return from_phylo_helper(Lexer$PhyloLibWeb.stream_of_file(f));\n}\n\nexport {\n  $$SyntaxError ,\n  from_phylo_str ,\n  from_phylo ,\n  \n}\n/* Tree-PhyloLibWeb Not a pure module */\n","import React, { useState } from 'react';\nimport { Button, Layout, Popover, Radio, Row, Upload } from 'antd';\nimport { InfoCircleOutlined, UploadOutlined } from '@ant-design/icons';\nimport '../App.css';\nimport * as Tree from '../ocaml_src/tree.bs';\nimport * as PhyloParser from '../ocaml_src/phylo_parser.bs';\n\nconst { Content } = Layout;\n\nexport default function Visualize() {\n  const [phyloVisible, setPhyloVisible] = useState(false);\n  const [asciiPhylo, setasciiPhylo] = useState('');\n  const [currPhylo, setCurrPhylo] = useState('');\n  const [fileList, setFileList] = useState([]);\n\n  const reader = new FileReader();\n\n  const displayPhyloFile = (file) => {\n    try {\n      reader.onload = () => {\n        const phylo = PhyloParser.from_phylo_str(reader.result);\n        const str = Tree.to_string(phylo.tree);\n        setasciiPhylo(str);\n        setPhyloVisible(true);\n      };\n      reader.readAsText(file);\n    } catch (e) {\n      console.log(e);\n      console.log('File printing failed');\n    }\n  };\n\n  const uploadProps = {\n    accept: '.xml',\n    action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n    fileList: fileList,\n    headers: {\n      authorization: 'authorization-text',\n    },\n    transformFile(file) {\n      setFileList([file]);\n      displayPhyloFile(file);\n    },\n  };\n\n  const changeExamples = (e) => {\n    const filePath =\n      process.env.PUBLIC_URL + '/examples/phyloXML/' + e.target.value + '.xml';\n    setCurrPhylo(e.target.value);\n    fetch(filePath)\n      .then((response) => response.blob())\n      .then((blob) => displayPhyloFile(blob));\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <Content justify=\"center\">\n        <Row className=\"page\" justify=\"center\" gutter={[16, 16]}>\n          <div>\n            <h1>Visualize PhyloXML</h1>\n            <h2>\n              Visualize an existing phylogenetic tree. Begin by uploading a\n              phyloXML file, or use our example files.\n            </h2>\n          </div>\n        </Row>\n        <Row className=\"centered-content\">\n          <Upload {...uploadProps}>\n            <Button>\n              <UploadOutlined />\n              Upload PhyloXML Files\n            </Button>\n          </Upload>\n        </Row>\n        <Row className=\"centered-content\">\n          <p className=\"phylo-example-text\"> See our examples: </p>\n        </Row>\n        <Row className=\"centered-content\">\n          <Radio.Group onChange={changeExamples}>\n            <Radio.Button value=\"amphi_frost\">Amphibian Phylogeny</Radio.Button>\n            <Radio.Button value=\"tol_156\">The Tree of Life</Radio.Button>\n            <Radio.Button value=\"apaf\">Apaf-1 Gene Family Tree</Radio.Button>\n            <Radio.Button value=\"adh\">Alcohol Dehydrogenases</Radio.Button>\n          </Radio.Group>\n          <Popover\n            content={\n              <p>\n                Example files obtained from{' '}\n                <a\n                  href=\"http://phyloxml.org/\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  phyloxml.org\n                </a>\n                .\n                {currPhylo !== '' ? (\n                  <p>\n                    See the phyloXML source for the current tree{' '}\n                    <a\n                      href={\n                        currPhylo !== 'adh'\n                          ? 'http://phyloxml.org/archaeopteryx-js/phyloxml_trees/' +\n                            currPhylo +\n                            '.xml'\n                          : 'http://www.phyloxml.org/examples/adh.xml'\n                      }\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      here\n                    </a>\n                    .\n                  </p>\n                ) : null}\n              </p>\n            }\n            title=\"Credits\"\n            trigger=\"click\"\n          >\n            <div className=\"phylo-example-credits\">\n              <InfoCircleOutlined />\n            </div>\n          </Popover>\n        </Row>\n        {phyloVisible ? (\n          <Row justify=\"center\">\n            <div className=\"ascii-phylo-container\">\n              <p className=\"ascii-phylo\">{asciiPhylo}</p>\n            </div>\n          </Row>\n        ) : null}\n      </Content>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { Button, Layout, Radio, Row, Upload } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons';\nimport '../App.css';\nimport * as Dna from '../ocaml_src/dna.bs';\nimport * as Pairwise from '../ocaml_src/pairwise.bs';\n\nconst { Content } = Layout;\n\nexport default function DisplayPairwise() {\n  const [displayVisible, setDisplayVisible] = useState(false);\n  const [alignment, setAlignment] = useState('');\n  const [exampleArr, setExampleArr] = useState([]);\n  const [fileList, setFileList] = useState([]);\n  const [dnaArr, setDnaArr] = useState([]);\n\n  const parseDNA = (file, arr, displayOnFinish) => {\n    try {\n      const reader = new FileReader();\n      reader.onload = () => {\n        arr.push(Dna.from_string(reader.result));\n        if (dnaArr.length > 2) {\n          setDnaArr(dnaArr.slice(-2));\n        }\n        if (arr.length === 2 && displayOnFinish) {\n          displayAlignment(arr);\n        }\n      };\n      reader.readAsText(file);\n    } catch (e) {\n      console.log(e);\n      console.log('File printing failed');\n    }\n  };\n\n  const displayAlignment = (arr) => {\n    if (arr.length < 2) {\n      alert('Not enough DNA sequences to perform pairwise alignment');\n    } else {\n      const [pair] = Pairwise.align_pair(arr[0], arr[1], 1, -1, -1);\n      const str = Pairwise.to_string(pair[0], pair[1]);\n      setAlignment(str.trim());\n      setDisplayVisible(true);\n    }\n  };\n\n  const uploadProps = {\n    accept: '.FASTA, .fasta, .txt',\n    action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n    fileList: fileList,\n    headers: {\n      authorization: 'authorization-text',\n    },\n    multiple: true,\n    transformFile(file) {\n      parseDNA(file, dnaArr, false);\n      fileList.push(file);\n      setFileList(fileList.slice(-2));\n    },\n  };\n\n  const changeExamples = (e) => {\n    setExampleArr([]);\n    const files = e.target.value.split(',');\n    files.map((file) => {\n      const filePath =\n        process.env.PUBLIC_URL + '/examples/FASTA/' + file + '.fasta';\n      fetch(filePath)\n        .then((response) => response.blob())\n        .then((blob) => parseDNA(blob, exampleArr, true));\n    });\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <Content justify=\"center\">\n        <Row className=\"page\" justify=\"center\" gutter={[16, 16]}>\n          <div>\n            <h1>Visualize Pairwise DNA Alignments</h1>\n            <h2>\n              Visualize an alignment of two DNA sequences. Begin by uploading\n              two .FASTA files, or use our example files.\n            </h2>\n          </div>\n        </Row>\n        <Row className=\"horizontally-centered\">\n          <Upload {...uploadProps}>\n            <Button>\n              <UploadOutlined />\n              Upload .FASTA Files\n            </Button>\n          </Upload>\n          <Button onClick={() => displayAlignment(dnaArr)}>\n            Display Alignment\n          </Button>\n        </Row>\n        <Row className=\"centered-content\">\n          <p className=\"phylo-example-text\"> See our examples: </p>\n        </Row>\n        <Row className=\"centered-content\">\n          <Radio.Group onChange={changeExamples}>\n            <Radio.Button value=\"h1n1,h3n2\">H1N1 vs H3N2</Radio.Button>\n            <Radio.Button value=\"h3n2,h5n1\">H5N1 vs H7N7</Radio.Button>\n            <Radio.Button value=\"mers,sars\">SARS vs MERS</Radio.Button>\n          </Radio.Group>\n        </Row>\n        {displayVisible ? (\n          <Row justify=\"center\">\n            <div className=\"ascii-phylo-container\">\n              <p className=\"ascii-phylo\">{alignment}</p>\n            </div>\n          </Row>\n        ) : null}\n      </Content>\n    </div>\n  );\n}\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport './App.css';\nimport { Popover } from 'antd';\nimport { InfoCircleOutlined } from '@ant-design/icons';\nimport HomeContent from './components/HomeContent';\nimport Generate from './components/Generate';\nimport Visualize from './components/Visualize';\nimport DisplayPairwise from './components/DisplayPairwise';\n\nconst Header = () => {\n  const content = (\n    <div>\n      <p>A <a href=\"https://en.wikipedia.org/wiki/Phylogenetic_tree\">phylogenetic tree</a> is a tree that shows the evolutionary relationships between species. The structure of these trees can be stored in <a href=\"http://www.phyloxml.org/\">XML</a> files. To see visualizations of such trees, you can click Visualize Phylogenetic Trees.</p>\n      <p> We can also try to predict the structure of phylogenetic trees by looking at the similarities in the DNAs of different species. To know more, you can click Generate Phylogenetic Trees.</p>\n    </div>\n  );\n  return (\n    <header className=\"site-header\">\n      <Link className=\"site-title\" to=\"/phylo-lib-web/\">\n        PhyloML\n      </Link>\n      <Popover className=\"clickable\"\n        content={content}\n        className=\"tooltip\"\n        // title=\"Title\"\n        trigger=\"click\"\n      >\n        <a className=\"tooltip\">\n          {' '}\n          <InfoCircleOutlined style={{ paddingRight: '0.5em' }} />\n          Confused by all the terms?\n        </a>\n      </Popover>\n    </header>\n  );\n};\n\nexport default function App() {\n  return (\n    <Router>\n      <div>\n        <Header />\n        <Switch>\n          <Route path=\"/phylo-lib-web/generate\">\n            <Generate />\n          </Route>\n          <Route path=\"/phylo-lib-web/visualize\">\n            <Visualize />\n          </Route>\n          <Route path=\"/phylo-lib-web/pairwise\">\n            <DisplayPairwise />\n          </Route>\n          <Route path=\"/phylo-lib-web/\">\n            <HomeContent />\n          </Route>\n          <Route path=\"/\">\n            <HomeContent />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}