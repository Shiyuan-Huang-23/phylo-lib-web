(this["webpackJsonpphylo-lib-web"]=this["webpackJsonpphylo-lib-web"]||[]).push([[0],{141:function(a,t,e){a.exports=e(201)},146:function(a,t,e){},201:function(a,t,e){"use strict";e.r(t);var n=e(0),c=e.n(n),r=e(38),g=e.n(r),o=(e(146),e(99)),i=e(62),l=e(28),A=(e(64),e(209)),s=e(215),u=e(212),G=e(24),T=e(206),f=e(207),m=e(208),C=e(202),h=e(203),d="\n\nC\n|\no-SARS\n|\no-C\n  |\n  o-C\n  | |\n  | o-H6N1\n  | |\n  | o-C\n  |   |\n  |   o-H5N1\n  |   |\n  |   o-C\n  |     |\n  |     o-H3N2\n  |     |\n  |     o-C\n  |       |\n  |       o-H7N9\n  |       |\n  |       o-C\n  |         |\n  |         o-H1N1\n  |         |\n  |         o-H7N7\n  |\n  o-C\n    |\n    o-C\n    | |\n    | o-H2N3\n    | |\n    | o-H10N7\n    |\n    o-C\n      |\n      o-H3N1\n      |\n      o-H3N8\n\n",E="\nC\n|\no-C\n| |\n| o-FOLSOMIA PENICULA\n| |\n| o-C\n|   |\n|   o-ANOPHELES GABONENSIS\n|   |\n|   o-C\n|     |\n|     o-BRACHYTELES HYPOXANTHUS\n|     |\n|     o-C\n|       |\n|       o-PARIDES ANCHISES\n|       |\n|       o-PARIDES NEOPHILUS\n|\no-C\n  |\n  o-C\n  | |\n  | o-CONOGETHES PUNCTIFERALIS\n  | |\n  | o-GRAPHOLITA MOLESTA\n  |\n  o-C\n    |\n    o-PARIDES PRONEUS\n    |\n    o-PYTHIUM INSIDIOSUM\n",v="\nC\n|\no-PEPPER VEINAL MOTTLE VIRUS\n|\no-C\n  |\n  o-C\n  | |\n  | o-BEAK AND FEATHER DISEASE\n  | |\n  | o-C\n  |   |\n  |   o-AVIAN NEPHRITIS VIRUS\n  |   |\n  |   o-C\n  |     |\n  |     o-C\n  |     | |\n  |     | o-C\n  |     | | |\n  |     | | o-DENGUE VIRUS\n  |     | | |\n  |     | | o-C\n  |     | |   |\n  |     | |   o-BOVINE VIRAL DIARRHEA VIRUS\n  |     | |   |\n  |     | |   o-HUMAN RHINOVIRUS\n  |     | |\n  |     | o-C\n  |     |   |\n  |     |   o-NOROVIRUS\n  |     |   |\n  |     |   o-C\n  |     |     |\n  |     |     o-FELINE IMMUNODEFICIENCY VIRUS\n  |     |     |\n  |     |     o-REDSPOTTED GROUPER NERVOUS NECROSIS VIRUS\n  |     |\n  |     o-C\n  |       |\n  |       o-HEPATITIS E\n  |       |\n  |       o-C\n  |         |\n  |         o-HEPATITIS C\n  |         |\n  |         o-NORWALK VIRUS\n  |\n  o-C\n    |\n    o-EASTERN EQUINE ENCEPHALITIS VIRUS\n    |\n    o-C\n      |\n      o-JAPANESE ENCEPHALITIS VIRUS\n      |\n      o-C\n        |\n        o-COXSACKIEVIRUS\n        |\n        o-SINDBIS VIRUS STRAIN\n",p=T.a.Content;function b(){var a=Object(n.useState)(E),t=Object(G.a)(a,2),e=t[0],r=t[1],g=Object(n.useState)(!0),o=Object(G.a)(g,2),l=o[0],A=o[1];return console.log("/phylo-lib-web"),c.a.createElement("div",{className:"wrapper main"},c.a.createElement(p,{justify:"center"},c.a.createElement(f.a,{className:"intro",justify:"center"},c.a.createElement("div",null,c.a.createElement("h1",null,"Welcome to PhyloML"),c.a.createElement("h2",null,"A phylogenetic library written in OCaml."),c.a.createElement("h2",null,"Inferring Evolutionary History through Modern Genetic Similarity."))),c.a.createElement(f.a,{justify:"center",gutter:[16,40]},c.a.createElement(m.a,{lg:7,md:10,sm:12},c.a.createElement(i.b,{className:"offset",to:"/pairwise"},"Visualize Pairwise DNA Alignments")),c.a.createElement(m.a,{lg:7,md:10,sm:12},c.a.createElement(i.b,{className:"offset",to:"/visualize"},"Visualize Phylogenetic Trees")),c.a.createElement(m.a,{lg:7,md:10,sm:12},c.a.createElement(i.b,{className:"offset",to:"/generate"},"Generate Phylogenetic Trees"))),c.a.createElement(f.a,{justify:"center"},c.a.createElement(C.a,null),c.a.createElement("h1",null," Explanations and Examples: ")),c.a.createElement(f.a,null,c.a.createElement("h2",null," About Phylogenetic Trees: "),c.a.createElement("h3",null," ","Scientists often wish to infer the evolutionary history between different organisms. In order to determine the closeness of species such as birds or fish, historically the similarity in physical characteristics was analyzed. With the advent of modern computers and DNA analysis, the field has moved towards using DNA. Two species with more similar DNA are assumed to be more closely related. By analyzing these similarities and differences in the DNA, we can generate a hypothetical evolutionary tree, called a phylogenetic tree, that estimates what the historical evolutionary tree would have looked like."),c.a.createElement("h2",null," Functionality: "),c.a.createElement("h3",null,c.a.createElement("b",null," Visualize Pairwise Alignment: "),"At the heart of constructing phylogenetic trees is the pairwise alignment, where two DNA sequences are compared. Only once the alignment scores of all DNA sequences with one another is known is it possible to determine genetic similarity and through that, evolutionary history. The pairwise Alignment is performed using the Needleman-Wunsch algorithm, a globally optimal dynamic programming algorithm that computes a loss for the most optimal alignment. Here * represents a DNA base pair match, _ a gap, often used if a DNA sequence is longer than the other, and | a mismatch."),c.a.createElement("h3",null,c.a.createElement("b",null," Visualize Phylogenetic Trees: "),"When a phylogenetic tree has already been constructed, whether through this program or other commercially available software, it is important that the user can visualize the final alignment. Here we built a tokenizer, lexer, and parser to read PhyloXML, an extension of the popular XML format designed to encode phylogenetic trees."),c.a.createElement("h3",null,c.a.createElement("b",null," Generate Phylogenetic Trees: "),"We construct phylogenetic genetic trees from DNA sequences encoded in a standard .FASTA format using two algorithms: Unweighted Pair Group Method with Arithmetic Mean (UPGMA) and Bayesian Inference, each with their respective tradeoffs regarding speed and accuracy. Each algorithm reads in the .FASTA files, constructs pairwise alignments, and then uses respective techniques to find an optimal rooted tree.")),c.a.createElement("h2",null," Examples: "),c.a.createElement("h3",null,"Examples of constructed phylogenetic trees using DNA sequences from the National Center for Biotechnology Information (NCBI)."),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement(h.default.Group,{onChange:function(a){switch(a.target.value){case"Influenza A Viruses":r(d);break;case"COXII":r(E);break;case"Virus Capsid":A(!0),console.log(v),r(v)}}},c.a.createElement(h.default.Button,{value:"Virus Capsid"},"Virus Capsid Gene"),c.a.createElement(h.default.Button,{value:"COXII"},"Cytochrome C Oxidase Subunit II"),c.a.createElement(h.default.Button,{value:"Influenza A Viruses"},"Influenza A PB-2"))),l?c.a.createElement(f.a,{justify:"center"},c.a.createElement("div",{className:"ascii-phylo-container"},c.a.createElement("p",{className:"ascii-phylo"},e))):null))}var y=e(104),w=e.n(y),_=e(120),N=e(108),I=e(210),S=e(205),x=e(204),k=e(86),R=e(211),O=e(213),D=e(214);function j(a){var t=a.content,e=a.vocab,n=a.link,r=a.linkText;return c.a.createElement(A.a,{className:"hover-vocab",content:c.a.createElement("div",null,t,c.a.createElement("p",null,"See"," ",c.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},r||"Wikipedia")," ","for more details.")),placement:"top",trigger:"hover"},c.a.createElement("div",null,e))}var P=e(20),X=e(52),H=e(21),F=e(25),L=e(14),B=e(7),M=e(32),U=e(13);M.b("Dna-PhyloLibWeb.Empty");function z(a){return">"===L.h(a,0,1)}function V(a,t){var e=L.i(a);return L.g((function(a){if(function(a){if(a>=72)return 84===a||95===a;if(45===a)return!0;if(a<65)return!1;switch(a-65|0){case 1:case 3:case 4:case 5:return!1;case 0:case 2:case 6:return!0}}(a)||function(a){var t=a-65|0;return t>13||t<0?!(t>25||t<15):9!==t}(a))return H.a(t,a)}),e)}var q=H.c;function W(a){var t;try{t=L.e(a,10)}catch(c){var e=U.a(c);if("Not_found"!==e.RE_EXN_ID)throw e;t=0}var n=L.h(a,0,t);return""===n||z(n)?L.h(a,t+1|0,(a.length-t|0)-1|0):a}function J(a){var t=H.d(128);return V(W(a),t),t}var K=H.e;function Y(a){var t=function(a,t){for(;;){var e=t,n=a;if(!z(n))return e;var c,r=W(n);try{c=L.e(r,62)}catch(A){var g=U.a(A);if("Not_found"!==g.RE_EXN_ID)throw g;c=r.length-1|0}var o,i=L.h(r,0,c);try{o=L.h(r,c,r.length-c|0)}catch(s){o=""}var l=H.d(128);V(i,l),t={hd:l,tl:e},a=o}}(a,0);return X.f(P.c((function(a,t){return{hd:t,tl:a}}),0,t))}function Q(a,t){try{return H.f(a,t)}catch(e){return}}var $=H.f;function Z(a,t,e){var n=e-t|0;return H.g(a,t,n)}var aa=e(19),ta=e(10),ea=e(16);M.b("Tree-PhyloLibWeb.UnknownClade");function na(a){return a.TAG?0:{hd:a.clade_id,tl:P.b(P.g(na,a.children))}}function ca(a){return function(a){var t=na(a);return ta.a(P.l(ea.f,t),P.k(ea.f,t))}(a)?a:B.f("clade_ids not unique")}var ra={contents:0},ga={TAG:0,clade_id:(ra.contents=ra.contents+1|0,ra.contents),children:0,bootstrap:void 0,rank:void 0,id:void 0,name:void 0};function oa(a){return!a.TAG&&0===a.children&&void 0===a.bootstrap&&void 0===a.rank&&void 0===a.id&&void 0===a.name}function ia(a,t,e){return{TAG:1,scientific_name:a,id:t,name:e}}function la(a){return{TAG:1,scientific_name:a,id:void 0,name:void 0}}function Aa(a){return ga.TAG?B.f("Representation invariant broken"):ca({TAG:0,clade_id:(ra.contents=ra.contents+1|0,ra.contents),children:a,bootstrap:void 0,rank:void 0,id:void 0,name:void 0})}var sa={contents:!0},ua={contents:""};function Ga(a){return sa.contents?B.p(a):void(ua.contents=ua.contents+aa.b(a))}function Ta(a){return sa.contents?B.s(a):void(ua.contents=ua.contents+a)}function fa(a){return sa.contents?void console.log(a):Ta(a+"\n")}function ma(a){for(var t=1;t<=a;++t)Ga(32)}function Ca(a,t,e){for(;;){var n=t,c=a;if(!c)return;var r=c.tl,g=c.hd;ma(g===n&&0!==g?1:((g-n|0)<<1)+(0===g||0===n?0:1)|0),0===r?Ta(e):Ga(124),t=g+1|0,a=r}}function ha(a){return Ca(P.i(a),0,"|"),fa("")}function da(a){return a?Ca(P.i(a),0,"o-"):B.i("ds")}function Ea(a,t,e){for(;;){var n=a;if(!n)return;var c=n.tl,r=n.hd;if(r.TAG){0!==e?ha(e):B.r(void 0),0!==e&&da(e);var g=r.name;void 0!==g&&"Unnamed"===r.scientific_name?fa(g):fa(r.scientific_name),a=c}else{var o=0!==c?{hd:t,tl:e}:e?{hd:t,tl:e.tl}:{hd:t,tl:0};0!==e&&ha(e),0!==e&&da(e),Ta("C\n"),Ea(r.children,t+1|0,o),a=c}}}function va(a){return ua.contents="",sa.contents=!1,Ea({hd:a,tl:0},0,0),ua.contents}var pa=e(18),ba=e(2),ya=e(15);function wa(a,t,e){var n=Q(ba.c(e,a),t);return void 0!==n?n:B.f("Index out of bounds")}function _a(a,t,e){return ta.b(ta.b(a,t),e)}function Na(a,t,e,n,c,r,g,o){return[n.contents<1?-1e9:o+ba.c(ba.c(c,e.contents),n.contents-1|0)|0,e.contents<1?-1e9:o+ba.c(ba.c(c,e.contents-1|0),n.contents)|0,e.contents<1||n.contents<1?-1e9:ba.c(ba.c(c,e.contents-1|0),n.contents-1|0)+(ta.a(Q(a,(0>e.contents?0:e.contents)-1|0),Q(t,(0>n.contents?0:n.contents)-1|0))?r:g)|0]}function Ia(a,t,e,n,c,r,g){for(var o=function(a,t,e,n,c){for(var r=X.d(n,c,-1e9),g=0;g<n;++g)ba.d(ba.c(r,g),0,Math.imul(g,e));for(var o=0;o<c;++o)ba.d(ba.c(r,0),o,Math.imul(o,e));return r}(0,0,c,r,g),i=1;i<r;++i)for(var l=1;l<g;++l){var A=Na(a,t,{contents:i},{contents:l},o,e,n,c);ba.d(ba.c(o,i),l,_a(A[0],A[1],A[2]))}return o}function Sa(a,t,e,n,c,r){for(var g={contents:K(a)},o={contents:K(t)},i="",l="";g.contents>0||o.contents>0;){var A=Na(a,t,g,o,e,n,c,r),s=ba.c(ba.c(e,g.contents),o.contents);s===A[2]?(i=aa.b($(a,g.contents-1|0))+i,l=aa.b($(t,o.contents-1|0))+l,g.contents=g.contents-1|0,o.contents=o.contents-1|0):s===A[0]?(i="_"+i,l=aa.b($(t,o.contents-1|0))+l,o.contents=o.contents-1|0):s===A[1]?(l="_"+l,i=aa.b($(a,g.contents-1|0))+i,g.contents=g.contents-1|0):B.f("This should not happen")}return[J(i),J(l)]}function xa(a,t,e,n,c){for(var r=Sa(a,t,Ia(a,t,e,n,c,K(a)+1|0,K(t)+1|0),e,n,c),g=ba.c(r,0),o=ba.c(r,1),i=K(g),l=0,A=0;A<i;++A)ta.a(Q(g,A),95)||ta.a(Q(o,A),95)?l=l-c|0:ta.d(Q(g,A),Q(o,A))&&(l=l+1|0);return l}var ka={contents:!0},Ra={contents:""};function Oa(a){return ka.contents?B.p(a):void(Ra.contents=Ra.contents+aa.b(a))}function Da(a){ka.contents?console.log(a):Ra.contents=Ra.contents+(a+"\n")}function ja(a,t){for(var e=K(a),n=0,c=(e-1|0)/80|0;n<=c;++n){Da(Z(a,Math.imul(80,n),ea.h(e,Math.imul(80,n+1|0))));for(var r=Math.imul(80,n),g=ea.h(e-1|0,Math.imul(80,n+1|0)-1|0);r<=g;++r)ta.a(Q(a,r),Q(t,r))?Oa(42):ta.a(Q(a,r),95)||ta.a(Q(t,r),95)?Oa(32):Oa(124);Da(""),Da(Z(t,Math.imul(80,n),ea.h(e,Math.imul(80,n+1|0)))),Da("")}}function Pa(a,t,e,n){for(var c=a.length,r=pa.b(void 0,c),g=0;g<c;++g)for(var o=g+1|0;o<c;++o)pa.a(r,[g,o],xa(ba.c(a,g),ba.c(a,o),t,e,n));return r}function Xa(a,t){var e=function(a){return a.length}(a);B.q(e);var n=function(a){return K(ba.c(a,0))}(a);B.q(n);for(var c=pa.b(void 0,e),r=0;r<e;++r)for(var g=0,o=r+1|0;o<e;++o){for(var i=0;i<n;++i)B.q(r),95===wa(r,i,a)||95===wa(o,i,a)?g=g+t|0:wa(r,i,a)!==wa(o,i,a)&&(g=g+1|0);pa.a(c,[r,o],g)}return c}function Ha(a){if(0===pa.f(a))return[[0,0],0];var t=[[0,0],B.j];return pa.e((function(a,t,e){return t<e[1]?[a,t]:e}),a,t)}function Fa(a){return Ha(a)[0]}function La(a,t,e){return pa.d(e,[ta.c(a,t),ta.b(a,t)])}function Ba(a,t,e){return a>=t?B.f("invalid input"):function(a,t,e){pa.c((function(t,n){return t[0]===a?(n+La(t[1],a,e))/2:t[1]!==a?n:(n+La(t[0],a,e))/2}),e)}(a,0,e),function(a,t){pa.c((function(t,e){return ta.a(t[0],a)||ta.a(t[1],a)?void 0:ya.a(e)}),t)}(t,e),e}function Ma(a){return 0===pa.f(a)}function Ua(a,t,e,n){var c=ba.c(a,t),r=ba.c(a,e),g=P.a(t,n),o=P.a(e,n);if(void 0!==g){if(void 0!==o){var i=P.h(e,P.h(t,n));return{hd:[t<e?t:e,Aa({hd:g,tl:{hd:o,tl:0}})],tl:i}}var l=P.h(t,n);return{hd:[t<e?t:e,Aa({hd:la(r),tl:{hd:g,tl:0}})],tl:l}}if(void 0===o)return{hd:[t<e?t:e,Aa({hd:la(c),tl:{hd:la(r),tl:0}})],tl:n};var A=P.h(e,n);return{hd:[t<e?t:e,Aa({hd:la(c),tl:{hd:o,tl:0}})],tl:A}}function za(a,t){var e=t.length;if(0===e)return ga;if(1===e)return la(ba.c(t,0));for(var n=a,c=0;;){var r=c,g=n;if(Ma(g)){var o=P.j((function(a){return a[1]}),r);return 1===P.f(o)?P.e(o):P.f(o)>1?Aa(o):B.f("Precondition violated in upgma_help")}var i=Fa(g),l=i[1],A=i[0];c=Ua(t,A,l,r),n=Ba(A,l,g)}}var Va=e(1),qa=e(138),Wa={contents:!0},Ja={contents:""},Ka={contents:B.v};function Ya(a){return Wa.contents?Va.a(qa.a(Ka.contents,{_0:{TAG:2,_0:0,_1:0},_1:"%s"}),a):void(Ja.contents=Ja.contents+a)}function Qa(a){for(var t=1;t<=a;++t)Ya("  ")}function $a(a,t,e,n){return Qa(e),Ya("<"+a),function(a){for(;;){var t=a;if(!t)return;var e=t.tl,n=t.hd,c=0!==e;Ya(n[0]+'="'+n[1]+'"'+(c?" ":"")),a=e}}(t),Ya(n?">\n":">")}function Za(a,t){return Qa(t),Ya("</"+a+">\n")}function at(a,t,e){return Qa(t),Ya("<"+a+">"),Ya(e),Za(a,0)}function tt(a,t,e){if(void 0!==e)return at(a,t,e)}function et(a){return $a("phyloxml",0,0,!0),$a("phylogeny",0,1,!0),0!==a.name.length&&at("name",2,a.name),0!==a.description.length&&at("description",2,a.description),oa(a.tree)||function a(t,e){if(t.TAG)return $a("clade",0,e,!0),tt("name",e+1|0,t.name),""===t.scientific_name&&void 0===t.id||($a("taxonomy",0,e+1|0,!0),""!==t.scientific_name&&at("scientific_name",e+2|0,t.scientific_name),tt("id",e+2|0,t.id),Za("taxonomy",e+1|0)),Za("clade",e);$a("clade",0,e,!0),tt("name",e+1|0,t.name);var n=t.bootstrap;return tt("confidence",e+1|0,void 0!==n?B.x(n):void 0),void 0===t.rank&&void 0===t.id||($a("taxonomy",0,e+1|0,!0),tt("id",e+2|0,t.id),tt("rank",e+2|0,t.rank),Za("taxonomy",e+1|0)),function(t,e){for(;;){var n=t;if(!n)return;a(n.hd,e),t=n.tl}}(t.children,e+1|0),Za("clade",e)}(a.tree,2),Za("phylogeny",1),Za("phyloxml",0)}var nt=T.a.Content;function ct(){var a=Object(n.useState)(""),t=Object(G.a)(a,2),e=t[0],r=t[1],g=Object(n.useState)(!1),o=Object(G.a)(g,2),i=o[0],l=o[1],s=Object(n.useState)(!0),T=Object(G.a)(s,2),C=T[0],p=T[1],b=Object(n.useState)([]),y=Object(G.a)(b,2),P=y[0],X=y[1],H=Object(n.useState)([]),F=Object(G.a)(H,2),L=F[0],B=F[1],M=Object(n.useState)(void 0),U=Object(G.a)(M,2),z=U[0],V=U[1],W=Object(n.useState)(!1),K=Object(G.a)(W,2),Q=K[0],$=K[1],Z=Object(n.useState)(!1),aa=Object(G.a)(Z,2),ta=aa[0],ea=aa[1],na=[">H1N1 PB-2 Genome\nATGGAGAGAATAAAAGAACTAAGAGATTTGATGTCGCAGTCTCGCACTCGCGAGATACTGACAAAAACCACTGTGGACCA\nTATGGCCATAATCAAGAAATATACGTCAGGAAGACAGGAGAAGAATCCTGCTCTTAGGATGAAATGGATGATGGCAATGA\nAATACCCGATTACAGCAGACAAAAGGATAATGGAGATGATCCCTGAGAGAAATGAGCAAGGTCAGACTCTTTGGAGCAAA\nACAAATGATGCTGGATCAGACAGAGTGATGGTATCACCTCTGGCTGTGACGTGGTGGAATAGAAATGGGCCTACGACAAG\nTACAGTCCATTATCCAAAGGTCTATAAAACCTACTTTGAAAAAGTCGAAAGGTTAAAACATGGAACCTTCGGTCCAGTTC\nACTTTCGAAATCAAGTTAAAATACGCCGCAGGGTTGACATAAACCCGGGCCATGCAGATCTCAGTGCTAAAGAAGCACAA\nGATGTCATCATGGAGGTCGTTTTCCCAAATGAGGTCGGAGCCAGGATATTGACATCAGAGTCACAGTTAACAATAACAAA\nGGAAAAGAAGGAGGAGCTTCAGGACTGTAAGATTGCTCCTTTAATGGTGGCATACATGTTGGAGAGAGAACTGGTTCGCA\nAAACCAGATTCCTACCAGTAGCTGGCGGGACAAGCAGCGTGTATATCGAGGTATTACACTTGACTCAAGGGACCTGCTGG\nGAACAAATGTACACACCGGGAGGGGAGGTGAGAAATGATGATGTTGATCAGAGTTTAATTATTGCTGCCAGAAATATTGT\nTAGGAGAGCGACAGTATCAGCAGACCCGTTGGCTTCGCTCTTGGAGATGTGCCATAGTACACAAATTGGCGGGATAAGAA\nTGGTAGACATCCTTAGACAAAACCCAACAGAAGAGCAAGCTGTGGATATATGCAAAGCAGCAATGGGTCTAAGGATCAGT\nTCATCCTTCAGTTTTGGAGGTTTCACTTTCAAAAGGACAAGTGGGTCATCTGTCAAAAGAGAAGAAGAAGTGCTCACAGG\nCAACCTCCAAACATTGAAAATAAGAGTGCATGAAGGATATGAGGAATTCACAATGGTTGGGCGAAGAGCGACAGCCATTC\nTAAGGAAAGCAACCAGAAGGCTGATCCAACTGATAGTGAGTGGGAGAGACGAGCAGTCAATCGCCGAAGCAATCATAGTG\nGCAATGGTGTTCTCACAAGAGGATTGTATGATAAAAGCAGTACGAGGTGATTTGAATTTTGTCAATAGGGCGAACCAGCG\nGCTAAACCCTATGCATCAACTCCTGAGACATTTCCAAAAGGATGCAAAGGTGCTGTTTCAAAACTGGGGGATTGAACCCA\nTTGACAATGTCATGGGGATGATCGGAATATTACCTGACATGACCCCCAGCACAGAGATGTCACTAAGAGGAGTGAGAGTC\nAGCAAAACGGGAGTGGATGAATATTCCAGCACTGAGAGAGTGGTCGTGAGCATTGATCGTTTCTTGAGGGTCCGAGACCA\nGAGGGGAAACGTGCTCTTGTCTCCTGAAGAAGTTAGTGAAACACAGGGAACAGAAAAGCTGACGATAACATATTCATCGT\nCCATGATGTGGGAAATCAATGGCCCGGAATCAGTGCTAGTTAACACATATCAATGGATCATTAGAAATTGGGAGACTGTG\nAAAATTCAGTGGTCCCAAGACCCTACAATGCTATACAATAAGATGGAATTTGAGCCCTTTCAATCCTTGGTGCCTAAGGC\nTGCCAGAGGTCAGTATAGTGGATTTGTGAGGACGCTATTCCAGCAGATGCGTGATGTGCTGGGGACATTTGACACTGTCC\nAGATAATAAAGCTACTACCATTTGCAGCAGCCCCACCGGAACAGAGTAGGATGCAGTTCTCTTCTCTAACTGTGAACGTA\nAGGGGTTCAGGAATGAGAATACTTGTGAGAGGCAACTCCCCTGTGTTCAACTATAACAAGGCAACCAAGAGGCTCACAGT\nCCTTGGAAAGGATGCAGGTGCATTGACAGAAGATCCAGATGAGGGAACAGCAGGAGTGGAATCCGCGGTATTAAGAGGAT\nTTCTAATTCTGGGCAAAGAAGACAAAAGATATGGACCAGCGTTGAGCATCAACGAATTGAGCAATCTTGCAAAAGGGGAG\nAAGGCTAACGTGTTGATAGGGCAAGGAGACGTGGTGTTGGTAATGAAACGGAAACGGGACTCTAGCATACTTACTGACAG\nCCAGACAGCGACCAAAAGAATTCGGATGGCCATCAATTAG ","\n>H3N2 PB-2 Genome\nagcgaaagcaggtcaaatatattcaatatggagagaataaaagaactaagagatttgatgtcgcagtctcgcactcgcga\ngatactgacaaaaaccactgtggaccatatggccataatcaagaaatatacgtcaggaagacaggagaagaaccctgctc\nttaggatgaagtggatgatggcaatgaaatatccgattacagcagacaggaggataatggagatgatccctgaaagaaat\ngagcaaggtcagactctttggagcaaaacgaatgatgctggatcagacagagtgatggtatcgcctctggctgtgacatg\ngtggaatagaaatggaccaacgacaagtacagtccattatccgaaggtctacaaaacctactttgagaaggtcgaaaggt\ntaaagcatggaacctttggtcccgttcactttcggaatcaagttaaaatacgccgcagggttgacataaacccgggccac\ngcagacctcagtgctaaagaagcacaagatgtcatcatggaggtcgttttcccaaacgaagtaggagccaggatattaac\natcagagtcacaattaacaataacaaaagaaaaaaaggaagagctccaagactgtaagattgctcctttgatggtggcat\nacatgttggaaagagaattagttcgcaaaaccagattcctaccggtagctggtgggacaagcagcgtgtatatcgaggtg\nttgcacttgacccaggggacctgccgggaacaaatgtatacaccgggaggagaggtgagaaatgatgatattgatcagag\ntttaattattgctgctagaaatattgtcagaagagcaacagtatcagcagatccattagcttcgctcttggaaatgtgcc\natagcacacaaattggtggaataaggatggtagatattcttaggcaaaatccaacagaagagcaagctgtggatatatgc\naaagcagcaatgggtctgaggatcagttcatccttcagctttggaggtttcactttcaaaaggacaagtggatcatctgt\ncaaaagagaagaagaagtactcacaggcaaccttcagacattgaaaataagagtgcacgaaggatatgaggaatttacaa\ntggtagggcgaagagcaacagccattttaaggaaagcaaccagaaggctgattcaattaatagtgagtggaagagacgag\ncaatcaattgccgaagcaatcatagtggcaatggtgttctcacaagaggattgcatgataaaggcagtccgaggcgattt\ngaattttgtcaacagagcgaaccagcggctgaatcctatgcatcaactcctgaggcacttccagaaggatgcaaaggtgc\ntatttcaaaactggggagttgaacccattgacaatgtcatggggatgatcggaatattacctgacatgacccccagcaca\ngaaatgtcactaaggggagtaagggtcagtaaaatgggagtggatgaatattccagtactgagagagtggtgtgagcat\ntgaccgtttcttgagggtccgagaccagaggggaaatgtgctcttgtctcctgaagaagttagtgaaacacagggaacag\naaaagctgacaataacatattcatcgtccatgatgtgggaaatcaatggcccggaatcagtgctggtcaacacatatcag\ntggatcattagaaactgggaaactgtgaagatccagtggtcccaagaccctacaatgctatacaataagatgaaatttga\ngccttttcaatctttagtgcctaaggctgccagaggccagtatagcggctttgtgaggacgctatttcagcaaatgcgtg\natgtgctgggaacatttgacactgtccagataataaagctactaccatttgcagcagccccgccagaacagagtagaatg\ncagttctcttctctaactgtgaacgtaaggggttcaggaatgagaatacttgtgagaggtaattctcctgtgttcaatta\ntaacaaggcaaccaagaggctcacaatccttggaaaggacgcaggtgcactgactgaagatccagatgaaggaacagcag\ngagtggagtctgcagtattaagaggatttctaattctgggcaaagaagacaaaagatatggaccagcattgagcatcaac\ngaattgagcaatcttgcgaaaggggagaaggctaatgtgttgatagggcaaggagacgtggtgttggtaatgaaacggaa\nacgggactctagcatacttactgacagccagacagcgaccaaaagaattcggatggccatcaattagtgtcgaattgttt\naaaaacgaccttgtttctact\n","\n>H5N1 PB-2 Genome\natggagagaataaaagaattacgagatctaatgtcacagtcccgcactcgcgagatactaacaaaaaccactgtggacca\ntatggccataatcaagaaatacacatcaggaagacaagagaagaaccctgctctcagaatgaaatggatgatggcaatga\naatatccaatcacagcggacaagagaataatagagatgattcctgaaaggaatgaacaagggcagacgctctggagcaag\nacaaatgatgctggatcggacagggtgatggtgtctcccctagctgtaacttggtggaacaggaatgggccggcgacaag\ntgcagttcattatccaaaggtttacaaaacatactttgagaaggttgaaaggttaaaacatggaacctttggtcccgttc\natttccgaaaccaagttaaaatacgccgccgagttgatataaatcctggccatgcagatctcagtgctaaagaagcacaa\ngatgtcatcatggaggtcgttttcccaaatgaagtgggagccagaatattgacatcagagtcgcaattgacaataacgaa\nagagaagaaagaagagctccaagattgtaagattgctcccttaatggttgcatacatgttggaaagggaactagtccgca\naaaccagattcctaccggtagcaggcggaacaagcagtgtgtacattgaggtattgcatttgactcaagggacctgctgg\ngaacagatgtacactccaggcggagaagtgagaaatgacgatgttgaccagagtttgatcatcgctgccagaaacattgt\ntaggagagcaacggtatcagcggatccactggcatcactgctggagatgtgtcacagcacacaaattggtgggataagga\ntggtggacatccttaggcaaaatccaactgaggaacaagctgtggatatatgcaaagcagcaataggtctgaggatcagt\ntcttcctttagctttggaggcttcactttcaaaagaacaagtggatcatccgtcaagaaggaagaggaagtgcttacagg\ncaacctccaaacattgaaaataagagtacatgaggggtatgaggaattcacaatggttgggcggagggcaacagctatcc\ntgaggaaagcaactagaaggctgattcagttgatagtaagtggaagagacgaacaatcaatcgctgaggcaatcattgta\ngcaatggtgttctcacaggaggattgcatgataaaggcagtccgaggcgatctgaatttcgtaaacagagcaaaccaaag\nattaaaccccatgcatcaactcctgagacattttcaaaaggatgcaaaagtgctatttcagaattggggaattgaaccca\nttgataatgtcatggggatgatcggaatattacctgacatgactcccagcacagaaatgtcactgagaggagtaagagtt\nagtaaaatgggagtggatgaatattccagcactgagagagtagttgtaagtattgaccgtttcttaagggttcgagatca\ngcgggggaacgtactcttgtctcccgaagaggtcagcgaaacccagggaacagagaaattgacaataacatattcatcat\ncaatgatgtgggaaatcaacggtcctgagtcagtgcttgttaacacttatcagtggatcatcagaaactgggagactgtg\naagattcaatggtctcaagaccccacgatgctgtacaataagatggagtttgaaccgttccaatccttggtacccaaggc\ntgccagaggtcaatacagtggatttgtgagaacattattccaacaaatgcgtgacgtactggggacatttgatactgtcc\nagataataaagctgctaccatttgcagcagccccaccgaagcagagcagaatgcagttttcttctttaactgtgaatgtg\nagaggctcaggaatgagaatactcgtaaggggcaattcccctgtattcaactataataaggcaaccaaaaggcttaccgt\ntcttggaaaggacgcaggtgcattaacagaggatccagatgaggggacagccggagtggaatctgcagtactgaggggat\ntcttaattctaggcaaggaggacaaaaggtatgggccagcattgagcatcaatgaactgagcaatcttgcgaagggggag\naaagctaatgtgctgatagggcaaggagacgtggtgttggtaatgaaacggaaacgggactctagcatacttactgacag\nccagacagcgaccaaaagaattcggatggccatcaattag "],ca=["H1N1","H3N2","H5N1"],ra=Object(n.useRef)(null),ga=c.a.createElement(R.a,{style:{fontSize:24},spin:!0}),oa=function(a,t){X((function(t){return t.concat(a)})),B((function(a){return a.concat(t)}))},ia=function(){var a=Object(_.a)(w.a.mark((function a(t,e){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{(n=new FileReader).onload=function(){var a=J(n.result);oa(a,e)},n.readAsText(t)}catch(c){console.log(c),console.log("File printing failed")}case 1:case"end":return a.stop()}}),a)})));return function(t,e){return a.apply(this,arguments)}}(),la=function(){window.scrollTo({behavior:"smooth",top:ra.current.offsetTop-15})},Aa=function(){null!==ra.current?la():setTimeout((function(){la()}),1e3)},sa=function(a){return a.split(".").slice(0,-1).join(".").toUpperCase()},ua={accept:".FASTA, .txt, .fasta",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",headers:{authorization:"authorization-text"},multiple:!0,transformFile:function(a){$(!0);var t=sa(a.name);ia(a,t)},onRemove:function(a){var t=sa(a.name);console.log(t);var e=L.indexOf(t);console.log(e),P.splice(e,1),L.splice(e,1),X(P),B(L)}};return c.a.createElement("div",{className:"wrapper"},c.a.createElement(nt,{justify:"center"},c.a.createElement(f.a,{className:"page",justify:"center"},c.a.createElement("div",null,c.a.createElement("h1",null,"Generate a Phylogenetic Tree"),c.a.createElement("h2",null,"By computing similarity scores for DNA samples of species, we can infer their species' evolutionary history through time."),c.a.createElement("h2",null,"Begin by uploading"," ",c.a.createElement(j,{content:c.a.createElement("p",null,"The FASTA format is a way of representing nucleotide sequences. It was popularized by the FASTA software developed by David J. Lipman and William R. Pearson."),vocab:".FASTA",link:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC280013/",linkText:"the original paper on the FASTA program"})," ","files that contain DNA sequences, or use our example DNA sequences."))),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement("h3",{className:"example-text"},"See some examples:")),c.a.createElement(f.a,{className:"centered-content",gutter:[5,5]},c.a.createElement(m.a,{lg:1}),c.a.createElement(m.a,{lg:10,md:12,className:"centered-content"},c.a.createElement(h.default.Group,{onChange:function(a){switch(a.target.value){case"Influenza A Viruses":l(!0),r(d);break;case"COXII":l(!0),r(E);break;case"Virus Capsid":l(!0),console.log(v),r(v)}}},c.a.createElement(h.default.Button,{value:"Virus Capsid"},"Virus Capsid Gene"),c.a.createElement(h.default.Button,{value:"COXII"},"Cytochrome C Oxidase Subunit II"),c.a.createElement(h.default.Button,{value:"Influenza A Viruses"},"Influenza A PB-2"))),c.a.createElement(m.a,{lg:1,md:12},c.a.createElement(N.a,null,c.a.createElement("a",{href:"/phylo-lib-web/examples/FASTA/phylo_examples.zip"},"Download Examples")))),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement("h3",{className:"upload-text"},"Or upload your own FASTA files:")),c.a.createElement(f.a,{className:"horizontally-centered"},c.a.createElement(A.a,{content:c.a.createElement("p",null,"Information on Clustal and UPGMA"),title:"Info",trigger:"click"},c.a.createElement("div",{className:"generate-info"},c.a.createElement(u.a,null))),c.a.createElement(I.a,{checkedChildren:"Clustal",unCheckedChildren:"UPGMA",className:"generate-toggle",defaultChecked:!0,onChange:function(a,t){p(a)}}),c.a.createElement(S.a,ua,c.a.createElement(N.a,null,c.a.createElement(O.a,null)," Upload .FASTA files")),c.a.createElement(N.a,{onClick:function(){ea(!0);var a=Q?L:ca;if(C){var t="",e=new URLSearchParams;e.append("email","vg222@cornell.edu");for(var n="",c=0;c<P.length;c++)n+=">",n+=L[c].split(" ").join("_"),n+="\n",n+=q(P[c]),n+="\n";e.append("sequence",n),e.append("outfmt","fa"),fetch("https://www.ebi.ac.uk/Tools/services/rest/clustalo/run",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e,redirect:"follow"}).then((function(a){return a.text()})).then((function(e){t=e,console.log(t),function e(n){fetch("https://www.ebi.ac.uk/Tools/services/rest/clustalo/status/"+t,{method:"GET",redirect:"follow"}).then((function(a){return a.text()})).then((function(c){if("FINISHED"!==c&&n<50)console.log("querying"),setTimeout(e(n+1),1e3);else{if("FINISHED"!==c)return;console.log(c),fetch("https://www.ebi.ac.uk/Tools/services/rest/clustalo/result/"+t+"/aln-fasta",{method:"GET",redirect:"follow"}).then((function(a){return a.text()})).then((function(t){console.log("got result"),console.log(t);var e=Y(t);console.log("got dnas");var n=e;console.log("got msa");var c=Xa(n,1);console.log("got dist mat");var g=va(za(c,a));r(g),l(!0),ea(!1),Aa()})).catch((function(a){return console.log("error1",a)}))}})).catch((function(a){return console.log("error",a)}))}(0)})).catch((function(a){return console.log("error",a)}))}else setTimeout((function(){var t=va(za(Pa(Q?P:na,1,-1,-1),a));r(t),l(!0),ea(!1),Aa()}),500)},className:"action-button",disabled:0===P.length},"Generate tree"),ta?c.a.createElement(x.a,{className:"spinner",indicator:ga}):null),0===P.length?null:c.a.createElement(f.a,{className:"centered-content"},c.a.createElement(N.a,{onClick:function(){if(Q&&P.length<1)alert("At least one FASTA file must be uploaded for tree generation.");else{var a=Q?L:ca,t=function(a){return Wa.contents=!1,Ja.contents="",et({name:"",description:"",tree:a}),Ja.contents}(za(Pa(Q?P:na,1,-1,-1),a)),e=c.a.createElement("a",{href:"data:text/xml;charset=utf-8,"+encodeURIComponent(t),download:"tree.xml"},"Click to Download");V(e)}}},"Save tree as phyloXML")),void 0!==z?c.a.createElement(f.a,{className:"centered-content"},z,c.a.createElement(N.a,{onClick:function(){return V(void 0)},className:"hide-download"},c.a.createElement(k.a,{title:"Hide Download Link"},c.a.createElement(D.a,{style:{color:"firebrick"}})))):null),i?c.a.createElement(f.a,{justify:"center"},c.a.createElement("div",{className:"ascii-phylo-container",ref:ra},c.a.createElement("p",{className:"ascii-phylo"},e))):null)}var rt=e(17);function gt(a){return"number"!==typeof a||(a>=14?a<17:a<9)}function ot(a){if("number"!==typeof a)return a.TAG?a._0:String(a._0);switch(a){case 0:return"phylogeny";case 1:return"name";case 2:return"description";case 3:return"clade";case 4:return"rank";case 5:return"confidence";case 6:return"taxonomy";case 7:return"scientific_name";case 8:return"id";case 9:return"<";case 10:return"</";case 11:return">";case 12:return"quote";case 13:return"=";case 14:return".";case 15:return"true";case 16:return"false";case 17:return"EOF";case 18:return"Unit"}}var it=pa.b(void 0,16);function lt(a,t){var e;if(t){var n=B.k(a);e=F.b((function(a){try{return B.h(n)}catch(e){var t=U.a(e);if("End_of_file"===t.RE_EXN_ID)return;throw t}}))}else{var c=F.f(a);e=F.b((function(a){try{return function(a,t){for(;;){var e=t,n=F.g(a);if(void 0===n){if(""===e)throw{RE_EXN_ID:"End_of_file",Error:new Error};return e}if(F.d(a),10===n)return e;if(13===n)return e;t=e+aa.b(n)}}(c,"")}catch(e){var t=U.a(e);if("End_of_file"===t.RE_EXN_ID)return;throw t}}))}var r,g=F.g(e);if(void 0===g)return e;try{r=L.h(g,0,5)}catch(i){var o=U.a(i);if("Invalid_argument"===o.RE_EXN_ID)return e;throw o}return"<?xml"!==r||F.d(e),e}function At(a,t){var e=F.g(a);if(void 0!==e){var n;try{n=e}catch(r){var c=U.a(r);if(c.RE_EXN_ID===F.a)return st(t);throw c}return 32!==n?pa.g(it,t)?pa.d(it,t):function(a){return a>=60?a<63:34===a}(e)?{TAG:1,_0:t}:(F.d(a),At(a,t+aa.b(e))):st(t)}return st(t)}function st(a){return pa.g(it,a)?pa.d(it,a):{TAG:1,_0:a}}function ut(a){return!(a>57||a<48)}function Gt(a,t){for(;;){var e=t,n=F.g(a);if(void 0===n)return{TAG:0,_0:rt.i(e)};if(!ut(n))return{TAG:0,_0:rt.i(e)};F.d(a),t=e+aa.b(n)}}function Tt(a){var t;try{t=function(a){var t;try{t=F.e(a)}catch(n){var e=U.a(n);if(e.RE_EXN_ID===F.a)throw{RE_EXN_ID:"End_of_file",Error:new Error};throw e}return F.f(t)}(a)}catch(A){var e=U.a(A);if("End_of_file"===e.RE_EXN_ID)return{hd:17,tl:0};throw e}for(var n=0;;){var c,r=n,g=0;try{c=F.e(t),g=1}catch(s){var o=U.a(s);if(o.RE_EXN_ID===F.a)return P.i(r);if("End_of_file"===o.RE_EXN_ID)return{hd:17,tl:0};throw o}if(1===g){var i=0;if(c>=32){if(46===c){n={hd:14,tl:r};continue}if(c>=60)if(c>=63)i=2;else switch(c-60|0){case 0:var l=F.g(t);if(void 0===l)return P.i({hd:9,tl:r});if(47===l){F.d(t),n={hd:10,tl:r};continue}n={hd:9,tl:r};continue;case 1:n={hd:13,tl:r};continue;case 2:n={hd:11,tl:r};continue}else if(c>=35)i=2;else switch(c-32|0){case 0:continue;case 1:i=2;break;case 2:n={hd:12,tl:r};continue}}else if(c>=11){if(13===c)continue;i=2}else{if(c>=9)continue;i=2}if(2===i){if(ut(c)){n={hd:Gt(t,aa.b(c)),tl:r};continue}n={hd:At(t,aa.b(c)),tl:r};continue}}}}pa.a(it,"phylogeny",0),pa.a(it,"name",1),pa.a(it,"description",2),pa.a(it,"clade",3),pa.a(it,"rank",4),pa.a(it,"confidence",5),pa.a(it,"taxonomy",6),pa.a(it,"scientific_name",7),pa.a(it,"id",8),pa.a(it,"true",15),pa.a(it,"false",16);var ft=M.b("Phylo_parser-PhyloLibWeb.SyntaxError"),mt={name:"",description:"",tree:ga},Ct={name:void 0,rank:void 0,confidence:void 0,taxonomy:void 0};var ht={contents:function(a){return 17}},dt={contents:function(a){return 17}};function Et(a){var t=Va.a(ht.contents,void 0);if(!ta.a(t,a))throw ot(a),ot(t),{RE_EXN_ID:ft,Error:new Error};Va.a(dt.contents,void 0)}function vt(a){for(;;){var t=a,e=Va.a(ht.contents,void 0);if("number"===typeof e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 8:case 14:case 15:break;default:return t}Et(e),a=""===t?ot(e):t+" "+ot(e)}else{if(e.TAG){var n=e._0;if(Et({TAG:1,_0:n}),""!==t){a=t+" "+n;continue}a=n;continue}var c=e._0;if(Et({TAG:0,_0:c}),""!==t){a=t+" "+String(c);continue}a=String(c)}}}function pt(a,t){return void 0!==a?{hd:t,tl:a}:{hd:t,tl:0}}function bt(a){return Et(10),Et(a),Et(11)}function yt(a,t){var e=Va.a(ht.contents,void 0);if("number"===typeof e){if(12===e){Et(12);var n,c=Va.a(ht.contents,void 0);if("number"===typeof c)if(15!==c){if(16!==c)throw{RE_EXN_ID:ft,Error:new Error};Et(16),n={tag_name:a.tag_name,str_attr:a.str_attr,num_attr:a.num_attr,bool_attr:pt(a.bool_attr,[t,!1])}}else Et(15),n={tag_name:a.tag_name,str_attr:a.str_attr,num_attr:a.num_attr,bool_attr:pt(a.bool_attr,[t,!0])};else{var r=vt("");n={tag_name:a.tag_name,str_attr:pt(a.str_attr,[t,r]),num_attr:a.num_attr,bool_attr:a.bool_attr}}return Et(12),n}throw{RE_EXN_ID:ft,Error:new Error}}if(e.TAG)throw{RE_EXN_ID:ft,Error:new Error};var g=e._0;return Et({TAG:0,_0:g}),{tag_name:a.tag_name,str_attr:a.str_attr,num_attr:pt(a.num_attr,[t,g]),bool_attr:a.bool_attr}}function wt(a){Et(9);var t=Va.a(ht.contents,void 0);if(!function(a){if("number"!==typeof a)return 1===a.TAG;switch(a){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:return!0;default:return!1}}(t))throw{RE_EXN_ID:ft,Error:new Error};Et(t);for(var e={tag_name:t,str_attr:void 0,num_attr:void 0,bool_attr:void 0};;){var n=e,c=Va.a(ht.contents,void 0);if(!gt(c)){if("number"===typeof c){if(11!==c)throw{RE_EXN_ID:ft,Error:new Error};return Et(11),n}throw{RE_EXN_ID:ft,Error:new Error}}Et(c),Et(13),e=yt(n,ot(c))}}function _t(a){for(;;){var t=Va.a(ht.contents,void 0);if("number"!==typeof t)Et(t);else{if(9!==t){if(10===t)return bt(a);Et(t);continue}_t(wt().tag_name)}}}function Nt(a){if("number"===typeof Va.a(ht.contents,void 0))throw{RE_EXN_ID:ft,Error:new Error};var t=vt("");return bt(1),t}function It(a){if("number"===typeof Va.a(ht.contents,void 0))throw{RE_EXN_ID:ft,Error:new Error};var t=vt("");return bt(2),t}function St(a){Et(14);var t=Va.a(ht.contents,void 0);if("number"===typeof t)return bt(5),0;if(t.TAG)return bt(5),0;var e=t._0,n=rt.a(String(a)+"."+String(e));return Et({TAG:0,_0:e}),bt(5),n}function xt(a){var t=Va.a(ht.contents,void 0);if("number"===typeof t){if(14===t)return St(0);throw{RE_EXN_ID:ft,Error:new Error}}if(t.TAG)throw{RE_EXN_ID:ft,Error:new Error};var e=t._0;return Et({TAG:0,_0:e}),14===Va.a(ht.contents,void 0)?St(e):(bt(5),e)}function kt(a){if("number"===typeof Va.a(ht.contents,void 0))throw{RE_EXN_ID:ft,Error:new Error};var t=vt("");return bt(8),t}function Rt(a){if("number"===typeof Va.a(ht.contents,void 0))throw{RE_EXN_ID:ft,Error:new Error};var t=vt("");return bt(7),t}function Ot(a){for(;;){var t=a,e=Va.a(ht.contents,void 0);if("number"!==typeof e)throw{RE_EXN_ID:ft,Error:new Error};if(9!==e){if(10!==e)throw{RE_EXN_ID:ft,Error:new Error};return bt(6),t}var n=wt().tag_name;if("number"!==typeof n)_t(n);else{if(7!==n){if(8!==n){_t(n);continue}a={id:kt(),scientific_name:t.scientific_name};continue}a={id:t.id,scientific_name:Rt()}}}}function Dt(a,t){var e=Va.a(ht.contents,void 0);if("number"===typeof e){if(9!==e){if(10!==e)throw{RE_EXN_ID:ft,Error:new Error};if(bt(3),oa(a)){var n=t.taxonomy;if(void 0!==n)return ia(n.scientific_name,n.id,t.name);var c=t.name;return void 0!==c?ia(c,void 0,c):la("Unnamed")}if(a.TAG)return a;var r=t.taxonomy,g=void 0!==r?r.id:void 0;return{TAG:0,clade_id:a.clade_id,children:a.children,bootstrap:t.confidence,rank:t.rank,id:g,name:t.name}}var o=wt().tag_name;if("number"===typeof o)switch(o){case 1:return Dt(a,{name:Nt(),rank:t.rank,confidence:t.confidence,taxonomy:t.taxonomy});case 3:if(oa(a))return Dt(Dt(a,Ct),t);var i=Dt(ga,Ct);return Dt(Aa({hd:a,tl:{hd:i,tl:0}}),t);case 5:return Dt(a,{name:t.name,rank:t.rank,confidence:xt(),taxonomy:t.taxonomy});case 6:return Dt(a,{name:t.name,rank:t.rank,confidence:t.confidence,taxonomy:Ot({id:void 0,scientific_name:"Unnamed"})})}return _t(o),Dt(a,t)}throw{RE_EXN_ID:ft,Error:new Error}}function jt(a){var t=function(a){var t={contents:Tt(a)},e={contents:function(a,t){return 17}};return e.contents=function(n){return n?function(n){var c=t.contents;return c?c.hd:(t.contents=Tt(a),Va.b(e.contents,!0,void 0))}:function(e){var n=t.contents;return n?(t.contents=n.tl,18):(t.contents=Tt(a),18)}},e.contents}(a);ht.contents=Va.a(t,!0),dt.contents=Va.a(t,!1);var e=Va.a(ht.contents,void 0);if("number"===typeof e){if(9===e){var n=wt().tag_name;if("number"===typeof n)throw{RE_EXN_ID:ft,Error:new Error};if(1===n.TAG){if("phyloxml"===n._0){var c=wt().tag_name;if("number"===typeof c){if(0!==c)throw{RE_EXN_ID:ft,Error:new Error};var r=function(a){for(;;){var t=a,e=Va.a(ht.contents,void 0);if("number"!==typeof e)throw{RE_EXN_ID:ft,Error:new Error};if(9!==e){if(10!==e)throw{RE_EXN_ID:ft,Error:new Error};return bt(0),t}var n=wt().tag_name;if("number"===typeof n)if(n>=4)_t(n);else switch(n){case 0:_t(n);continue;case 1:a={name:Nt(),description:t.description,tree:t.tree};continue;case 2:a={name:t.name,description:It(),tree:t.tree};continue;case 3:a={name:t.name,description:t.description,tree:Dt(t.tree,Ct)};continue}else _t(n)}}(mt);return bt({TAG:1,_0:"phyloxml"}),r}throw{RE_EXN_ID:ft,Error:new Error}}throw{RE_EXN_ID:ft,Error:new Error}}throw{RE_EXN_ID:ft,Error:new Error}}if(17===e)return mt;throw{RE_EXN_ID:ft,Error:new Error}}throw{RE_EXN_ID:ft,Error:new Error}}function Pt(a){return jt(function(a){return lt(a,!1)}(a))}var Xt=T.a.Content;function Ht(){var a=Object(n.useState)([]),t=Object(G.a)(a,2),e=t[0],r=t[1],g=Object(n.useState)(void 0),o=Object(G.a)(g,2),i=o[0],l=o[1],s=Object(n.useState)(!1),T=Object(G.a)(s,2),m=T[0],C=T[1],d=Object(n.useState)(""),E=Object(G.a)(d,2),v=E[0],p=E[1],b=Object(n.useState)(""),y=Object(G.a)(b,2),w=y[0],_=y[1],I=Object(n.useRef)(null),x=new FileReader,k=function(a){try{x.onload=function(){var a=va(Pt(x.result).tree);p(a),C(!0),window.scrollTo({behavior:"smooth",top:I.current.offsetTop-15}),I.current.scrollTo({behavior:"smooth",top:1e3})},x.readAsText(a)}catch(t){console.log(t),console.log("File printing failed")}},R={accept:".xml",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:e,headers:{authorization:"authorization-text"},onChange:function(a){r(a.fileList)},transformFile:function(a){r([a]),l(a)}};return c.a.createElement("div",{className:"wrapper"},c.a.createElement(Xt,{justify:"center"},c.a.createElement(f.a,{className:"page",justify:"center",gutter:[16,16]},c.a.createElement("div",null,c.a.createElement("h1",null,"Visualize PhyloXML"),c.a.createElement("h2",null,"Visualize an existing"," ",c.a.createElement(j,{content:c.a.createElement("p",null,"A tree that displays the evolutionary relationships between various organisms."),vocab:"phylogenetic tree",link:"https://www.khanacademy.org/science/high-school-biology/hs-evolution/hs-phylogeny/a/phylogenetic-trees",linkText:"Khan Academy"}),". Begin by uploading a"," ",c.a.createElement(j,{content:c.a.createElement("p",null,"An XML format for describing phylogenetic trees."),vocab:"phyloXML",link:"http://phyloxml.org/",linkText:" the phyloXML website "})," ","file, or use our example files."))),c.a.createElement(f.a,{className:"horizontally-centered"},c.a.createElement(S.a,R,c.a.createElement(N.a,null,c.a.createElement(O.a,null),"Upload PhyloXML Files")),c.a.createElement(N.a,{onClick:function(){e.length<1?alert("At least one phyloXML file must be uploaded for tree visualization."):(_(""),k(i))},className:"action-button"},"Visualize")),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement("p",{className:"example-text"}," See our examples: ")),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement(h.default.Group,{onChange:function(a){var t="/phylo-lib-web/examples/phyloXML/"+a.target.value+".xml";_(a.target.value),fetch(t).then((function(a){return a.blob()})).then((function(a){return k(a)}))},value:w},c.a.createElement(h.default.Button,{value:"amphi_frost"},"Amphibian Phylogeny"),c.a.createElement(h.default.Button,{value:"tol_156"},"The Tree of Life"),c.a.createElement(h.default.Button,{value:"apaf"},"Apaf-1 Gene Family Tree")),c.a.createElement(A.a,{content:c.a.createElement("p",null,"Example files obtained from"," ",c.a.createElement("a",{href:"http://phyloxml.org/",target:"_blank",rel:"noopener noreferrer"},"phyloxml.org"),".",""!==w?c.a.createElement("p",null,"See the phyloXML source for the current tree"," ",c.a.createElement("a",{href:"http://phyloxml.org/archaeopteryx-js/phyloxml_trees/"+w+".xml",target:"_blank",rel:"noopener noreferrer"},"here"),"."):null),title:"Credits",trigger:"click"},c.a.createElement("div",{className:"example-credits"},c.a.createElement(u.a,null)))),m?c.a.createElement(f.a,{justify:"center"},c.a.createElement("div",{className:"ascii-phylo-container",ref:I},c.a.createElement("p",{className:"ascii-phylo"},v))):null))}var Ft=T.a.Content;function Lt(){var a=Object(n.useState)(!1),t=Object(G.a)(a,2),e=t[0],r=t[1],g=Object(n.useState)(""),o=Object(G.a)(g,2),i=o[0],l=o[1],s=Object(n.useState)([]),T=Object(G.a)(s,2),m=T[0],C=T[1],d=Object(n.useState)([]),E=Object(G.a)(d,2),v=E[0],p=E[1],b=Object(n.useState)([]),y=Object(G.a)(b,2),w=y[0],_=y[1],I=Object(n.useState)([]),x=Object(G.a)(I,2),k=x[0],R=x[1],D=Object(n.useRef)(null),P=function(a,t,e){try{var n=new FileReader;n.onload=function(){t.push(J(n.result)),k.length>2&&R(k.slice(-2)),2===t.length&&e&&H(t)},n.readAsText(a)}catch(c){console.log(c),console.log("File printing failed")}},X=function(){window.scrollTo({behavior:"smooth",top:D.current.offsetTop-15})},H=function(a){if(a.length<2)alert("Not enough DNA sequences to perform pairwise alignment");else{var t=function(a,t,e,n,c){var r=K(a)+1|0,g=K(t)+1|0,o=Ia(a,t,e,n,c,r,g),i=ba.c(ba.c(o,r-1|0),g-1|0);return[Sa(a,t,o,e,n,c),i]}(a[0],a[1],1,-1,-1),e=Object(G.a)(t,1)[0],n=(c=e[0],g=e[1],Ra.contents="",ka.contents=!1,ja(c,g),Ra.contents);l(n.trim()),r(!0),null!==D.current?X():setTimeout((function(){X()}),1e3)}var c,g},F={accept:".FASTA, .fasta, .txt",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:w,onChange:function(a){_(a.fileList)},headers:{authorization:"authorization-text"},multiple:!0,onRemove:function(a){k.splice(w.indexOf(a)),R(k)},transformFile:function(a){P(a,k,!1),w.push(a),_(w.slice(-2))}};return c.a.createElement("div",{className:"wrapper"},c.a.createElement(Ft,{justify:"center"},c.a.createElement(f.a,{className:"page",justify:"center",gutter:[16,16]},c.a.createElement("div",null,c.a.createElement("h1",null,"Visualize Pairwise DNA Alignments"),c.a.createElement("h2",null,"Visualize an"," ",c.a.createElement(j,{content:c.a.createElement("p",null,"A DNA sequence alignment arranges DNA to identify regions of similarity, helping reveal evolutionary relations between the sequences.",c.a.createElement("br",null),"A pairwise alignment is an alignment of 2 sequences, and PhyloML utilizes the Needleman-Wunsch algorithm to conduct this alignment."),vocab:"alignment",link:"https://www.sciencedirect.com/science/article/abs/pii/0022283670900574?via%3Dihub",linkText:"the original paper on the Needleman-Wunsch algorithm"})," ","of two DNA sequences. Begin by uploading two"," ",c.a.createElement(j,{content:c.a.createElement("p",null,"The FASTA format is a way of representing nucleotide sequences. It was popularized by the FASTA software developed by David J. Lipman and William R. Pearson."),vocab:".FASTA",link:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC280013/",linkText:"the original paper on the FASTA program"})," ","files, or use our example files."))),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement("h3",{className:"example-text"},"See some examples:")),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement(h.default.Group,{onChange:function(a){C([]);var t=a.target.value.split(",");p(t),t.map((function(a){fetch("/phylo-lib-web/examples/FASTA/"+a+".fasta").then((function(a){return a.blob()})).then((function(a){return P(a,m,!0)}))}))},value:v.join(",")},c.a.createElement(h.default.Button,{value:"h1n1,h3n2"},"H1N1 vs H3N2"),c.a.createElement(h.default.Button,{value:"h5n1,h7n7"},"H5N1 vs H7N7"),c.a.createElement(h.default.Button,{value:"mers,h7n9"},"MERS vs H7N9")),c.a.createElement(A.a,{content:c.a.createElement("div",null,c.a.createElement("p",null,"The pairwise alignment shown is a globally optimum alignment obtained via the Needleman-Wunch algorithm."),c.a.createElement("p",null,"Base pair matches, mismatches and gaps are visualized. A star indicates a pair match, a bar indicates a mismatch, and a blank space indicates a gap."),c.a.createElement("p",null,"Example files obtained from"," ",c.a.createElement("a",{href:"https://www.ncbi.nlm.nih.gov/nuccore/",target:"_blank",rel:"noopener noreferrer"},"NCBI Nucleotide"),".",2===v.length?c.a.createElement("p",null,"See the sources for the current alignment:"," ",c.a.createElement("a",{href:"/phylo-lib-web/examples/FASTA/"+v[0]+".fasta",target:"_blank",rel:"noopener noreferrer"},v[0]+".fasta")," ","and"," ",c.a.createElement("a",{href:"/phylo-lib-web/examples/FASTA/"+v[1]+".fasta",target:"_blank",rel:"noopener noreferrer"},v[1]+".fasta"),"."):null)),title:"Information and Credits",trigger:"hover"},c.a.createElement("div",{className:"example-credits"},c.a.createElement(u.a,null)))),c.a.createElement(f.a,{className:"centered-content"},c.a.createElement("h3",{className:"upload-text"},"Or upload your own FASTA files:")),c.a.createElement(f.a,{className:"horizontally-centered"},c.a.createElement(S.a,F,c.a.createElement(N.a,null,c.a.createElement(O.a,null),"Upload .FASTA Files")),c.a.createElement(N.a,{onClick:function(){H(k),k.length>=2&&(C([]),p([]))},className:"action-button"},"Display Alignment")),e?c.a.createElement(f.a,{justify:"center"},c.a.createElement("div",{className:"ascii-phylo-container",ref:D},c.a.createElement("p",{className:"ascii-phylo"},i))):null))}var Bt=function(a){var t,e=a.useBack,n=c.a.createElement("div",null,c.a.createElement("p",null,"A"," ",c.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Phylogenetic_tree"},"phylogenetic tree")," ","is a tree that shows the evolutionary relationships between species. The structure of these trees can be stored in"," ",c.a.createElement("a",{href:"http://www.phyloxml.org/"},"XML")," files. To see visualizations of such trees, you can click Visualize Phylogenetic Trees."),c.a.createElement("p",null," ","We can also try to predict the structure of phylogenetic trees by looking at the similarities in the DNAs of different species. To know more, you can click Generate Phylogenetic Trees."));return c.a.createElement("header",{className:"site-header"},c.a.createElement(i.b,{className:"site-title",to:"/"},e?c.a.createElement(s.a,{style:{alignSelf:"center",paddingRight:"10px"}}):null,"PhyloML"),c.a.createElement(A.a,(t={className:"clickable",content:n},Object(o.a)(t,"className","tooltip"),Object(o.a)(t,"trigger","click"),t),c.a.createElement("a",{className:"tooltip"}," ",c.a.createElement(u.a,{style:{paddingRight:"0.5em"}}),"Confused by all the terms?")))},Mt=function(a){var t=a.useBack,e=a.body;return c.a.createElement("div",null,c.a.createElement(Bt,{useBack:t}),e)};function Ut(){return c.a.createElement(i.a,null,c.a.createElement("div",null,c.a.createElement(l.c,null,c.a.createElement(l.a,{path:"/generate",component:function(){return c.a.createElement(Mt,{useBack:!0,body:c.a.createElement(ct,null)})}}),c.a.createElement(l.a,{path:"/visualize",component:function(){return c.a.createElement(Mt,{useBack:!0,body:c.a.createElement(Ht,null)})}}),c.a.createElement(l.a,{path:"/pairwise",component:function(){return c.a.createElement(Mt,{useBack:!0,body:c.a.createElement(Lt,null)})}}),c.a.createElement(l.a,{path:"/",component:function(){return c.a.createElement(Mt,{useBack:!1,body:c.a.createElement(b,null)})}}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));g.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Ut,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))},64:function(a,t,e){}},[[141,1,2]]]);
//# sourceMappingURL=main.6457cc22.chunk.js.map