(this["webpackJsonpphylo-lib-web"]=this["webpackJsonpphylo-lib-web"]||[]).push([[0],{169:function(e,t,n){e.exports=n(256)},174:function(e,t,n){},256:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(28),c=n.n(o),i=(n(174),n(115)),l=n(52),u=n(19),s=(n(64),n(262)),f=n(264),m=n(259),v=n(260),h=n(261),d=m.a.Content;function p(){return r.a.createElement("div",{className:"wrapper main"},r.a.createElement(d,{justify:"center"},r.a.createElement(v.a,{className:"intro",justify:"center"},r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to PhyloML"),r.a.createElement("h2",null,"A phylogenetic library written in OCaml."),r.a.createElement("h2",null,"Inferring Evolutionary History through modern genetic similarity."))),r.a.createElement(v.a,{justify:"center",gutter:[16,40]},r.a.createElement(h.a,{lg:7,md:10,sm:12},r.a.createElement(l.b,{className:"offset",to:"/phylo-lib-web/generate"},"Generate Phylogenetic Trees")),r.a.createElement(h.a,{lg:7,md:10,sm:12},r.a.createElement(l.b,{className:"offset",to:"/phylo-lib-web/visualize"},"Visualize Phylogenetic Trees")),r.a.createElement(h.a,{lg:7,md:10,sm:12},r.a.createElement(l.b,{className:"offset",to:"/phylo-lib-web/pairwise"},"Visualize Pairwise DNA Alignments")))))}var b=n(121),y=n.n(b),g=n(145),E=n(26),w=n(258),_=n(124),N=n(257),x=n(263),j=n(39),A=n(17),k=n(34),S=n(9),O=n(25),C=n(1);O.b("Dna-PhyloLibWeb.Empty");function T(e,t){var n=k.e(e);return k.c((function(e){if(function(e){var t=e-84|0;if(!(t>11||t<0))return t>10||t<1;switch(t){case-18:case-16:case-15:case-14:return!1;case-19:case-17:case-13:return!0;default:return!1}}(e))return j.a(t,e)}),n)}function F(e){var t=j.c(128);return T(e,t),t}S.c("unimplemented");var z=j.d;function P(e,t){try{return j.e(e,t)}catch(n){return}}var B=j.e;function H(e,t,n){var a=n-t|0;return j.f(e,t,a)}j.b;var L=n(16),D=n(14),M=n(4),V=n(10),G=n(12);O.b("Tree-PhyloLibWeb.UnknownClade");function U(e){return e.tag?0:[e[0],D.b(D.g(U,e[1]))]}function R(e){return function(e){var t=U(e);return V.a(D.l(G.f,t),D.k(G.f,t))}(e)?e:S.c("clade_ids not unique")}var W={contents:0},q=(W.contents=W.contents+1|0,W.contents),X=M.a(0,[q,0,void 0,void 0,void 0,void 0]);function I(e){return!e.tag&&0===e[1]&&void 0===e[2]&&void 0===e[3]&&void 0===e[4]&&void 0===e[5]}function J(e,t,n){return M.a(1,[e,t,n])}function $(e){return M.a(1,[e,void 0,void 0])}function K(e){return X.tag?S.c("Representation invariant broken"):R(M.a(0,[(W.contents=W.contents+1|0,W.contents),e,void 0,void 0,void 0,void 0]))}var Q={contents:!0},Y={contents:""};function Z(e){return Q.contents?S.l(e):void(Y.contents=Y.contents+L.b(e))}function ee(e){return Q.contents?S.o(e):void(Y.contents=Y.contents+e)}function te(e){return Q.contents?void console.log(e):ee(e+"\n")}function ne(e){for(var t=1;t<=e;++t)Z(32)}function ae(e,t,n){for(;;){var a=t,r=e;if(!r)return;var o=r[1],c=r[0];ne(c===a&&0!==c?1:((c-a|0)<<1)+(0===c||0===a?0:1)|0),0===o?ee(n):Z(124),t=c+1|0,e=o}}function re(e){return ae(D.i(e),0,"|"),te("")}function oe(e){return e?ae(D.i(e),0,"o-"):S.f("ds")}function ce(e,t,n){for(;;){var a=e;if(!a)return;var r=a[1],o=a[0];if(o.tag){0!==n?re(n):S.n(void 0),0!==n&&oe(n);var c=o[2];void 0!==c&&"Unnamed"===o[0]?te(c):te(o[0]),e=r}else{var i=0!==r?[t,n]:n?[t,n[1]]:[t,0];0!==n&&re(n),0!==n&&oe(n),ee("C\n"),ce(o[1],t+1|0,i),e=r}}}function ie(e){return Y.contents="",Q.contents=!1,ce([e,0],0,0),Y.contents}var le=n(13),ue=n(3),se=n(11);var fe=n(42),me=n(21);function ve(e,t,n){return V.c(V.c(e,t),n)}function he(e,t,n,a,r,o,c,i){return[a.contents<1?-1e9:i+ue.c(ue.c(r,n.contents),a.contents-1|0)|0,n.contents<1?-1e9:i+ue.c(ue.c(r,n.contents-1|0),a.contents)|0,n.contents<1||a.contents<1?-1e9:ue.c(ue.c(r,n.contents-1|0),a.contents-1|0)+(V.a(P(e,(0>n.contents?0:n.contents)-1|0),P(t,(0>a.contents?0:a.contents)-1|0))?o:c)|0]}function de(e,t,n,a,r,o,c){for(var i=function(e,t,n,a,r){for(var o=fe.d(a,r,-1e9),c=0;c<a;++c)ue.d(ue.c(o,c),0,me.b(c,n));for(var i=0;i<r;++i)ue.d(ue.c(o,0),i,me.b(i,n));return o}(0,0,r,o,c),l=1;l<o;++l)for(var u=1;u<c;++u){var s=he(e,t,{contents:l},{contents:u},i,n,a,r);ue.d(ue.c(i,l),u,ve(s[0],s[1],s[2]))}return i}function pe(e,t,n,a,r,o){for(var c={contents:z(e)},i={contents:z(t)},l="",u="";c.contents>0||i.contents>0;){var s=he(e,t,c,i,n,a,r,o),f=ue.c(ue.c(n,c.contents),i.contents);f===s[2]?(l=L.b(B(e,c.contents-1|0))+l,u=L.b(B(t,i.contents-1|0))+u,c.contents=c.contents-1|0,i.contents=i.contents-1|0):f===s[0]?(l="_"+l,u=L.b(B(t,i.contents-1|0))+u,i.contents=i.contents-1|0):f===s[1]?(u="_"+u,l=L.b(B(e,c.contents-1|0))+l,c.contents=c.contents-1|0):S.c("This should not happen")}return[F(l),F(u)]}function be(e,t,n,a,r){for(var o=pe(e,t,de(e,t,n,a,r,z(e)+1|0,z(t)+1|0),n,a,r),c=ue.c(o,0),i=ue.c(o,1),l=z(c),u=0,s=0;s<l;++s)V.a(P(c,s),95)||V.a(P(i,s),95)?u=u-r|0:V.e(P(c,s),P(i,s))&&(u=u+1|0);return u}var ye={contents:!0},ge={contents:""};function Ee(e){return ye.contents?S.l(e):void(ge.contents=ge.contents+L.b(e))}function we(e){return ye.contents?void console.log(e):void(ge.contents=ge.contents+(e+"\n"))}function _e(e,t){for(var n=z(e),a=0,r=(n-1|0)/80|0;a<=r;++a){we(H(e,me.b(80,a),G.h(n,me.b(80,a+1|0))));for(var o=me.b(80,a),c=G.h(n-1|0,me.b(80,a+1|0)-1|0);o<=c;++o)V.a(P(e,o),P(t,o))?Ee(42):V.a(P(e,o),95)||V.a(P(t,o),95)?Ee(32):Ee(124);we(""),we(H(t,me.b(80,a),G.h(n,me.b(80,a+1|0)))),we("")}}function Ne(e){if(0===le.f(e))return[[0,0],0];var t=[[0,0],S.g];return le.e((function(e,t,n){return t<n[1]?[e,t]:n}),e,t)}function xe(e){return Ne(e)[0]}function je(e,t,n){return le.d(n,[V.d(e,t),V.c(e,t)])}function Ae(e,t,n){return e>=t?S.c("invalid input"):function(e,t,n){le.c((function(t,a){return t[0]===e?(a+je(t[1],e,n))/2:t[1]!==e?a:(a+je(t[0],e,n))/2}),n)}(e,0,n),function(e,t){le.c((function(t,n){return V.a(t[0],e)||V.a(t[1],e)?void 0:se.a(n)}),t)}(t,n),n}function ke(e){return 0===le.f(e)}function Se(e,t,n,a){var r=ue.c(e,t),o=ue.c(e,n),c=D.a(t,a),i=D.a(n,a);if(void 0!==c){if(void 0!==i){var l=D.h(n,D.h(t,a));return[[t<n?t:n,K([c,[i,0]])],l]}var u=D.h(t,a);return[[t<n?t:n,K([$(o),[c,0]])],u]}if(void 0===i)return[[t<n?t:n,K([$(r),[$(o),0]])],a];var s=D.h(n,a);return[[t<n?t:n,K([$(r),[i,0]])],s]}var Oe=m.a.Content;function Ce(){var e=Object(a.useState)(""),t=Object(E.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(!1),i=Object(E.a)(c,2),l=i[0],u=i[1],s=Object(a.useState)([]),f=Object(E.a)(s,2),m=f[0],h=f[1],d=Object(a.useState)([]),p=Object(E.a)(d,2),b=p[0],j=p[1],A=function(e,t){h((function(t){return t.concat(e)})),j((function(e){return e.concat(t)}))},k=function(){var e=Object(g.a)(y.a.mark((function e(t,n){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(a=new FileReader).onload=function(){var e=F(a.result);console.log(a.result),A(e,n)},a.readAsText(t)}catch(r){console.log(r),console.log("File printing failed")}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O={accept:".FASTA, .txt, .fasta",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",headers:{authorization:"authorization-text"},multiple:!0,transformFile:function(e){var t=e.name.split(".").slice(0,-1).join(".").toUpperCase();k(e,t)}};return r.a.createElement("div",{className:"wrapper"},r.a.createElement(Oe,{justify:"center"},r.a.createElement(v.a,{className:"page",justify:"center"},r.a.createElement("div",null,r.a.createElement("h1",null,"Generate a Phylogenetic Tree"),r.a.createElement("h2",null,"By computing similarity scores for DNA samples of species, we can infer their species' evolutionary history through time. Begin by uploading .FASTA files that contain DNA sequences, or use our example DNA sequences."))),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement(w.a,O,r.a.createElement(_.a,null,r.a.createElement(x.a,null)," Upload .FASTA files")),r.a.createElement(_.a,{onClick:function(){var e=ie(function(e,t){var n=t.length;if(0===n)return X;if(1===n)return $(ue.c(t,0));for(var a=e,r=0;;){var o=r,c=a;if(ke(c)){var i=D.j((function(e){return e[1]}),o);return 1===D.f(i)?D.e(i):D.f(i)>1?K(i):S.c("Precondition violated in upgma_help")}var l=xe(c),u=l[1],s=l[0];r=Se(t,s,u,o),a=Ae(s,u,c)}}(function(e,t,n,a){for(var r=e.length,o=le.b(void 0,r),c=0;c<r;++c)for(var i=c+1|0;i<r;++i)le.a(o,[c,i],be(ue.c(e,c),ue.c(e,i),t,n,a));return o}(m,1,-1,-1),b));console.log(e),o(e),u(!0)}}," Generate tree "))),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement("p",{className:"phylo-example-text"}," See our examples: ")),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement(N.default.Group,{onChange:function(e){switch(e.target.value){case"Influenza A Viruses":u(!0),o("\n\nC\n|\no-SARS\n|\no-C\n  |\n  o-C\n  | |\n  | o-H6N1\n  | |\n  | o-C\n  |   |\n  |   o-H5N1\n  |   |\n  |   o-C\n  |     |\n  |     o-H3N2\n  |     |\n  |     o-C\n  |       |\n  |       o-H7N9\n  |       |\n  |       o-C\n  |         |\n  |         o-H1N1\n  |         |\n  |         o-H7N7\n  |\n  o-C\n    |\n    o-C\n    | |\n    | o-H2N3\n    | |\n    | o-H10N7\n    |\n    o-C\n      |\n      o-H3N1\n      |\n      o-H3N8\n\n")}}},r.a.createElement(N.default.Button,{value:"Coronaviruses"},"Coronaviruses"),r.a.createElement(N.default.Button,{value:"Influenza A Viruses"},"Influenza A Viruses"),r.a.createElement(N.default.Button,{value:"Example 1"},"Apaf-1 Gene Family Tree"),r.a.createElement(N.default.Button,{value:"Example 2"},"Alcohol Dehydrogenases"))),l?r.a.createElement(v.a,{justify:"center"},r.a.createElement("div",{className:"ascii-phylo-container"},r.a.createElement("p",{className:"ascii-phylo"},n))):null)}var Te=n(2),Fe=n(20),ze=n(29);function Pe(e){return"number"!==typeof e||(e>=14?e<17:e<9)}function Be(e){if("number"!==typeof e)return e.tag?e[0]:String(e[0]);switch(e){case 0:return"phylogeny";case 1:return"name";case 2:return"description";case 3:return"clade";case 4:return"rank";case 5:return"confidence";case 6:return"taxonomy";case 7:return"scientific_name";case 8:return"id";case 9:return"<";case 10:return"</";case 11:return">";case 12:return"quote";case 13:return"=";case 14:return".";case 15:return"true";case 16:return"false";case 17:return"EOF";case 18:return"Unit"}}var He=le.b(void 0,16);function Le(e,t){var n;if(t){var a=S.h(e);n=A.b((function(e){try{return S.e(a)}catch(i){if(i===C.c)return;throw i}}))}else{var r=A.f(e);n=A.b((function(e){try{return function(e,t){for(;;){var n=t,a=A.g(e);if(void 0===a){if(""===n)throw C.c;return n}if(A.d(e),10===a)return n;if(13===a)return n;t=n+L.b(a)}}(r,"")}catch(i){if(i===C.c)return;throw i}}))}var o,c=A.g(n);if(void 0===c)return n;try{o=k.d(c,0,5)}catch(l){var i=ze.a(l);if(i[0]===C.e)return n;throw i}return"<?xml"!==o||A.d(n),n}function De(e,t){var n=A.g(e);if(void 0!==n){var a;try{a=n}catch(r){if(r===A.a)return Me(t);throw r}return 32!==a?le.g(He,t)?le.d(He,t):function(e){return e>=60?e<63:34===e}(n)?M.a(1,[t]):(A.d(e),De(e,t+L.b(n))):Me(t)}return Me(t)}function Me(e){return le.g(He,e)?le.d(He,e):M.a(1,[e])}function Ve(e){return!(e>57||e<48)}function Ge(e,t){for(;;){var n=t,a=A.g(e);if(void 0===a)return M.a(0,[Fe.f(n)]);if(!Ve(a))return M.a(0,[Fe.f(n)]);A.d(e),t=n+L.b(a)}}function Ue(e){var t;try{t=function(e){var t;try{t=A.e(e)}catch(n){if(n===A.a)throw C.c;throw n}return A.f(t)}(e)}catch(l){if(l===C.c)return[17,0];throw l}for(var n=0;;){var a,r=n,o=0;try{a=A.e(t),o=1}catch(u){if(u===A.a)return D.i(r);if(u===C.c)return[17,0];throw u}if(1===o){var c=0;if(a>=32){if(46===a){n=[14,r];continue}if(a>=60)if(a>=63)c=2;else switch(a-60|0){case 0:var i=A.g(t);if(void 0===i)return D.i([9,r]);if(47===i){A.d(t),n=[10,r];continue}n=[9,r];continue;case 1:n=[13,r];continue;case 2:n=[11,r];continue}else if(a>=35)c=2;else switch(a-32|0){case 0:continue;case 1:c=2;break;case 2:n=[12,r];continue}}else if(a>=11){if(13===a)continue;c=2}else{if(a>=9)continue;c=2}if(2===c){if(Ve(a)){n=[Ge(t,L.b(a)),r];continue}n=[De(t,L.b(a)),r];continue}}}}le.a(He,"phylogeny",0),le.a(He,"name",1),le.a(He,"description",2),le.a(He,"clade",3),le.a(He,"rank",4),le.a(He,"confidence",5),le.a(He,"taxonomy",6),le.a(He,"scientific_name",7),le.a(He,"id",8),le.a(He,"true",15),le.a(He,"false",16);var Re=O.b("Phylo_parser-PhyloLibWeb.SyntaxError"),We={name:"",description:"",tree:X},qe={name:void 0,rank:void 0,confidence:void 0,taxonomy:void 0};var Xe={contents:function(e){return 17}},Ie={contents:function(e){return 17}};function Je(e){var t=Te.a(Xe.contents,void 0);if(!V.a(t,e))throw Be(e),Be(t),Re;Te.a(Ie.contents,void 0)}function $e(e){for(;;){var t=e,n=Te.a(Xe.contents,void 0);if("number"===typeof n){switch(n){case 1:case 2:case 3:case 4:case 5:case 6:case 8:case 14:case 15:break;default:return t}Je(n),e=""===t?Be(n):t+" "+Be(n)}else{if(n.tag){var a=n[0];if(Je(M.a(1,[a])),""!==t){e=t+" "+a;continue}e=a;continue}var r=n[0];if(Je(M.a(0,[r])),""!==t){e=t+" "+String(r);continue}e=String(r)}}}function Ke(e,t){return void 0!==e?[t,e]:[t,0]}function Qe(e){return Je(10),Je(e),Je(11)}function Ye(e,t){var n=Te.a(Xe.contents,void 0);if("number"===typeof n){if(12===n){Je(12);var a,r=Te.a(Xe.contents,void 0);if("number"===typeof r)if(15!==r){if(16!==r)throw Re;Je(16),a={tag_name:e.tag_name,str_attr:e.str_attr,num_attr:e.num_attr,bool_attr:Ke(e.bool_attr,[t,!1])}}else Je(15),a={tag_name:e.tag_name,str_attr:e.str_attr,num_attr:e.num_attr,bool_attr:Ke(e.bool_attr,[t,!0])};else{var o=$e("");a={tag_name:e.tag_name,str_attr:Ke(e.str_attr,[t,o]),num_attr:e.num_attr,bool_attr:e.bool_attr}}return Je(12),a}throw Re}if(n.tag)throw Re;var c=n[0];return Je(M.a(0,[c])),{tag_name:e.tag_name,str_attr:e.str_attr,num_attr:Ke(e.num_attr,[t,c]),bool_attr:e.bool_attr}}function Ze(e){Je(9);var t=Te.a(Xe.contents,void 0);if(!function(e){if("number"!==typeof e)return 1===e.tag;switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:return!0;default:return!1}}(t))throw Re;Je(t);for(var n={tag_name:t,str_attr:void 0,num_attr:void 0,bool_attr:void 0};;){var a=n,r=Te.a(Xe.contents,void 0);if(!Pe(r)){if("number"===typeof r){if(11!==r)throw Re;return Je(11),a}throw Re}Je(r),Je(13),n=Ye(a,Be(r))}}function et(e){for(;;){var t=Te.a(Xe.contents,void 0);if("number"!==typeof t)Je(t);else{if(9!==t){if(10===t)return Qe(e);Je(t);continue}et(Ze().tag_name)}}}function tt(e){if("number"===typeof Te.a(Xe.contents,void 0))throw Re;var t=$e("");return Qe(1),t}function nt(e){if("number"===typeof Te.a(Xe.contents,void 0))throw Re;var t=$e("");return Qe(2),t}function at(e){Je(14);var t=Te.a(Xe.contents,void 0);if("number"===typeof t)return Qe(5),0;if(t.tag)return Qe(5),0;var n=t[0],a=Fe.a(String(e)+"."+String(n));return Je(M.a(0,[n])),Qe(5),a}function rt(e){var t=Te.a(Xe.contents,void 0);if("number"===typeof t){if(14===t)return at(0);throw Re}if(t.tag)throw Re;var n=t[0];return Je(M.a(0,[n])),14===Te.a(Xe.contents,void 0)?at(n):(Qe(5),n)}function ot(e){if("number"===typeof Te.a(Xe.contents,void 0))throw Re;var t=$e("");return Qe(8),t}function ct(e){if("number"===typeof Te.a(Xe.contents,void 0))throw Re;var t=$e("");return Qe(7),t}function it(e){for(;;){var t=e,n=Te.a(Xe.contents,void 0);if("number"!==typeof n)throw Re;if(9!==n){if(10!==n)throw Re;return Qe(6),t}var a=Ze().tag_name;if("number"!==typeof a)et(a);else{if(7!==a){if(8!==a){et(a);continue}e={id:ot(),scientific_name:t.scientific_name};continue}e={id:t.id,scientific_name:ct()}}}}function lt(e,t){var n=Te.a(Xe.contents,void 0);if("number"===typeof n){if(9!==n){if(10!==n)throw Re;if(Qe(3),I(e)){var a=t.taxonomy;if(void 0!==a)return J(a.scientific_name,a.id,t.name);var r=t.name;return void 0!==r?J(r,void 0,r):$("Unnamed")}if(e.tag)return e;var o=t.taxonomy,c=void 0!==o?o.id:void 0;return M.a(0,[e[0],e[1],t.confidence,t.rank,c,t.name])}var i=Ze().tag_name;if("number"===typeof i)switch(i){case 1:return lt(e,{name:tt(),rank:t.rank,confidence:t.confidence,taxonomy:t.taxonomy});case 3:if(I(e))return lt(lt(e,qe),t);var l=lt(X,qe);return lt(K([e,[l,0]]),t);case 5:return lt(e,{name:t.name,rank:t.rank,confidence:rt(),taxonomy:t.taxonomy});case 6:return lt(e,{name:t.name,rank:t.rank,confidence:t.confidence,taxonomy:it({id:void 0,scientific_name:"Unnamed"})})}return et(i),lt(e,t)}throw Re}function ut(e){var t=function(e){var t={contents:Ue(e)},n={contents:function(e,t){return 17}};return n.contents=function(a){return a?function(a){var r=t.contents;return r?r[0]:(t.contents=Ue(e),Te.b(n.contents,!0,void 0))}:function(n){var a=t.contents;return a?(t.contents=a[1],18):(t.contents=Ue(e),18)}},n.contents}(e);Xe.contents=Te.a(t,!0),Ie.contents=Te.a(t,!1);var n=Te.a(Xe.contents,void 0);if("number"===typeof n){if(9===n){var a=Ze().tag_name;if("number"===typeof a)throw Re;if(1===a.tag){if("phyloxml"===a[0]){var r=Ze().tag_name;if("number"===typeof r){if(0!==r)throw Re;var o=function(e){for(;;){var t=e,n=Te.a(Xe.contents,void 0);if("number"!==typeof n)throw Re;if(9!==n){if(10!==n)throw Re;return Qe(0),t}var a=Ze().tag_name;if("number"===typeof a)if(a>=4)et(a);else switch(a){case 0:et(a);continue;case 1:e={name:tt(),description:t.description,tree:t.tree};continue;case 2:e={name:t.name,description:nt(),tree:t.tree};continue;case 3:e={name:t.name,description:t.description,tree:lt(t.tree,qe)};continue}else et(a)}}(We);return Qe(M.a(1,["phyloxml"])),o}throw Re}throw Re}throw Re}if(17===n)return We;throw Re}throw Re}function st(e){return ut(function(e){return Le(e,!1)}(e))}var ft=m.a.Content;function mt(){var e=Object(a.useState)(!1),t=Object(E.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),i=Object(E.a)(c,2),l=i[0],u=i[1],m=Object(a.useState)(""),h=Object(E.a)(m,2),d=h[0],p=h[1],b=Object(a.useState)([]),y=Object(E.a)(b,2),g=y[0],j=y[1],A=new FileReader,k=function(e){try{A.onload=function(){var e=ie(st(A.result).tree);u(e),o(!0)},A.readAsText(e)}catch(t){console.log(t),console.log("File printing failed")}},S={accept:".xml",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:g,headers:{authorization:"authorization-text"},transformFile:function(e){j([e]),k(e)}};return r.a.createElement("div",{className:"wrapper"},r.a.createElement(ft,{justify:"center"},r.a.createElement(v.a,{className:"page",justify:"center",gutter:[16,16]},r.a.createElement("div",null,r.a.createElement("h1",null,"Visualize PhyloXML"),r.a.createElement("h2",null,"Visualize an existing phylogenetic tree. Begin by uploading a phyloXML file, or use our example files."))),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement(w.a,S,r.a.createElement(_.a,null,r.a.createElement(x.a,null),"Upload PhyloXML Files"))),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement("p",{className:"phylo-example-text"}," See our examples: ")),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement(N.default.Group,{onChange:function(e){var t="/phylo-lib-web/examples/phyloXML/"+e.target.value+".xml";p(e.target.value),fetch(t).then((function(e){return e.blob()})).then((function(e){return k(e)}))}},r.a.createElement(N.default.Button,{value:"amphi_frost"},"Amphibian Phylogeny"),r.a.createElement(N.default.Button,{value:"tol_156"},"The Tree of Life"),r.a.createElement(N.default.Button,{value:"apaf"},"Apaf-1 Gene Family Tree"),r.a.createElement(N.default.Button,{value:"adh"},"Alcohol Dehydrogenases")),r.a.createElement(s.a,{content:r.a.createElement("p",null,"Example files obtained from"," ",r.a.createElement("a",{href:"http://phyloxml.org/",target:"_blank",rel:"noopener noreferrer"},"phyloxml.org"),".",""!==d?r.a.createElement("p",null,"See the phyloXML source for the current tree"," ",r.a.createElement("a",{href:"adh"!==d?"http://phyloxml.org/archaeopteryx-js/phyloxml_trees/"+d+".xml":"http://www.phyloxml.org/examples/adh.xml",target:"_blank",rel:"noopener noreferrer"},"here"),"."):null),title:"Credits",trigger:"click"},r.a.createElement("div",{className:"phylo-example-credits"},r.a.createElement(f.a,null)))),n?r.a.createElement(v.a,{justify:"center"},r.a.createElement("div",{className:"ascii-phylo-container"},r.a.createElement("p",{className:"ascii-phylo"},l))):null))}var vt=m.a.Content;function ht(){var e=Object(a.useState)(!1),t=Object(E.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),i=Object(E.a)(c,2),l=i[0],u=i[1],s=Object(a.useState)([]),f=Object(E.a)(s,2),m=f[0],h=f[1],d=Object(a.useState)([]),p=Object(E.a)(d,2),b=p[0],y=p[1],g=Object(a.useState)([]),j=Object(E.a)(g,2),A=j[0],k=j[1],S=function(e,t,n){try{var a=new FileReader;a.onload=function(){t.push(F(a.result)),A.length>2&&k(A.slice(-2)),2===t.length&&n&&O(t)},a.readAsText(e)}catch(r){console.log(r),console.log("File printing failed")}},O=function(e){if(e.length<2)alert("Not enough DNA sequences to perform pairwise alignment");else{var t=function(e,t,n,a,r){var o=z(e)+1|0,c=z(t)+1|0,i=de(e,t,n,a,r,o,c),l=ue.c(ue.c(i,o-1|0),c-1|0);return[pe(e,t,i,n,a,r),l]}(e[0],e[1],1,-1,-1),n=Object(E.a)(t,1)[0],a=(r=n[0],c=n[1],ge.contents="",ye.contents=!1,_e(r,c),ge.contents);u(a.trim()),o(!0)}var r,c},C={accept:".FASTA, .fasta, .txt",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:b,headers:{authorization:"authorization-text"},multiple:!0,transformFile:function(e){S(e,A,!1),b.push(e),y(b.slice(-2))}};return r.a.createElement("div",{className:"wrapper"},r.a.createElement(vt,{justify:"center"},r.a.createElement(v.a,{className:"page",justify:"center",gutter:[16,16]},r.a.createElement("div",null,r.a.createElement("h1",null,"Visualize Pairwise DNA Alignments"),r.a.createElement("h2",null,"Visualize an alignment of two DNA sequences. Begin by uploading two .FASTA files, or use our example files."))),r.a.createElement(v.a,{className:"horizontally-centered"},r.a.createElement(w.a,C,r.a.createElement(_.a,null,r.a.createElement(x.a,null),"Upload .FASTA Files")),r.a.createElement(_.a,{onClick:function(){return O(A)}},"Display Alignment")),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement("p",{className:"phylo-example-text"}," See our examples: ")),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement(N.default.Group,{onChange:function(e){h([]),e.target.value.split(",").map((function(e){fetch("/phylo-lib-web/examples/FASTA/"+e+".fasta").then((function(e){return e.blob()})).then((function(e){return S(e,m,!0)}))}))}},r.a.createElement(N.default.Button,{value:"h1n1,h3n2"},"H1N1 vs H3N2"),r.a.createElement(N.default.Button,{value:"h3n2,h5n1"},"H5N1 vs H7N7"),r.a.createElement(N.default.Button,{value:"mers,sars"},"SARS vs MERS"))),n?r.a.createElement(v.a,{justify:"center"},r.a.createElement("div",{className:"ascii-phylo-container"},r.a.createElement("p",{className:"ascii-phylo"},l))):null))}var dt=function(){var e,t=r.a.createElement("div",null,r.a.createElement("p",null,"A ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Phylogenetic_tree"},"phylogenetic tree")," is a tree that shows the evolutionary relationships between species. The structure of these trees can be stored in ",r.a.createElement("a",{href:"http://www.phyloxml.org/"},"XML")," files. To see visualizations of such trees, you can click Visualize Phylogenetic Trees."),r.a.createElement("p",null," We can also try to predict the structure of phylogenetic trees by looking at the similarities in the DNAs of different species. To know more, you can click Generate Phylogenetic Trees."));return r.a.createElement("header",{className:"site-header"},r.a.createElement(l.b,{className:"site-title",to:"/phylo-lib-web/"},"PhyloML"),r.a.createElement(s.a,(e={className:"clickable",content:t},Object(i.a)(e,"className","tooltip"),Object(i.a)(e,"trigger","click"),e),r.a.createElement("a",{className:"tooltip"}," ",r.a.createElement(f.a,{style:{paddingRight:"0.5em"}}),"Confused by all the terms?")))};function pt(){return r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(dt,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/phylo-lib-web/generate"},r.a.createElement(Ce,null)),r.a.createElement(u.a,{path:"/phylo-lib-web/visualize"},r.a.createElement(mt,null)),r.a.createElement(u.a,{path:"/phylo-lib-web/pairwise"},r.a.createElement(ht,null)),r.a.createElement(u.a,{path:"/phylo-lib-web/"},r.a.createElement(p,null)),r.a.createElement(u.a,{path:"/"},r.a.createElement(p,null)))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(pt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},64:function(e,t,n){}},[[169,1,2]]]);
//# sourceMappingURL=main.7c5cc1b1.chunk.js.map