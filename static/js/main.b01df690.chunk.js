(this["webpackJsonpphylo-lib-web"]=this["webpackJsonpphylo-lib-web"]||[]).push([[0],{157:function(e,t,n){e.exports=n(240)},162:function(e,t,n){},240:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),c=n.n(o),i=(n(162),n(22)),u=(n(61),n(246)),l=n(249),s=n(248),f=r.a.createContext(),m=n(243),v=n(244),d=n(245),h=m.a.Content;function p(){var e=r.a.useContext(f),t=e.goVisualizePhylo,n=e.goGeneratePhylo,a=e.goPairwise;return r.a.createElement("div",{className:"wrapper main"},r.a.createElement(h,{justify:"center"},r.a.createElement(v.a,{className:"intro",justify:"center",gutter:[16,16]},r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to PhyloML"),r.a.createElement("h2",null,"A phylogenetic library written in OCaml."),r.a.createElement("h2",null,"Inferring Evolutionary History through modern genetic similarity."))),r.a.createElement(v.a,{justify:"center",gutter:[16,40]},r.a.createElement(d.a,{lg:7,md:10,sm:12},r.a.createElement("div",{className:"wrap"},r.a.createElement("button",{className:"offset",onClick:n},"Generate Phylogenetic Trees"))),r.a.createElement(d.a,{lg:7,md:10,sm:12},r.a.createElement("div",{className:"wrap"},r.a.createElement("button",{className:"offset",onClick:t},"Visualize Phylogenetic Trees"))),r.a.createElement(d.a,{lg:7,md:10,sm:12},r.a.createElement("div",{className:"wrap"},r.a.createElement("button",{className:"offset",onClick:a},"Visualize Pairwise DNA Alignments"))))))}var y=n(111),g=n.n(y),E=n(133),b=n(242),w=n(114),_=n(241),x=n(247),N=n(36),j=n(17),A=n(32),O=n(9),S=n(25),k=n(1);S.b("Dna-PhyloLibWeb.Empty");function P(e,t){var n=A.e(e);return A.c((function(e){if(function(e){var t=e-84|0;if(!(t>11||t<0))return t>10||t<1;switch(t){case-18:case-16:case-15:case-14:return!1;case-19:case-17:case-13:return!0;default:return!1}}(e))return N.a(t,e)}),n)}function C(e){var t=N.c(128);return P(e,t),t}var T=N.d;function F(e,t){try{return N.e(e,t)}catch(n){return}}var L=N.e;function B(e,t,n){var a=n-t|0;return N.f(e,t,a)}N.b;var z=n(16),H=n(14),M=n(4),V=n(10),G=n(12);S.b("Tree-PhyloLibWeb.UnknownClade");function I(e){return e.tag?0:[e[0],H.b(H.g(I,e[1]))]}function R(e){return function(e){var t=I(e);return V.a(H.l(G.f,t),H.k(G.f,t))}(e)?e:O.c("clade_ids not unique")}var D={contents:0},U=(D.contents=D.contents+1|0,D.contents),W=M.a(0,[U,0,void 0,void 0,void 0,void 0]);function q(e){return!e.tag&&0===e[1]&&void 0===e[2]&&void 0===e[3]&&void 0===e[4]&&void 0===e[5]}function X(e,t,n){return M.a(1,[e,t,n])}function Y(e){return M.a(1,[e,void 0,void 0])}function J(e){return W.tag?O.c("Representation invariant broken"):R(M.a(0,[(D.contents=D.contents+1|0,D.contents),e,void 0,void 0,void 0,void 0]))}var Z={contents:!0},$={contents:""};function K(e){return Z.contents?O.l(e):void($.contents=$.contents+z.b(e))}function Q(e){return Z.contents?O.o(e):void($.contents=$.contents+e)}function ee(e){return Z.contents?void console.log(e):Q(e+"\n")}function te(e){for(var t=1;t<=e;++t)K(32)}function ne(e,t,n){for(;;){var a=t,r=e;if(!r)return;var o=r[1],c=r[0];te(c===a&&0!==c?1:((c-a|0)<<1)+(0===c||0===a?0:1)|0),0===o?Q(n):K(124),t=c+1|0,e=o}}function ae(e){return ne(H.i(e),0,"|"),ee("")}function re(e){return e?ne(H.i(e),0,"o-"):O.f("ds")}function oe(e,t,n){for(;;){var a=e;if(!a)return;var r=a[1],o=a[0];if(o.tag){0!==n?ae(n):O.n(void 0),0!==n&&re(n);var c=o[2];void 0!==c&&"Unnamed"===o[0]?ee(c):ee(o[0]),e=r}else{var i=0!==r?[t,n]:n?[t,n[1]]:[t,0];0!==n&&ae(n),0!==n&&re(n),Q("C\n"),oe(o[1],t+1|0,i),e=r}}}function ce(e){return $.contents="",Z.contents=!1,oe([e,0],0,0),$.contents}var ie=n(13),ue=n(3),le=n(11);var se=n(39),fe=n(20);function me(e,t,n){return V.c(V.c(e,t),n)}function ve(e,t,n,a,r,o,c,i){return[a.contents<1?-1e9:i+ue.c(ue.c(r,n.contents),a.contents-1|0)|0,n.contents<1?-1e9:i+ue.c(ue.c(r,n.contents-1|0),a.contents)|0,n.contents<1||a.contents<1?-1e9:ue.c(ue.c(r,n.contents-1|0),a.contents-1|0)+(V.a(F(e,(0>n.contents?0:n.contents)-1|0),F(t,(0>a.contents?0:a.contents)-1|0))?o:c)|0]}function de(e,t,n,a,r,o,c){for(var i=function(e,t,n,a,r){for(var o=se.d(a,r,-1e9),c=0;c<a;++c)ue.d(ue.c(o,c),0,fe.b(c,n));for(var i=0;i<r;++i)ue.d(ue.c(o,0),i,fe.b(i,n));return o}(0,0,r,o,c),u=1;u<o;++u)for(var l=1;l<c;++l){var s=ve(e,t,{contents:u},{contents:l},i,n,a,r);ue.d(ue.c(i,u),l,me(s[0],s[1],s[2]))}return i}function he(e,t,n,a,r,o){for(var c={contents:T(e)},i={contents:T(t)},u="",l="";c.contents>0||i.contents>0;){var s=ve(e,t,c,i,n,a,r,o),f=ue.c(ue.c(n,c.contents),i.contents);f===s[2]?(u=z.b(L(e,c.contents-1|0))+u,l=z.b(L(t,i.contents-1|0))+l,c.contents=c.contents-1|0,i.contents=i.contents-1|0):f===s[0]?(u="_"+u,l=z.b(L(t,i.contents-1|0))+l,i.contents=i.contents-1|0):f===s[1]?(l="_"+l,u=z.b(L(e,c.contents-1|0))+u,c.contents=c.contents-1|0):O.c("This should not happen")}return[C(u),C(l)]}function pe(e,t,n,a,r){for(var o=he(e,t,de(e,t,n,a,r,T(e)+1|0,T(t)+1|0),n,a,r),c=ue.c(o,0),i=ue.c(o,1),u=T(c),l=0,s=0;s<u;++s)V.a(F(c,s),95)||V.a(F(i,s),95)?l=l-r|0:V.e(F(c,s),F(i,s))&&(l=l+1|0);return l}var ye={contents:!0},ge={contents:""};function Ee(e){return ye.contents?O.l(e):void(ge.contents=ge.contents+z.b(e))}function be(e){return ye.contents?void console.log(e):void(ge.contents=ge.contents+(e+"\n"))}function we(e,t){for(var n=T(e),a=0,r=(n-1|0)/80|0;a<=r;++a){be(B(e,fe.b(80,a),G.h(n,fe.b(80,a+1|0))));for(var o=fe.b(80,a),c=G.h(n-1|0,fe.b(80,a+1|0)-1|0);o<=c;++o)V.a(F(e,o),F(t,o))?Ee(42):V.a(F(e,o),95)||V.a(F(t,o),95)?Ee(32):Ee(124);be(""),be(B(t,fe.b(80,a),G.h(n,fe.b(80,a+1|0)))),be("")}}function _e(e){if(0===ie.f(e))return[[0,0],0];var t=[[0,0],O.g];return ie.e((function(e,t,n){return t<n[1]?[e,t]:n}),e,t)}function xe(e){return _e(e)[0]}function Ne(e,t,n){return ie.d(n,[V.d(e,t),V.c(e,t)])}function je(e,t,n){return e>=t?O.c("invalid input"):function(e,t,n){ie.c((function(t,a){return t[0]===e?(a+Ne(t[1],e,n))/2:t[1]!==e?a:(a+Ne(t[0],e,n))/2}),n)}(e,0,n),function(e,t){ie.c((function(t,n){return V.a(t[0],e)||V.a(t[1],e)?void 0:le.a(n)}),t)}(t,n),n}function Ae(e){return 0===ie.f(e)}function Oe(e,t,n,a){var r=ue.c(e,t),o=ue.c(e,n),c=H.a(t,a),i=H.a(n,a);if(void 0!==c){if(void 0!==i){var u=H.h(n,H.h(t,a));return[[t<n?t:n,J([c,[i,0]])],u]}var l=H.h(t,a);return[[t<n?t:n,J([Y(o),[c,0]])],l]}if(void 0===i)return[[t<n?t:n,J([Y(r),[Y(o),0]])],a];var s=H.h(n,a);return[[t<n?t:n,J([Y(r),[i,0]])],s]}var Se=m.a.Content,ke=[],Pe=[],Ce=function(){var e=Object(E.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(a=new FileReader).onload=function(){var e=C(a.result);ke.push(e),Pe.push(n)},a.readAsText(t)}catch(r){console.log(r),console.log("File printing failed")}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Te=function(e){e.target.value};function Fe(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=(t[0],t[1],Object(a.useState)(!1)),o=Object(i.a)(n,2),c=o[0],u=o[1],l=Object(a.useState)(""),s=Object(i.a)(l,2),f=s[0],m=s[1],d=Object(a.useState)(!1),h=Object(i.a)(d,2),p=h[0],y=h[1],g={accept:".FASTA, .txt, .fasta",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",disabled:c,headers:{authorization:"authorization-text"},multiple:!0,transformFile:function(e){var t=e.name.split(".").slice(0,-1).join(".").toUpperCase();Ce(e,t)}};return r.a.createElement("div",{className:"wrapper"},r.a.createElement(Se,{justify:"center"},r.a.createElement(v.a,{className:"page",justify:"center"},r.a.createElement("div",null,r.a.createElement("h1",null,"Generate a Phylogenetic Tree"),r.a.createElement("h2",null,"By computing similarity scores for DNA samples of species, we can infer their species' evolutionary history through time. Begin by uploading .FASTA files that contain DNA sequences, or use our example DNA sequences."))),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement(b.a,g,r.a.createElement(w.a,null,r.a.createElement(x.a,null)," Upload .FASTA files")),r.a.createElement(w.a,{onClick:function(){u(!0);var e=function(e,t){var n=t.length;if(0===n)return W;if(1===n)return Y(ue.c(t,0));for(var a=e,r=0;;){var o=r,c=a;if(Ae(c)){var i=H.j((function(e){return e[1]}),o);return 1===H.f(i)?H.e(i):H.f(i)>1?J(i):O.c("Precondition violated in upgma_help")}var u=xe(c),l=u[1],s=u[0];r=Oe(t,s,l,o),a=je(s,l,c)}}(function(e,t,n,a){for(var r=e.length,o=ie.b(void 0,r),c=0;c<r;++c)for(var i=c+1|0;i<r;++i)ie.a(o,[c,i],pe(ue.c(e,c),ue.c(e,i),t,n,a));return o}(ke,1,-1,-1),Pe);console.log(ce(e)),m(ce(e)),y(!0)}}," Generate tree "))),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement("p",{className:"phylo-example-text"}," See our examples: ")),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement(_.default.Group,{onChange:Te,defaultValue:"phyloXML examples"},r.a.createElement(_.default.Button,{value:"Coronaviruses"},"Coronaviruses"),r.a.createElement(_.default.Button,{value:"Influenza A Viruses"},"Influenza A Viruses"),r.a.createElement(_.default.Button,{value:"Example 1"},"Apaf-1 Gene Family Tree"),r.a.createElement(_.default.Button,{value:"Example 2"},"Alcohol Dehydrogenases"))),p?r.a.createElement(v.a,{justify:"center"},r.a.createElement("div",{className:"ascii-phylo-container"},r.a.createElement("p",{className:"ascii-phylo"},f))):null)}var Le=n(2),Be=n(19),ze=n(28);function He(e){return"number"!==typeof e||(e>=14?e<17:e<9)}function Me(e){if("number"!==typeof e)return e.tag?e[0]:String(e[0]);switch(e){case 0:return"phylogeny";case 1:return"name";case 2:return"description";case 3:return"clade";case 4:return"rank";case 5:return"confidence";case 6:return"taxonomy";case 7:return"scientific_name";case 8:return"id";case 9:return"<";case 10:return"</";case 11:return">";case 12:return"quote";case 13:return"=";case 14:return".";case 15:return"true";case 16:return"false";case 17:return"EOF";case 18:return"Unit"}}var Ve=ie.b(void 0,16);function Ge(e,t){var n;if(t){var a=O.h(e);n=j.b((function(e){try{return O.e(a)}catch(i){if(i===k.c)return;throw i}}))}else{var r=j.f(e);n=j.b((function(e){try{return function(e,t){for(;;){var n=t,a=j.g(e);if(void 0===a){if(""===n)throw k.c;return n}if(j.d(e),10===a)return n;if(13===a)return n;t=n+z.b(a)}}(r,"")}catch(i){if(i===k.c)return;throw i}}))}var o,c=j.g(n);if(void 0===c)return n;try{o=A.d(c,0,5)}catch(u){var i=ze.a(u);if(i[0]===k.e)return n;throw i}return"<?xml"!==o||j.d(n),n}function Ie(e,t){var n=j.g(e);if(void 0!==n){var a;try{a=n}catch(r){if(r===j.a)return Re(t);throw r}return 32!==a?ie.g(Ve,t)?ie.d(Ve,t):function(e){return e>=60?e<63:34===e}(n)?M.a(1,[t]):(j.d(e),Ie(e,t+z.b(n))):Re(t)}return Re(t)}function Re(e){return ie.g(Ve,e)?ie.d(Ve,e):M.a(1,[e])}function De(e){return!(e>57||e<48)}function Ue(e,t){for(;;){var n=t,a=j.g(e);if(void 0===a)return M.a(0,[Be.f(n)]);if(!De(a))return M.a(0,[Be.f(n)]);j.d(e),t=n+z.b(a)}}function We(e){var t;try{t=function(e){var t;try{t=j.e(e)}catch(n){if(n===j.a)throw k.c;throw n}return j.f(t)}(e)}catch(u){if(u===k.c)return[17,0];throw u}for(var n=0;;){var a,r=n,o=0;try{a=j.e(t),o=1}catch(l){if(l===j.a)return H.i(r);if(l===k.c)return[17,0];throw l}if(1===o){var c=0;if(a>=32){if(46===a){n=[14,r];continue}if(a>=60)if(a>=63)c=2;else switch(a-60|0){case 0:var i=j.g(t);if(void 0===i)return H.i([9,r]);if(47===i){j.d(t),n=[10,r];continue}n=[9,r];continue;case 1:n=[13,r];continue;case 2:n=[11,r];continue}else if(a>=35)c=2;else switch(a-32|0){case 0:continue;case 1:c=2;break;case 2:n=[12,r];continue}}else if(a>=11){if(13===a)continue;c=2}else{if(a>=9)continue;c=2}if(2===c){if(De(a)){n=[Ue(t,z.b(a)),r];continue}n=[Ie(t,z.b(a)),r];continue}}}}ie.a(Ve,"phylogeny",0),ie.a(Ve,"name",1),ie.a(Ve,"description",2),ie.a(Ve,"clade",3),ie.a(Ve,"rank",4),ie.a(Ve,"confidence",5),ie.a(Ve,"taxonomy",6),ie.a(Ve,"scientific_name",7),ie.a(Ve,"id",8),ie.a(Ve,"true",15),ie.a(Ve,"false",16);var qe=S.b("Phylo_parser-PhyloLibWeb.SyntaxError"),Xe={name:"",description:"",tree:W},Ye={name:void 0,rank:void 0,confidence:void 0,taxonomy:void 0};var Je={contents:function(e){return 17}},Ze={contents:function(e){return 17}};function $e(e){var t=Le.a(Je.contents,void 0);if(!V.a(t,e))throw Me(e),Me(t),qe;Le.a(Ze.contents,void 0)}function Ke(e){for(;;){var t=e,n=Le.a(Je.contents,void 0);if("number"===typeof n){switch(n){case 1:case 2:case 3:case 4:case 5:case 6:case 8:case 14:case 15:break;default:return t}$e(n),e=""===t?Me(n):t+" "+Me(n)}else{if(n.tag){var a=n[0];if($e(M.a(1,[a])),""!==t){e=t+" "+a;continue}e=a;continue}var r=n[0];if($e(M.a(0,[r])),""!==t){e=t+" "+String(r);continue}e=String(r)}}}function Qe(e,t){return void 0!==e?[t,e]:[t,0]}function et(e){return $e(10),$e(e),$e(11)}function tt(e,t){var n=Le.a(Je.contents,void 0);if("number"===typeof n){if(12===n){$e(12);var a,r=Le.a(Je.contents,void 0);if("number"===typeof r)if(15!==r){if(16!==r)throw qe;$e(16),a={tag_name:e.tag_name,str_attr:e.str_attr,num_attr:e.num_attr,bool_attr:Qe(e.bool_attr,[t,!1])}}else $e(15),a={tag_name:e.tag_name,str_attr:e.str_attr,num_attr:e.num_attr,bool_attr:Qe(e.bool_attr,[t,!0])};else{var o=Ke("");a={tag_name:e.tag_name,str_attr:Qe(e.str_attr,[t,o]),num_attr:e.num_attr,bool_attr:e.bool_attr}}return $e(12),a}throw qe}if(n.tag)throw qe;var c=n[0];return $e(M.a(0,[c])),{tag_name:e.tag_name,str_attr:e.str_attr,num_attr:Qe(e.num_attr,[t,c]),bool_attr:e.bool_attr}}function nt(e){$e(9);var t=Le.a(Je.contents,void 0);if(!function(e){if("number"!==typeof e)return 1===e.tag;switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:return!0;default:return!1}}(t))throw qe;$e(t);for(var n={tag_name:t,str_attr:void 0,num_attr:void 0,bool_attr:void 0};;){var a=n,r=Le.a(Je.contents,void 0);if(!He(r)){if("number"===typeof r){if(11!==r)throw qe;return $e(11),a}throw qe}$e(r),$e(13),n=tt(a,Me(r))}}function at(e){for(;;){var t=Le.a(Je.contents,void 0);if("number"!==typeof t)$e(t);else{if(9!==t){if(10===t)return et(e);$e(t);continue}at(nt().tag_name)}}}function rt(e){if("number"===typeof Le.a(Je.contents,void 0))throw qe;var t=Ke("");return et(1),t}function ot(e){if("number"===typeof Le.a(Je.contents,void 0))throw qe;var t=Ke("");return et(2),t}function ct(e){$e(14);var t=Le.a(Je.contents,void 0);if("number"===typeof t)return et(5),0;if(t.tag)return et(5),0;var n=t[0],a=Be.a(String(e)+"."+String(n));return $e(M.a(0,[n])),et(5),a}function it(e){var t=Le.a(Je.contents,void 0);if("number"===typeof t){if(14===t)return ct(0);throw qe}if(t.tag)throw qe;var n=t[0];return $e(M.a(0,[n])),14===Le.a(Je.contents,void 0)?ct(n):(et(5),n)}function ut(e){if("number"===typeof Le.a(Je.contents,void 0))throw qe;var t=Ke("");return et(8),t}function lt(e){if("number"===typeof Le.a(Je.contents,void 0))throw qe;var t=Ke("");return et(7),t}function st(e){for(;;){var t=e,n=Le.a(Je.contents,void 0);if("number"!==typeof n)throw qe;if(9!==n){if(10!==n)throw qe;return et(6),t}var a=nt().tag_name;if("number"!==typeof a)at(a);else{if(7!==a){if(8!==a){at(a);continue}e={id:ut(),scientific_name:t.scientific_name};continue}e={id:t.id,scientific_name:lt()}}}}function ft(e,t){var n=Le.a(Je.contents,void 0);if("number"===typeof n){if(9!==n){if(10!==n)throw qe;if(et(3),q(e)){var a=t.taxonomy;if(void 0!==a)return X(a.scientific_name,a.id,t.name);var r=t.name;return void 0!==r?X(r,void 0,r):Y("Unnamed")}if(e.tag)return e;var o=t.taxonomy,c=void 0!==o?o.id:void 0;return M.a(0,[e[0],e[1],t.confidence,t.rank,c,t.name])}var i=nt().tag_name;if("number"===typeof i)switch(i){case 1:return ft(e,{name:rt(),rank:t.rank,confidence:t.confidence,taxonomy:t.taxonomy});case 3:if(q(e))return ft(ft(e,Ye),t);var u=ft(W,Ye);return ft(J([e,[u,0]]),t);case 5:return ft(e,{name:t.name,rank:t.rank,confidence:it(),taxonomy:t.taxonomy});case 6:return ft(e,{name:t.name,rank:t.rank,confidence:t.confidence,taxonomy:st({id:void 0,scientific_name:"Unnamed"})})}return at(i),ft(e,t)}throw qe}function mt(e){var t=function(e){var t={contents:We(e)},n={contents:function(e,t){return 17}};return n.contents=function(a){return a?function(a){var r=t.contents;return r?r[0]:(t.contents=We(e),Le.b(n.contents,!0,void 0))}:function(n){var a=t.contents;return a?(t.contents=a[1],18):(t.contents=We(e),18)}},n.contents}(e);Je.contents=Le.a(t,!0),Ze.contents=Le.a(t,!1);var n=Le.a(Je.contents,void 0);if("number"===typeof n){if(9===n){var a=nt().tag_name;if("number"===typeof a)throw qe;if(1===a.tag){if("phyloxml"===a[0]){var r=nt().tag_name;if("number"===typeof r){if(0!==r)throw qe;var o=function(e){for(;;){var t=e,n=Le.a(Je.contents,void 0);if("number"!==typeof n)throw qe;if(9!==n){if(10!==n)throw qe;return et(0),t}var a=nt().tag_name;if("number"===typeof a)if(a>=4)at(a);else switch(a){case 0:at(a);continue;case 1:e={name:rt(),description:t.description,tree:t.tree};continue;case 2:e={name:t.name,description:ot(),tree:t.tree};continue;case 3:e={name:t.name,description:t.description,tree:ft(t.tree,Ye)};continue}else at(a)}}(Xe);return et(M.a(1,["phyloxml"])),o}throw qe}throw qe}throw qe}if(17===n)return Xe;throw qe}throw qe}function vt(e){return mt(function(e){return Ge(e,!1)}(e))}var dt=m.a.Content;function ht(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),l=Object(i.a)(c,2),f=l[0],m=l[1],d=Object(a.useState)(""),h=Object(i.a)(d,2),p=h[0],y=h[1],g=Object(a.useState)([]),E=Object(i.a)(g,2),N=E[0],j=E[1],A=new FileReader,O=function(e){try{A.onload=function(){var e=ce(vt(A.result).tree);m(e),o(!0)},A.readAsText(e)}catch(t){console.log(t),console.log("File printing failed")}},S={accept:".xml",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:N,headers:{authorization:"authorization-text"},transformFile:function(e){j([e]),O(e)}};return r.a.createElement("div",{className:"wrapper"},r.a.createElement(dt,{justify:"center"},r.a.createElement(v.a,{className:"page",justify:"center",gutter:[16,16]},r.a.createElement("div",null,r.a.createElement("h1",null,"Visualize PhyloXML"),r.a.createElement("h2",null,"Visualize an existing phylogenetic tree. Begin by uploading a phyloXML file, or use our example files."))),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement(b.a,S,r.a.createElement(w.a,null,r.a.createElement(x.a,null),"Upload PhyloXML Files"))),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement("p",{className:"phylo-example-text"}," See our examples: ")),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement(_.default.Group,{onChange:function(e){var t="/phylo-lib-web/examples/phyloXML/"+e.target.value+".xml";y(e.target.value),fetch(t).then((function(e){return e.blob()})).then((function(e){return O(e)}))}},r.a.createElement(_.default.Button,{value:"amphi_frost"},"Amphibian Phylogeny"),r.a.createElement(_.default.Button,{value:"tol_156"},"The Tree of Life"),r.a.createElement(_.default.Button,{value:"apaf"},"Apaf-1 Gene Family Tree"),r.a.createElement(_.default.Button,{value:"adh"},"Alcohol Dehydrogenases")),r.a.createElement(u.a,{content:r.a.createElement("p",null,"Example files obtained from"," ",r.a.createElement("a",{href:"http://phyloxml.org/",target:"_blank",rel:"noopener noreferrer"},"phyloxml.org"),".",""!==p?r.a.createElement("p",null,"See the phyloXML source for the current tree"," ",r.a.createElement("a",{href:"adh"!==p?"http://phyloxml.org/archaeopteryx-js/phyloxml_trees/"+p+".xml":"http://www.phyloxml.org/examples/adh.xml",target:"_blank",rel:"noopener noreferrer"},"here"),"."):null),title:"Credits",trigger:"click"},r.a.createElement("div",{className:"phylo-example-credits"},r.a.createElement(s.a,null)))),n?r.a.createElement(v.a,{justify:"center"},r.a.createElement("div",{className:"ascii-phylo-container"},r.a.createElement("p",{className:"ascii-phylo"},f))):null))}var pt=m.a.Content;function yt(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),u=Object(i.a)(c,2),l=u[0],s=u[1],f=Object(a.useState)([]),m=Object(i.a)(f,2),d=m[0],h=m[1],p=Object(a.useState)([]),y=Object(i.a)(p,2),g=y[0],E=y[1],N=Object(a.useState)([]),j=Object(i.a)(N,2),A=j[0],O=j[1],S=function(e,t,n){try{var a=new FileReader;a.onload=function(){t.push(C(a.result)),A.length>2&&O(A.slice(-2)),2==t.length&&n&&k(t)},a.readAsText(e)}catch(r){console.log(r),console.log("File printing failed")}},k=function(e){if(e.length<2)alert("Not enough DNA sequences to perform pairwise alignment");else{var t=function(e,t,n,a,r){var o=T(e)+1|0,c=T(t)+1|0,i=de(e,t,n,a,r,o,c),u=ue.c(ue.c(i,o-1|0),c-1|0);return[he(e,t,i,n,a,r),u]}(e[0],e[1],1,-1,-1),n=Object(i.a)(t,1)[0],a=(r=n[0],c=n[1],ge.contents="",ye.contents=!1,we(r,c),ge.contents);s(a.trim()),o(!0)}var r,c},P={accept:".FASTA, .fasta, .txt",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:g,headers:{authorization:"authorization-text"},multiple:!0,transformFile:function(e){S(e,A,!1),g.push(e),E(g.slice(-2))}};return r.a.createElement("div",{className:"wrapper"},r.a.createElement(pt,{justify:"center"},r.a.createElement(v.a,{className:"page",justify:"center",gutter:[16,16]},r.a.createElement("div",null,r.a.createElement("h1",null,"Visualize Pairwise DNA Alignments"),r.a.createElement("h2",null,"Visualize an alignment of two DNA sequences. Begin by uploading two .FASTA files, or use our example files."))),r.a.createElement(v.a,{className:"horizontally-centered"},r.a.createElement(b.a,P,r.a.createElement(w.a,null,r.a.createElement(x.a,null),"Upload .FASTA Files")),r.a.createElement(w.a,{onClick:function(){return k(A)}},"Display Alignment")),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement("p",{className:"phylo-example-text"}," See our examples: ")),r.a.createElement(v.a,{className:"centered-content"},r.a.createElement(_.default.Group,{onChange:function(e){h([]),e.target.value.split(",").map((function(e){fetch("/phylo-lib-web/examples/FASTA/"+e+".fasta").then((function(e){return e.blob()})).then((function(e){return S(e,d,!0)}))}))}},r.a.createElement(_.default.Button,{value:"h1n1,h3n2"},"H1N1 vs H3N2"),r.a.createElement(_.default.Button,{value:"h3n2,h5n1"},"H5N1 vs H7N7"),r.a.createElement(_.default.Button,{value:"mers,sars"},"SARS vs MERS"))),n?r.a.createElement(v.a,{justify:"center"},r.a.createElement("div",{className:"ascii-phylo-container"},r.a.createElement("p",{className:"ascii-phylo"},l))):null))}var gt=function(e){var t=e.useBack,n=r.a.useContext(f).goHome,a=r.a.createElement("div",null,r.a.createElement("p",null,"Content"),r.a.createElement("p",null,"Content"));return r.a.createElement("header",{className:"site-header"},r.a.createElement("button",{className:"site-title",onClick:n},t?r.a.createElement(l.a,{style:{alignSelf:"center",paddingRight:"10px"}}):null,"PhyloML"),r.a.createElement(u.a,{content:a,className:"tooltip",title:"Title",trigger:"click"},r.a.createElement("a",{className:"tooltip"}," ",r.a.createElement(s.a,{style:{paddingRight:"0.5em"}}),"Confused by all the terms?")))},Et=function(){var e=Object(a.useState)("HOME"),t=Object(i.a)(e,2),n=t[0],o=t[1],c=r.a.useMemo((function(){return{goHome:function(){o("HOME")},goVisualizePhylo:function(){o("VISUALIZE_PHYLO")},goGeneratePhylo:function(){o("GENERATE_PHYLO")},goPairwise:function(){o("PAIRWISE")}}}),[]),u=function(){switch(n){case"HOME":return r.a.createElement(p,null);case"VISUALIZE_PHYLO":return r.a.createElement(ht,null);case"GENERATE_PHYLO":return r.a.createElement(Fe,null);case"PAIRWISE":return r.a.createElement(yt,null);default:return null}};return r.a.createElement(f.Provider,{value:c},r.a.createElement(gt,{useBack:"HOME"!==n}),r.a.createElement(u,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Et,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,n){}},[[157,1,2]]]);
//# sourceMappingURL=main.b01df690.chunk.js.map